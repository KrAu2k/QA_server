!(function(){var Hn=Object.defineProperty,_n=Object.defineProperties;var qn=Object.getOwnPropertyDescriptors;var Jn=Object.getOwnPropertySymbols;var jn=Object.prototype.hasOwnProperty,tr=Object.prototype.propertyIsEnumerable;var Ln=Math.pow,Kn=(G,tt,i)=>tt in G?Hn(G,tt,{enumerable:!0,configurable:!0,writable:!0,value:i}):G[tt]=i,pn=(G,tt)=>{for(var i in tt||(tt={}))jn.call(tt,i)&&Kn(G,i,tt[i]);if(Jn)for(var i of Jn(tt))tr.call(tt,i)&&Kn(G,i,tt[i]);return G},$n=(G,tt)=>_n(G,qn(tt));var de=(G,tt,i)=>Kn(G,typeof tt!="symbol"?tt+"":tt,i);(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[556],{90494:function(G,tt){"use strict";var i="*",s=function(){function I(){this._events={}}return I.prototype.on=function(y,D,v){return this._events[y]||(this._events[y]=[]),this._events[y].push({callback:D,once:!!v}),this},I.prototype.once=function(y,D){return this.on(y,D,!0)},I.prototype.emit=function(y){for(var D=this,v=[],E=1;E<arguments.length;E++)v[E-1]=arguments[E];var p=this._events[y]||[],c=this._events[i]||[],r=function(o){for(var a=o.length,h=0;h<a;h++)if(o[h]){var l=o[h],x=l.callback,Y=l.once;Y&&(o.splice(h,1),o.length===0&&delete D._events[y],a--,h--),x.apply(D,v)}};r(p),r(c)},I.prototype.off=function(y,D){if(!y)this._events={};else if(!D)delete this._events[y];else{for(var v=this._events[y]||[],E=v.length,p=0;p<E;p++)v[p].callback===D&&(v.splice(p,1),E--,p--);v.length===0&&delete this._events[y]}return this},I.prototype.getEvents=function(){return this._events},I}();tt.Z=s},72137:function(G,tt,i){"use strict";i.d(tt,{k:function(){return E}});var s=i(90494);function I(p,c,r,o){for(;p.length;){const a=p.shift();if(r(a))return!0;c.add(a.id),o(a.id).forEach(l=>{c.has(l.id)||(c.add(l.id),p.push(l))})}return!1}function y(p,c,r,o){if(r(p))return!0;c.add(p.id);for(const h of o(p.id))if(!c.has(h.id)&&y(h,c,r,o))return!0;return!1}const D=()=>!0;class v{constructor(c){de(this,"graph");de(this,"nodeFilter");de(this,"edgeFilter");de(this,"cacheEnabled");de(this,"inEdgesMap",new Map);de(this,"outEdgesMap",new Map);de(this,"bothEdgesMap",new Map);de(this,"allNodesMap",new Map);de(this,"allEdgesMap",new Map);de(this,"clearCache",()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()});de(this,"refreshCache",()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(c=>c.id))});de(this,"updateCache",c=>{const r=new Set;c.forEach(o=>{const a=this.bothEdgesMap.get(o);if(a&&a.forEach(h=>r.add(h.id)),!this.hasNode(o))this.inEdgesMap.delete(o),this.outEdgesMap.delete(o),this.bothEdgesMap.delete(o),this.allNodesMap.delete(o);else{const h=this.graph.getRelatedEdges(o,"in").filter(this.edgeFilter),l=this.graph.getRelatedEdges(o,"out").filter(this.edgeFilter),x=Array.from(new Set([...h,...l]));x.forEach(Y=>r.add(Y.id)),this.inEdgesMap.set(o,h),this.outEdgesMap.set(o,l),this.bothEdgesMap.set(o,x),this.allNodesMap.set(o,this.graph.getNode(o))}}),r.forEach(o=>{this.hasEdge(o)?this.allEdgesMap.set(o,this.graph.getEdge(o)):this.allEdgesMap.delete(o)})});de(this,"handleGraphChanged",c=>{const r=new Set;c.changes.forEach(o=>{switch(o.type){case"NodeAdded":r.add(o.value.id);break;case"NodeDataUpdated":r.add(o.id);break;case"EdgeAdded":r.add(o.value.source),r.add(o.value.target);break;case"EdgeUpdated":(o.propertyName==="source"||o.propertyName==="target")&&(r.add(o.oldValue),r.add(o.newValue));break;case"EdgeDataUpdated":if(c.graph.hasEdge(o.id)){const a=c.graph.getEdge(o.id);r.add(a.source),r.add(a.target)}break;case"EdgeRemoved":r.add(o.value.source),r.add(o.value.target);break;case"NodeRemoved":r.add(o.value.id);break;default:break}}),this.updateCache(r)});this.graph=c.graph;const r=c.nodeFilter||D,o=c.edgeFilter||D;this.nodeFilter=r,this.edgeFilter=a=>{const{source:h,target:l}=this.graph.getEdgeDetail(a.id);return!r(h)||!r(l)?!1:o(a,h,l)},c.cache==="auto"?(this.cacheEnabled=!0,this.startAutoCache()):c.cache==="manual"?this.cacheEnabled=!0:this.cacheEnabled=!1}startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}checkNodeExistence(c){this.getNode(c)}hasNode(c){if(!this.graph.hasNode(c))return!1;const r=this.graph.getNode(c);return this.nodeFilter(r)}areNeighbors(c,r){return this.checkNodeExistence(c),this.getNeighbors(r).some(o=>o.id===c)}getNode(c){const r=this.graph.getNode(c);if(!this.nodeFilter(r))throw new Error("Node not found for id: "+c);return r}getRelatedEdges(c,r){return this.checkNodeExistence(c),this.cacheEnabled?r==="in"?this.inEdgesMap.get(c):r==="out"?this.outEdgesMap.get(c):this.bothEdgesMap.get(c):this.graph.getRelatedEdges(c,r).filter(this.edgeFilter)}getDegree(c,r){return this.getRelatedEdges(c,r).length}getSuccessors(c){const o=this.getRelatedEdges(c,"out").map(a=>this.getNode(a.target));return Array.from(new Set(o))}getPredecessors(c){const o=this.getRelatedEdges(c,"in").map(a=>this.getNode(a.source));return Array.from(new Set(o))}getNeighbors(c){const r=this.getPredecessors(c),o=this.getSuccessors(c);return Array.from(new Set([...r,...o]))}hasEdge(c){if(!this.graph.hasEdge(c))return!1;const r=this.graph.getEdge(c);return this.edgeFilter(r)}getEdge(c){const r=this.graph.getEdge(c);if(!this.edgeFilter(r))throw new Error("Edge not found for id: "+c);return r}getEdgeDetail(c){const r=this.getEdge(c);return{edge:r,source:this.getNode(r.source),target:this.getNode(r.target)}}hasTreeStructure(c){return this.graph.hasTreeStructure(c)}getRoots(c){return this.graph.getRoots(c).filter(this.nodeFilter)}getChildren(c,r){return this.checkNodeExistence(c),this.graph.getChildren(c,r).filter(this.nodeFilter)}getParent(c,r){this.checkNodeExistence(c);const o=this.graph.getParent(c,r);return!o||!this.nodeFilter(o)?null:o}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(c,r,o="out"){const a={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[o];I([this.getNode(c)],new Set,r,a)}dfs(c,r,o="out"){const a={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[o];y(this.getNode(c),new Set,r,a)}}class E extends s.Z{constructor(r){super();de(this,"nodeMap",new Map);de(this,"edgeMap",new Map);de(this,"inEdgesMap",new Map);de(this,"outEdgesMap",new Map);de(this,"bothEdgesMap",new Map);de(this,"treeIndices",new Map);de(this,"changes",[]);de(this,"batchCount",0);de(this,"onChanged",()=>{});de(this,"batch",r=>{this.batchCount+=1,r(),this.batchCount-=1,this.batchCount||this.commit()});r&&(r.nodes&&this.addNodes(r.nodes),r.edges&&this.addEdges(r.edges),r.tree&&this.addTree(r.tree),r.onChanged&&(this.onChanged=r.onChanged))}commit(){const r=this.changes;this.changes=[];const o={graph:this,changes:r};this.emit("changed",o),this.onChanged(o)}reduceChanges(r){let o=[];return r.forEach(a=>{switch(a.type){case"NodeRemoved":{let h=!1;o=o.filter(l=>{if(l.type==="NodeAdded"){const x=l.value.id===a.value.id;return x&&(h=!0),!x}else{if(l.type==="NodeDataUpdated")return l.id!==a.value.id;if(l.type==="TreeStructureChanged")return l.nodeId!==a.value.id}return!0}),h||o.push(a);break}case"EdgeRemoved":{let h=!1;o=o.filter(l=>{if(l.type==="EdgeAdded"){const x=l.value.id===a.value.id;return x&&(h=!0),!x}else if(l.type==="EdgeDataUpdated"||l.type==="EdgeUpdated")return l.id!==a.value.id;return!0}),h||o.push(a);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const h=o.findIndex(x=>x.type===a.type&&x.id===a.id&&(a.propertyName===void 0||x.propertyName===a.propertyName)),l=o[h];l?a.propertyName!==void 0?l.newValue=a.newValue:(o.splice(h,1),o.push(a)):o.push(a);break}case"TreeStructureDetached":{o=o.filter(h=>h.type==="TreeStructureAttached"||h.type==="TreeStructureChanged"?h.treeKey!==a.treeKey:!0),o.push(a);break}case"TreeStructureChanged":{const h=o.find(l=>l.type==="TreeStructureChanged"&&l.treeKey===a.treeKey&&l.nodeId===a.nodeId);h?h.newParentId=a.newParentId:o.push(a);break}default:o.push(a);break}}),o}checkNodeExistence(r){this.getNode(r)}hasNode(r){return this.nodeMap.has(r)}areNeighbors(r,o){return this.getNeighbors(o).some(a=>a.id===r)}getNode(r){const o=this.nodeMap.get(r);if(!o)throw new Error("Node not found for id: "+r);return o}getRelatedEdges(r,o){if(this.checkNodeExistence(r),o==="in"){const a=this.inEdgesMap.get(r);return Array.from(a)}else if(o==="out"){const a=this.outEdgesMap.get(r);return Array.from(a)}else{const a=this.bothEdgesMap.get(r);return Array.from(a)}}getDegree(r,o){return this.getRelatedEdges(r,o).length}getSuccessors(r){const a=this.getRelatedEdges(r,"out").map(h=>this.getNode(h.target));return Array.from(new Set(a))}getPredecessors(r){const a=this.getRelatedEdges(r,"in").map(h=>this.getNode(h.source));return Array.from(new Set(a))}getNeighbors(r){const o=this.getPredecessors(r),a=this.getSuccessors(r);return Array.from(new Set([...o,...a]))}doAddNode(r){if(this.hasNode(r.id))throw new Error("Node already exists: "+r.id);this.nodeMap.set(r.id,r),this.inEdgesMap.set(r.id,new Set),this.outEdgesMap.set(r.id,new Set),this.bothEdgesMap.set(r.id,new Set),this.treeIndices.forEach(o=>{o.childrenMap.set(r.id,new Set)}),this.changes.push({type:"NodeAdded",value:r})}addNodes(r){this.batch(()=>{for(const o of r)this.doAddNode(o)})}addNode(r){this.addNodes([r])}doRemoveNode(r){const o=this.getNode(r),a=this.bothEdgesMap.get(r);a==null||a.forEach(h=>this.doRemoveEdge(h.id)),this.nodeMap.delete(r),this.treeIndices.forEach(h=>{var x,Y;(x=h.childrenMap.get(r))==null||x.forEach($=>{h.parentMap.delete($.id)});const l=h.parentMap.get(r);l&&((Y=h.childrenMap.get(l.id))==null||Y.delete(o)),h.parentMap.delete(r),h.childrenMap.delete(r)}),this.bothEdgesMap.delete(r),this.inEdgesMap.delete(r),this.outEdgesMap.delete(r),this.changes.push({type:"NodeRemoved",value:o})}removeNodes(r){this.batch(()=>{r.forEach(o=>this.doRemoveNode(o))})}removeNode(r){this.removeNodes([r])}updateNodeDataProperty(r,o,a){const h=this.getNode(r);this.batch(()=>{const l=h.data[o],x=a;h.data[o]=x,this.changes.push({type:"NodeDataUpdated",id:r,propertyName:o,oldValue:l,newValue:x})})}mergeNodeData(r,o){this.batch(()=>{Object.entries(o).forEach(([a,h])=>{this.updateNodeDataProperty(r,a,h)})})}updateNodeData(...r){const o=r[0],a=this.getNode(o);if(typeof r[1]=="string"){this.updateNodeDataProperty(o,r[1],r[2]);return}let h;if(typeof r[1]=="function"){const l=r[1];h=l(a.data)}else typeof r[1]=="object"&&(h=r[1]);this.batch(()=>{const l=a.data,x=h;a.data=h,this.changes.push({type:"NodeDataUpdated",id:o,oldValue:l,newValue:x})})}checkEdgeExistence(r){if(!this.hasEdge(r))throw new Error("Edge not found for id: "+r)}hasEdge(r){return this.edgeMap.has(r)}getEdge(r){return this.checkEdgeExistence(r),this.edgeMap.get(r)}getEdgeDetail(r){const o=this.getEdge(r);return{edge:o,source:this.getNode(o.source),target:this.getNode(o.target)}}doAddEdge(r){if(this.hasEdge(r.id))throw new Error("Edge already exists: "+r.id);this.checkNodeExistence(r.source),this.checkNodeExistence(r.target),this.edgeMap.set(r.id,r);const o=this.inEdgesMap.get(r.target),a=this.outEdgesMap.get(r.source),h=this.bothEdgesMap.get(r.source),l=this.bothEdgesMap.get(r.target);o.add(r),a.add(r),h.add(r),l.add(r),this.changes.push({type:"EdgeAdded",value:r})}addEdges(r){this.batch(()=>{for(const o of r)this.doAddEdge(o)})}addEdge(r){this.addEdges([r])}doRemoveEdge(r){const o=this.getEdge(r),a=this.outEdgesMap.get(o.source),h=this.inEdgesMap.get(o.target),l=this.bothEdgesMap.get(o.source),x=this.bothEdgesMap.get(o.target);a.delete(o),h.delete(o),l.delete(o),x.delete(o),this.edgeMap.delete(r),this.changes.push({type:"EdgeRemoved",value:o})}removeEdges(r){this.batch(()=>{r.forEach(o=>this.doRemoveEdge(o))})}removeEdge(r){this.removeEdges([r])}updateEdgeSource(r,o){const a=this.getEdge(r);this.checkNodeExistence(o);const h=a.source,l=o;this.outEdgesMap.get(h).delete(a),this.bothEdgesMap.get(h).delete(a),this.outEdgesMap.get(l).add(a),this.bothEdgesMap.get(l).add(a),a.source=o,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:r,propertyName:"source",oldValue:h,newValue:l})})}updateEdgeTarget(r,o){const a=this.getEdge(r);this.checkNodeExistence(o);const h=a.target,l=o;this.inEdgesMap.get(h).delete(a),this.bothEdgesMap.get(h).delete(a),this.inEdgesMap.get(l).add(a),this.bothEdgesMap.get(l).add(a),a.target=o,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:r,propertyName:"target",oldValue:h,newValue:l})})}updateEdgeDataProperty(r,o,a){const h=this.getEdge(r);this.batch(()=>{const l=h.data[o],x=a;h.data[o]=x,this.changes.push({type:"EdgeDataUpdated",id:r,propertyName:o,oldValue:l,newValue:x})})}updateEdgeData(...r){const o=r[0],a=this.getEdge(o);if(typeof r[1]=="string"){this.updateEdgeDataProperty(o,r[1],r[2]);return}let h;if(typeof r[1]=="function"){const l=r[1];h=l(a.data)}else typeof r[1]=="object"&&(h=r[1]);this.batch(()=>{const l=a.data,x=h;a.data=h,this.changes.push({type:"EdgeDataUpdated",id:o,oldValue:l,newValue:x})})}mergeEdgeData(r,o){this.batch(()=>{Object.entries(o).forEach(([a,h])=>{this.updateEdgeDataProperty(r,a,h)})})}checkTreeExistence(r){if(!this.hasTreeStructure(r))throw new Error("Tree structure not found for treeKey: "+r)}hasTreeStructure(r){return this.treeIndices.has(r)}attachTreeStructure(r){this.treeIndices.has(r)||(this.treeIndices.set(r,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:r})}))}detachTreeStructure(r){this.checkTreeExistence(r),this.treeIndices.delete(r),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:r})})}addTree(r,o){this.batch(()=>{this.attachTreeStructure(o);const a=[],h=Array.isArray(r)?r:[r];for(;h.length;){const l=h.shift();a.push(l),l.children&&h.push(...l.children)}this.addNodes(a),a.forEach(l=>{var x;(x=l.children)==null||x.forEach(Y=>{this.setParent(Y.id,l.id,o)})})})}getRoots(r){return this.checkTreeExistence(r),this.getAllNodes().filter(o=>!this.getParent(o.id,r))}getChildren(r,o){this.checkNodeExistence(r),this.checkTreeExistence(o);const h=this.treeIndices.get(o).childrenMap.get(r);return Array.from(h||[])}getParent(r,o){return this.checkNodeExistence(r),this.checkTreeExistence(o),this.treeIndices.get(o).parentMap.get(r)||null}getAncestors(r,o){const a=[];let h=this.getNode(r),l;for(;l=this.getParent(h.id,o);)a.push(l),h=l;return a}setParent(r,o,a){var F,X;this.checkTreeExistence(a);const h=this.treeIndices.get(a);if(!h)return;const l=this.getNode(r),x=h.parentMap.get(r);if((x==null?void 0:x.id)===o)return;if(o==null){x&&((F=h.childrenMap.get(x.id))==null||F.delete(l)),h.parentMap.delete(r);return}const Y=this.getNode(o);h.parentMap.set(r,Y),x&&((X=h.childrenMap.get(x.id))==null||X.delete(l));let $=h.childrenMap.get(Y.id);$||($=new Set,h.childrenMap.set(Y.id,$)),$.add(l),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:a,nodeId:r,oldParentId:x==null?void 0:x.id,newParentId:Y.id})})}dfsTree(r,o,a){const h=l=>this.getChildren(l,a);return y(this.getNode(r),new Set,o,h)}bfsTree(r,o,a){const h=l=>this.getChildren(l,a);return I([this.getNode(r)],new Set,o,h)}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(r,o,a="out"){const h={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[a];return I([this.getNode(r)],new Set,o,h)}dfs(r,o,a="out"){const h={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[a];return y(this.getNode(r),new Set,o,h)}clone(){const r=this.getAllNodes().map(h=>$n(pn({},h),{data:pn({},h.data)})),o=this.getAllEdges().map(h=>$n(pn({},h),{data:pn({},h.data)})),a=new E({nodes:r,edges:o});return this.treeIndices.forEach(({parentMap:h,childrenMap:l},x)=>{const Y=new Map;h.forEach((F,X)=>{Y.set(X,a.getNode(F.id))});const $=new Map;l.forEach((F,X)=>{$.set(X,new Set(Array.from(F).map(j=>a.getNode(j.id))))}),a.treeIndices.set(x,{parentMap:Y,childrenMap:$})}),a}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(r){return new v(pn({graph:this},r))}}},45978:function(G,tt,i){"use strict";i.d(tt,{b:function(){return je}});var s=i(97582),I=i(72137),y=i(25897),D=i(95147);const v=(d,g)=>{if(d!=="next"&&d!=="prev")return g},E=d=>{d.prev.next=d.next,d.next.prev=d.prev,delete d.next,delete d.prev};class p{constructor(){const g={};g.prev=g,g.next=g.prev,this.shortcut=g}dequeue(){const g=this.shortcut,w=g.prev;if(w&&w!==g)return E(w),w}enqueue(g){const w=this.shortcut;g.prev&&g.next&&E(g),g.next=w.next,w.next.prev=g,w.next=g,g.prev=w}toString(){const g=[],w=this.shortcut;let A=w.prev;for(;A!==w;)g.push(JSON.stringify(A,v)),A=A==null?void 0:A.prev;return`[${g.join(", ")}]`}}class c extends p{}const r=()=>1,o=(d,g)=>{var w;if(d.getAllNodes().length<=1)return[];const A=l(d,g||r);return(w=a(A.graph,A.buckets,A.zeroIdx).map(Z=>d.getRelatedEdges(Z.v,"out").filter(({target:et})=>et===Z.w)))===null||w===void 0?void 0:w.flat()},a=(d,g,w)=>{let A=[];const W=g[g.length-1],Z=g[0];let et;for(;d.getAllNodes().length;){for(;et=Z.dequeue();)h(d,g,w,et);for(;et=W.dequeue();)h(d,g,w,et);if(d.getAllNodes().length){for(let rt=g.length-2;rt>0;--rt)if(et=g[rt].dequeue(),et){A=A.concat(h(d,g,w,et,!0));break}}}return A},h=(d,g,w,A,W)=>{var Z,et;const rt=[];return d.hasNode(A.v)&&((Z=d.getRelatedEdges(A.v,"in"))===null||Z===void 0||Z.forEach(st=>{const ct=st.data.weight,mt=d.getNode(st.source);W&&rt.push({v:st.source,w:st.target,in:0,out:0}),mt.data.out===void 0&&(mt.data.out=0),mt.data.out-=ct,x(g,w,Object.assign({v:mt.id},mt.data))}),(et=d.getRelatedEdges(A.v,"out"))===null||et===void 0||et.forEach(st=>{const ct=st.data.weight,mt=st.target,Et=d.getNode(mt);Et.data.in===void 0&&(Et.data.in=0),Et.data.in-=ct,x(g,w,Object.assign({v:Et.id},Et.data))}),d.removeNode(A.v)),W?rt:void 0},l=(d,g)=>{const w=new I.k;let A=0,W=0;d.getAllNodes().forEach(st=>{w.addNode({id:st.id,data:{v:st.id,in:0,out:0}})}),d.getAllEdges().forEach(st=>{const ct=w.getRelatedEdges(st.source,"out").find(Et=>Et.target===st.target),mt=(g==null?void 0:g(st))||1;ct?w.updateEdgeData(ct==null?void 0:ct.id,Object.assign(Object.assign({},ct.data),{weight:ct.data.weight+mt})):w.addEdge({id:st.id,source:st.source,target:st.target,data:{weight:mt}}),W=Math.max(W,w.getNode(st.source).data.out+=mt),A=Math.max(A,w.getNode(st.target).data.in+=mt)});const Z=[],et=W+A+3;for(let st=0;st<et;st++)Z.push(new c);const rt=A+1;return w.getAllNodes().forEach(st=>{x(Z,rt,Object.assign({v:st.id},w.getNode(st.id).data))}),{buckets:Z,zeroIdx:rt,graph:w}},x=(d,g,w)=>{w.out?w.in?d[w.out-w.in+g].enqueue(w):d[d.length-1].enqueue(w):d[0].enqueue(w)},Y=(d,g)=>{const A=g==="greedy"?o(d,(W=>Z=>Z.data.weight||1)(d)):$(d);A==null||A.forEach(W=>{const Z=W.data;d.removeEdge(W.id),Z.forwardName=W.data.name,Z.reversed=!0,d.addEdge({id:W.id,source:W.target,target:W.source,data:Object.assign({},Z)})})},$=d=>{const g=[],w={},A={},W=Z=>{A[Z]||(A[Z]=!0,w[Z]=!0,d.getRelatedEdges(Z,"out").forEach(et=>{w[et.target]?g.push(et):W(et.target)}),delete w[Z])};return d.getAllNodes().forEach(Z=>W(Z.id)),g},F=d=>{d.getAllEdges().forEach(g=>{const w=g.data;if(w.reversed){d.removeEdge(g.id);const A=w.forwardName;delete w.reversed,delete w.forwardName,d.addEdge({id:g.id,source:g.target,target:g.source,data:Object.assign(Object.assign({},w),{forwardName:A})})}})},X=(d,g)=>Number(d)-Number(g),j=(d,g,w,A)=>{let W;do W=`${A}${Math.random()}`;while(d.hasNode(W));return w.dummy=g,d.addNode({id:W,data:w}),W},J=d=>{const g=new I.k;return d.getAllNodes().forEach(w=>{g.addNode(Object.assign({},w))}),d.getAllEdges().forEach(w=>{const A=g.getRelatedEdges(w.source,"out").find(W=>W.target===w.target);A?g.updateEdgeData(A==null?void 0:A.id,Object.assign(Object.assign({},A.data),{weight:A.data.weight+w.data.weight||0,minlen:Math.max(A.data.minlen,w.data.minlen||1)})):g.addEdge({id:w.id,source:w.source,target:w.target,data:{weight:w.data.weight||0,minlen:w.data.minlen||1}})}),g},L=d=>{const g=new I.k;return d.getAllNodes().forEach(w=>{d.getChildren(w.id).length||g.addNode(Object.assign({},w))}),d.getAllEdges().forEach(w=>{g.addEdge(w)}),g},T=(d,g)=>d==null?void 0:d.reduce((w,A,W)=>(w[A]=g[W],w),{}),P=d=>{const g={};return d.getAllNodes().forEach(w=>{const A={};d.getRelatedEdges(w.id,"out").forEach(W=>{A[W.target]=(A[W.target]||0)+(W.data.weight||0)}),g[w.id]=A}),g},U=d=>{const g=d.getAllNodes(),w=g.map(A=>{const W={};return d.getRelatedEdges(A.id,"in").forEach(Z=>{W[Z.source]=(W[Z.source]||0)+Z.data.weight}),W});return T(g.map(A=>A.id),w)},V=(d,g)=>{const w=Number(d.x),A=Number(d.y),W=Number(g.x)-w,Z=Number(g.y)-A;let et=Number(d.width)/2,rt=Number(d.height)/2;if(!W&&!Z)return{x:0,y:0};let st,ct;return Math.abs(Z)*et>Math.abs(W)*rt?(Z<0&&(rt=-rt),st=rt*W/Z,ct=rt):(W<0&&(et=-et),st=et,ct=et*Z/W),{x:w+st,y:A+ct}},B=d=>{const g=[],w=z(d)+1;for(let A=0;A<w;A++)g.push([]);d.getAllNodes().forEach(A=>{const W=A.data.rank;W!==void 0&&g[W]&&g[W].push(A.id)});for(let A=0;A<w;A++)g[A]=g[A].sort((W,Z)=>X(d.getNode(W).data.order,d.getNode(Z).data.order));return g},M=d=>{const g=d.getAllNodes().filter(A=>A.data.rank!==void 0).map(A=>A.data.rank),w=Math.min(...g);d.getAllNodes().forEach(A=>{A.data.hasOwnProperty("rank")&&w!==1/0&&(A.data.rank-=w)})},k=(d,g=0)=>{const w=d.getAllNodes(),A=w.filter(rt=>rt.data.rank!==void 0).map(rt=>rt.data.rank),W=Math.min(...A),Z=[];w.forEach(rt=>{const st=(rt.data.rank||0)-W;Z[st]||(Z[st]=[]),Z[st].push(rt.id)});let et=0;for(let rt=0;rt<Z.length;rt++){const st=Z[rt];st===void 0?rt%g!==0&&(et-=1):et&&(st==null||st.forEach(ct=>{const mt=d.getNode(ct);mt&&(mt.data.rank=mt.data.rank||0,mt.data.rank+=et)}))}},K=(d,g,w,A)=>{const W={width:0,height:0};return(0,y.Z)(w)&&(0,y.Z)(A)&&(W.rank=w,W.order=A),j(d,"border",W,g)},z=d=>{let g;return d.getAllNodes().forEach(w=>{const A=w.data.rank;A!==void 0&&(g===void 0||A>g)&&(g=A)}),g||(g=0),g},O=(d,g)=>{const w={lhs:[],rhs:[]};return d==null||d.forEach(A=>{g(A)?w.lhs.push(A):w.rhs.push(A)}),w},C=(d,g)=>d.reduce((w,A)=>{const W=g(w),Z=g(A);return W>Z?A:w}),Q=(d,g,w,A,W,Z)=>{A.includes(g.id)||(A.push(g.id),w||Z.push(g.id),W(g.id).forEach(et=>Q(d,et,w,A,W,Z)),w&&Z.push(g.id))},H=(d,g,w,A)=>{const W=Array.isArray(g)?g:[g],Z=st=>A?d.getSuccessors(st):d.getNeighbors(st),et=[],rt=[];return W.forEach(st=>{if(d.hasNode(st.id))Q(d,st,w==="post",rt,Z,et);else throw new Error(`Graph does not have node: ${st}`)}),et},q=d=>{const g=w=>{const A=d.getChildren(w),W=d.getNode(w);if(A!=null&&A.length&&A.forEach(Z=>g(Z.id)),W.data.hasOwnProperty("minRank")){W.data.borderLeft=[],W.data.borderRight=[];for(let Z=W.data.minRank,et=W.data.maxRank+1;Z<et;Z+=1)ot(d,"borderLeft","_bl",w,W,Z),ot(d,"borderRight","_br",w,W,Z)}};d.getRoots().forEach(w=>g(w.id))},ot=(d,g,w,A,W,Z)=>{const et={rank:Z,borderType:g,width:0,height:0},rt=W.data[g][Z-1],st=j(d,"border",et,w);W.data[g][Z]=st,d.setParent(st,A),rt&&d.addEdge({id:`e${Math.random()}`,source:rt,target:st,data:{weight:1}})},ht=(d,g)=>{const w=g.toLowerCase();(w==="lr"||w==="rl")&&gt(d)},nt=(d,g)=>{const w=g.toLowerCase();(w==="bt"||w==="rl")&&_(d),(w==="lr"||w==="rl")&&(lt(d),gt(d))},gt=d=>{d.getAllNodes().forEach(g=>{it(g)}),d.getAllEdges().forEach(g=>{it(g)})},it=d=>{const g=d.data.width;d.data.width=d.data.height,d.data.height=g},_=d=>{d.getAllNodes().forEach(g=>{ft(g.data)}),d.getAllEdges().forEach(g=>{var w;(w=g.data.points)===null||w===void 0||w.forEach(A=>ft(A)),g.data.hasOwnProperty("y")&&ft(g.data)})},ft=d=>{d!=null&&d.y&&(d.y=-d.y)},lt=d=>{d.getAllNodes().forEach(g=>{at(g.data)}),d.getAllEdges().forEach(g=>{var w;(w=g.data.points)===null||w===void 0||w.forEach(A=>at(A)),g.data.hasOwnProperty("x")&&at(g.data)})},at=d=>{const g=d.x;d.x=d.y,d.y=g},Mt=d=>{const g=j(d,"root",{},"_root"),w=yt(d);let A=Math.max(...Object.values(w));Math.abs(A)===1/0&&(A=1);const W=A-1,Z=2*W+1;d.getAllEdges().forEach(rt=>{rt.data.minlen*=Z});const et=xt(d)+1;return d.getRoots().forEach(rt=>{vt(d,g,Z,et,W,w,rt.id)}),{nestingRoot:g,nodeRankFactor:Z}},vt=(d,g,w,A,W,Z,et)=>{const rt=d.getChildren(et);if(!(rt!=null&&rt.length)){et!==g&&d.addEdge({id:`e${Math.random()}`,source:g,target:et,data:{weight:0,minlen:w}});return}const st=K(d,"_bt"),ct=K(d,"_bb"),mt=d.getNode(et);d.setParent(st,et),mt.data.borderTop=st,d.setParent(ct,et),mt.data.borderBottom=ct,rt==null||rt.forEach(Et=>{vt(d,g,w,A,W,Z,Et.id);const Pt=Et.data.borderTop?Et.data.borderTop:Et.id,Ct=Et.data.borderBottom?Et.data.borderBottom:Et.id,zt=Et.data.borderTop?A:2*A,Gt=Pt!==Ct?1:W-Z[et]+1;d.addEdge({id:`e${Math.random()}`,source:st,target:Pt,data:{minlen:Gt,weight:zt,nestingEdge:!0}}),d.addEdge({id:`e${Math.random()}`,source:Ct,target:ct,data:{minlen:Gt,weight:zt,nestingEdge:!0}})}),d.getParent(et)||d.addEdge({id:`e${Math.random()}`,source:g,target:st,data:{weight:0,minlen:W+Z[et]}})},yt=d=>{const g={},w=(A,W)=>{const Z=d.getChildren(A);Z==null||Z.forEach(et=>w(et.id,W+1)),g[A]=W};return d.getRoots().forEach(A=>w(A.id,1)),g},xt=d=>{let g=0;return d.getAllEdges().forEach(w=>{g+=w.data.weight}),g},St=(d,g)=>{g&&d.removeNode(g),d.getAllEdges().forEach(w=>{w.data.nestingEdge&&d.removeEdge(w.id)})},It="edge",At="edge-label",Xt=(d,g)=>{d.getAllEdges().forEach(w=>_t(d,w,g))},_t=(d,g,w)=>{let A=g.source,W=d.getNode(A).data.rank;const Z=g.target,et=d.getNode(Z).data.rank,rt=g.data.labelRank;if(et===W+1)return;d.removeEdge(g.id);let st,ct,mt;for(mt=0,++W;W<et;++mt,++W)g.data.points=[],ct={originalEdge:g,width:0,height:0,rank:W},st=j(d,It,ct,"_d"),W===rt&&(ct.width=g.data.width,ct.height=g.data.height,ct.dummy=At,ct.labelpos=g.data.labelpos),d.addEdge({id:`e${Math.random()}`,source:A,target:st,data:{weight:g.data.weight}}),mt===0&&w.push(st),A=st;d.addEdge({id:`e${Math.random()}`,source:A,target:Z,data:{weight:g.data.weight}})},ee=(d,g)=>{g.forEach(w=>{let A=d.getNode(w);const{data:W}=A,Z=W.originalEdge;let et;Z&&d.addEdge(Z);let rt=w;for(;A.data.dummy;)et=d.getSuccessors(rt)[0],d.removeNode(rt),Z.data.points.push({x:A.data.x,y:A.data.y}),A.data.dummy===At&&(Z.data.x=A.data.x,Z.data.y=A.data.y,Z.data.width=A.data.width,Z.data.height=A.data.height),rt=et.id,A=d.getNode(rt)})};var Kt=i(83207);const ge=(d,g,w)=>{const A={};let W;w==null||w.forEach(Z=>{let et=d.getParent(Z),rt,st;for(;et;){if(rt=d.getParent(et.id),rt?(st=A[rt.id],A[rt.id]=et.id):(st=W,W=et.id),st&&st!==et.id){g.hasNode(st)||g.addNode({id:st,data:{}}),g.hasNode(et.id)||g.addNode({id:et.id,data:{}}),g.hasEdge(`e${st}-${et.id}`)||g.addEdge({id:`e${st}-${et.id}`,source:st,target:et.id,data:{}});return}et=rt}})},Ut=(d,g,w)=>{const A=ve(d),W=new I.k({tree:[{id:A,children:[],data:{}}]});return d.getAllNodes().forEach(Z=>{const et=d.getParent(Z.id);(Z.data.rank===g||Z.data.minRank<=g&&g<=Z.data.maxRank)&&(W.hasNode(Z.id)||W.addNode(Object.assign({},Z)),et!=null&&et.id&&!W.hasNode(et==null?void 0:et.id)&&W.addNode(Object.assign({},et)),W.setParent(Z.id,(et==null?void 0:et.id)||A),d.getRelatedEdges(Z.id,w).forEach(rt=>{const st=rt.source===Z.id?rt.target:rt.source;W.hasNode(st)||W.addNode(Object.assign({},d.getNode(st)));const ct=W.getRelatedEdges(st,"out").find(({target:Et})=>Et===Z.id),mt=ct!==void 0?ct.data.weight:0;ct?W.updateEdgeData(ct.id,Object.assign(Object.assign({},ct.data),{weight:rt.data.weight+mt})):W.addEdge({id:rt.id,source:st,target:Z.id,data:{weight:rt.data.weight+mt}})}),Z.data.hasOwnProperty("minRank")&&W.updateNodeData(Z.id,Object.assign(Object.assign({},Z.data),{borderLeft:Z.data.borderLeft[g],borderRight:Z.data.borderRight[g]})))}),W},ve=d=>{let g;for(;d.hasNode(g=`_root${Math.random()}`););return g},ce=(d,g,w)=>{const A=T(w,w.map((mt,Et)=>Et)),Z=g.map(mt=>{const Et=d.getRelatedEdges(mt,"out").map(Pt=>({pos:A[Pt.target]||0,weight:Pt.data.weight}));return Et==null?void 0:Et.sort((Pt,Ct)=>Pt.pos-Ct.pos)}).flat().filter(mt=>mt!==void 0);let et=1;for(;et<w.length;)et<<=1;const rt=2*et-1;et-=1;const st=Array(rt).fill(0,0,rt);let ct=0;return Z==null||Z.forEach(mt=>{if(mt){let Et=mt.pos+et;st[Et]+=mt.weight;let Pt=0;for(;Et>0;)Et%2&&(Pt+=st[Et+1]),Et=Et-1>>1,st[Et]+=mt.weight;ct+=mt.weight*Pt}}),ct},re=(d,g)=>{let w=0;for(let A=1;A<(g==null?void 0:g.length);A+=1)w+=ce(d,g[A-1],g[A]);return w},kt=d=>{const g={},w=d.getAllNodes(),A=w.map(ct=>{var mt;return(mt=ct.data.rank)!==null&&mt!==void 0?mt:-1/0}),W=Math.max(...A),Z=[];for(let ct=0;ct<W+1;ct++)Z.push([]);const et=w.sort((ct,mt)=>d.getNode(ct.id).data.rank-d.getNode(mt.id).data.rank),st=et.filter(ct=>d.getNode(ct.id).data.fixorder!==void 0).sort((ct,mt)=>d.getNode(ct.id).data.fixorder-d.getNode(mt.id).data.fixorder);return st==null||st.forEach(ct=>{isNaN(d.getNode(ct.id).data.rank)||Z[d.getNode(ct.id).data.rank].push(ct.id),g[ct.id]=!0}),et==null||et.forEach(ct=>d.dfsTree(ct.id,mt=>{if(g.hasOwnProperty(mt.id))return!0;g[mt.id]=!0,isNaN(mt.data.rank)||Z[mt.data.rank].push(mt.id)})),Z},me=(d,g)=>g.map(w=>{const A=d.getRelatedEdges(w,"in");if(!(A!=null&&A.length))return{v:w};const W={sum:0,weight:0};return A==null||A.forEach(Z=>{const et=d.getNode(Z.source);W.sum+=Z.data.weight*et.data.order,W.weight+=Z.data.weight}),{v:w,barycenter:W.sum/W.weight,weight:W.weight}}),xe=(d,g)=>{var w,A,W;const Z={};d==null||d.forEach((rt,st)=>{Z[rt.v]={i:st,indegree:0,in:[],out:[],vs:[rt.v]};const ct=Z[rt.v];rt.barycenter!==void 0&&(ct.barycenter=rt.barycenter,ct.weight=rt.weight)}),(w=g.getAllEdges())===null||w===void 0||w.forEach(rt=>{const st=Z[rt.source],ct=Z[rt.target];st!==void 0&&ct!==void 0&&(ct.indegree++,st.out.push(Z[rt.target]))});const et=(W=(A=Object.values(Z)).filter)===null||W===void 0?void 0:W.call(A,rt=>!rt.indegree);return se(et)},se=d=>{var g,w;const A=[],W=st=>ct=>{ct.merged||(ct.barycenter===void 0||st.barycenter===void 0||ct.barycenter>=st.barycenter)&&Te(st,ct)},Z=st=>ct=>{ct.in.push(st),--ct.indegree===0&&d.push(ct)};for(;d!=null&&d.length;){const st=d.pop();A.push(st),(g=st.in.reverse())===null||g===void 0||g.forEach(ct=>W(st)(ct)),(w=st.out)===null||w===void 0||w.forEach(ct=>Z(st)(ct))}const et=A.filter(st=>!st.merged),rt=["vs","i","barycenter","weight"];return et.map(st=>{const ct={};return rt==null||rt.forEach(mt=>{st[mt]!==void 0&&(ct[mt]=st[mt])}),ct})},Te=(d,g)=>{var w;let A=0,W=0;d.weight&&(A+=d.barycenter*d.weight,W+=d.weight),g.weight&&(A+=g.barycenter*g.weight,W+=g.weight),d.vs=(w=g.vs)===null||w===void 0?void 0:w.concat(d.vs),d.barycenter=A/W,d.weight=W,d.i=Math.min(g.i,d.i),g.merged=!0};var Oe=xe;const kn=(d,g,w,A)=>{const W=O(d,Pt=>{const Ct=Pt.hasOwnProperty("fixorder")&&!isNaN(Pt.fixorder);return A?!Ct&&Pt.hasOwnProperty("barycenter"):Ct||Pt.hasOwnProperty("barycenter")}),Z=W.lhs,et=W.rhs.sort((Pt,Ct)=>-Pt.i- -Ct.i),rt=[];let st=0,ct=0,mt=0;Z==null||Z.sort(Tn(!!g,!!w)),mt=bn(rt,et,mt),Z==null||Z.forEach(Pt=>{var Ct;mt+=(Ct=Pt.vs)===null||Ct===void 0?void 0:Ct.length,rt.push(Pt.vs),st+=Pt.barycenter*Pt.weight,ct+=Pt.weight,mt=bn(rt,et,mt)});const Et={vs:rt.flat()};return ct&&(Et.barycenter=st/ct,Et.weight=ct),Et},bn=(d,g,w)=>{let A=w,W;for(;g.length&&(W=g[g.length-1]).i<=A;)g.pop(),d==null||d.push(W.vs),A++;return A},Tn=(d,g)=>(w,A)=>{if(w.fixorder!==void 0&&A.fixorder!==void 0)return w.fixorder-A.fixorder;if(w.barycenter<A.barycenter)return-1;if(w.barycenter>A.barycenter)return 1;if(g&&w.order!==void 0&&A.order!==void 0){if(w.order<A.order)return-1;if(w.order>A.order)return 1}return d?A.i-w.i:w.i-A.i},Nn=(d,g,w,A,W,Z)=>{var et,rt,st,ct;let mt=d.getChildren(g).map(Ht=>Ht.id);const Et=d.getNode(g),Pt=Et?Et.data.borderLeft:void 0,Ct=Et?Et.data.borderRight:void 0,zt={};Pt&&(mt=mt==null?void 0:mt.filter(Ht=>Ht!==Pt&&Ht!==Ct));const Gt=me(d,mt||[]);Gt==null||Gt.forEach(Ht=>{var fe;if(!((fe=d.getChildren(Ht.v))===null||fe===void 0)&&fe.length){const ae=Nn(d,Ht.v,w,A,Z);zt[Ht.v]=ae,ae.hasOwnProperty("barycenter")&&zn(Ht,ae)}});const Zt=Oe(Gt,w);Cn(Zt,zt),(et=Zt.filter(Ht=>Ht.vs.length>0))===null||et===void 0||et.forEach(Ht=>{const fe=d.getNode(Ht.vs[0]);fe&&(Ht.fixorder=fe.data.fixorder,Ht.order=fe.data.order)});const Bt=kn(Zt,A,W,Z);if(Pt&&(Bt.vs=[Pt,Bt.vs,Ct].flat(),!((rt=d.getPredecessors(Pt))===null||rt===void 0)&&rt.length)){const Ht=d.getNode(((st=d.getPredecessors(Pt))===null||st===void 0?void 0:st[0].id)||""),fe=d.getNode(((ct=d.getPredecessors(Ct))===null||ct===void 0?void 0:ct[0].id)||"");Bt.hasOwnProperty("barycenter")||(Bt.barycenter=0,Bt.weight=0),Bt.barycenter=(Bt.barycenter*Bt.weight+Ht.data.order+fe.data.order)/(Bt.weight+2),Bt.weight+=2}return Bt},Cn=(d,g)=>{d==null||d.forEach(w=>{var A;const W=(A=w.vs)===null||A===void 0?void 0:A.map(Z=>g[Z]?g[Z].vs:Z);w.vs=W.flat()})},zn=(d,g)=>{d.barycenter!==void 0?(d.barycenter=(d.barycenter*d.weight+g.barycenter*g.weight)/(d.weight+g.weight),d.weight+=g.weight):(d.barycenter=g.barycenter,d.weight=g.weight)},sn=(d,g)=>{const w=z(d),A=[],W=[];for(let mt=1;mt<w+1;mt++)A.push(mt);for(let mt=w-1;mt>-1;mt--)W.push(mt);const Z=Mn(d,A,"in"),et=Mn(d,W,"out");let rt=kt(d);on(d,rt);let st=Number.POSITIVE_INFINITY,ct;for(let mt=0,Et=0;Et<4;++mt,++Et){On(mt%2?Z:et,mt%4>=2,!1,g),rt=B(d);const Pt=re(d,rt);Pt<st&&(Et=0,ct=(0,Kt.Z)(rt),st=Pt)}rt=kt(d),on(d,rt);for(let mt=0,Et=0;Et<4;++mt,++Et){On(mt%2?Z:et,mt%4>=2,!0,g),rt=B(d);const Pt=re(d,rt);Pt<st&&(Et=0,ct=(0,Kt.Z)(rt),st=Pt)}on(d,ct)},Mn=(d,g,w)=>g.map(A=>Ut(d,A,w)),On=(d,g,w,A)=>{const W=new I.k;d==null||d.forEach(Z=>{var et;const rt=Z.getRoots()[0].id,st=Nn(Z,rt,W,g,w,A);for(let ct=0;ct<((et=st.vs)===null||et===void 0?void 0:et.length);ct++){const mt=Z.getNode(st.vs[ct]);mt&&(mt.data.order=ct)}ge(Z,W,st.vs)})},on=(d,g)=>{g==null||g.forEach(w=>{w==null||w.forEach((A,W)=>{d.getNode(A).data.order=W})})},Se=(d,g)=>{const A=d.getAllNodes().filter(et=>{var rt;return!(!((rt=d.getChildren(et.id))===null||rt===void 0)&&rt.length)}).map(et=>et.data.rank),W=Math.max(...A),Z=[];for(let et=0;et<W+1;et++)Z[et]=[];g==null||g.forEach(et=>{const rt=d.getNode(et);!rt||rt.data.dummy||isNaN(rt.data.rank)||(rt.data.fixorder=Z[rt.data.rank].length,Z[rt.data.rank].push(et))})},Fn=d=>{const g={};let w=0;const A=W=>{const Z=w;d.getChildren(W).forEach(et=>A(et.id)),g[W]={low:Z,lim:w++}};return d.getRoots().forEach(W=>A(W.id)),g},an=(d,g,w,A)=>{var W,Z;const et=[],rt=[],st=Math.min(g[w].low,g[A].low),ct=Math.max(g[w].lim,g[A].lim);let mt,Et;mt=w;do mt=(W=d.getParent(mt))===null||W===void 0?void 0:W.id,et.push(mt);while(mt&&(g[mt].low>st||ct>g[mt].lim));for(Et=mt,mt=A;mt&&mt!==Et;)rt.push(mt),mt=(Z=d.getParent(mt))===null||Z===void 0?void 0:Z.id;return{lca:Et,path:et.concat(rt.reverse())}},Ce=(d,g)=>{const w=Fn(d);g.forEach(A=>{var W,Z;let et=A,rt=d.getNode(et);const st=rt.data.originalEdge;if(!st)return;const ct=an(d,w,st.source,st.target),mt=ct.path,Et=ct.lca;let Pt=0,Ct=mt[Pt],zt=!0;for(;et!==st.target;){if(rt=d.getNode(et),zt){for(;Ct!==Et&&((W=d.getNode(Ct))===null||W===void 0?void 0:W.data.maxRank)<rt.data.rank;)Pt++,Ct=mt[Pt];Ct===Et&&(zt=!1)}if(!zt){for(;Pt<mt.length-1&&((Z=d.getNode(mt[Pt+1]))===null||Z===void 0?void 0:Z.data.minRank)<=rt.data.rank;)Pt++;Ct=mt[Pt]}d.hasNode(Ct)&&d.setParent(et,Ct),et=d.getSuccessors(et)[0].id}})},un=(d,g)=>{const w={},A=(W,Z)=>{let et=0,rt=0;const st=W.length,ct=Z==null?void 0:Z[(Z==null?void 0:Z.length)-1];return Z==null||Z.forEach((mt,Et)=>{var Pt;const Ct=Bn(d,mt),zt=Ct?d.getNode(Ct.id).data.order:st;(Ct||mt===ct)&&((Pt=Z.slice(rt,Et+1))===null||Pt===void 0||Pt.forEach(Gt=>{var Zt;(Zt=d.getPredecessors(Gt))===null||Zt===void 0||Zt.forEach(Bt=>{var Ht;const fe=d.getNode(Bt.id),ae=fe.data.order;(ae<et||zt<ae)&&!(fe.data.dummy&&(!((Ht=d.getNode(Gt))===null||Ht===void 0)&&Ht.data.dummy))&&mn(w,Bt.id,Gt)})}),rt=Et+1,et=zt)}),Z};return g!=null&&g.length&&g.reduce(A),w},Ze=(d,g)=>{const w={};function A(rt,st,ct,mt,Et){var Pt,Ct;let zt;for(let Gt=st;Gt<ct;Gt++)zt=rt[Gt],!((Pt=d.getNode(zt))===null||Pt===void 0)&&Pt.data.dummy&&((Ct=d.getPredecessors(zt))===null||Ct===void 0||Ct.forEach(Zt=>{const Bt=d.getNode(Zt.id);Bt.data.dummy&&(Bt.data.order<mt||Bt.data.order>Et)&&mn(w,Zt.id,zt)}))}function W(rt){return JSON.stringify(rt.slice(1))}function Z(rt,st){const ct=W(rt);st.get(ct)||(A(...rt),st.set(ct,!0))}const et=(rt,st)=>{let ct=-1,mt,Et=0;const Pt=new Map;return st==null||st.forEach((Ct,zt)=>{var Gt;if(((Gt=d.getNode(Ct))===null||Gt===void 0?void 0:Gt.data.dummy)==="border"){const Zt=d.getPredecessors(Ct)||[];Zt.length&&(mt=d.getNode(Zt[0].id).data.order,Z([st,Et,zt,ct,mt],Pt),Et=zt,ct=mt)}Z([st,Et,st.length,mt,rt.length],Pt)}),st};return g!=null&&g.length&&g.reduce(et),w},Bn=(d,g)=>{var w,A;if(!((w=d.getNode(g))===null||w===void 0)&&w.data.dummy)return(A=d.getPredecessors(g))===null||A===void 0?void 0:A.find(W=>d.getNode(W.id).data.dummy)},mn=(d,g,w)=>{let A=g,W=w;if(A>W){const et=A;A=W,W=et}let Z=d[A];Z||(d[A]=Z={}),Z[W]=!0},dn=(d,g,w)=>{let A=g,W=w;if(A>W){const Z=g;A=W,W=Z}return!!d[A]},Sn=(d,g,w,A)=>{const W={},Z={},et={};return g==null||g.forEach(rt=>{rt==null||rt.forEach((st,ct)=>{W[st]=st,Z[st]=st,et[st]=ct})}),g==null||g.forEach(rt=>{let st=-1;rt==null||rt.forEach(ct=>{let mt=A(ct).map(Et=>Et.id);if(mt.length){mt=mt.sort((Pt,Ct)=>et[Pt]-et[Ct]);const Et=(mt.length-1)/2;for(let Pt=Math.floor(Et),Ct=Math.ceil(Et);Pt<=Ct;++Pt){const zt=mt[Pt];Z[ct]===ct&&st<et[zt]&&!dn(w,ct,zt)&&(Z[zt]=ct,Z[ct]=W[ct]=W[zt],st=et[zt])}}})}),{root:W,align:Z}},Dn=(d,g,w,A,W,Z,et)=>{var rt;const st={},ct=Un(d,g,w,W,Z,et),mt=et?"borderLeft":"borderRight",Et=(zt,Gt)=>{let Zt=ct.getAllNodes(),Bt=Zt.pop();const Ht={};for(;Bt;)Ht[Bt.id]?zt(Bt.id):(Ht[Bt.id]=!0,Zt.push(Bt),Zt=Zt.concat(Gt(Bt.id))),Bt=Zt.pop()},Pt=zt=>{st[zt]=(ct.getRelatedEdges(zt,"in")||[]).reduce((Gt,Zt)=>Math.max(Gt,(st[Zt.source]||0)+Zt.data.weight),0)},Ct=zt=>{const Gt=(ct.getRelatedEdges(zt,"out")||[]).reduce((Bt,Ht)=>Math.min(Bt,(st[Ht.target]||0)-Ht.data.weight),Number.POSITIVE_INFINITY),Zt=d.getNode(zt);Gt!==Number.POSITIVE_INFINITY&&Zt.data.borderType!==mt&&(st[zt]=Math.max(st[zt],Gt))};return Et(Pt,ct.getPredecessors.bind(ct)),Et(Ct,ct.getSuccessors.bind(ct)),(rt=Object.values(A))===null||rt===void 0||rt.forEach(zt=>{st[zt]=st[w[zt]]}),st},Un=(d,g,w,A,W,Z)=>{const et=new I.k,rt=Wn(A,W,Z);return g==null||g.forEach(st=>{let ct;st==null||st.forEach(mt=>{const Et=w[mt];if(et.hasNode(Et)||et.addNode({id:Et,data:{}}),ct){const Pt=w[ct],Ct=et.getRelatedEdges(Pt,"out").find(zt=>zt.target===Et);Ct?et.updateEdgeData(Ct.id,Object.assign(Object.assign({},Ct.data),{weight:Math.max(rt(d,mt,ct),Ct.data.weight||0)})):et.addEdge({id:`e${Math.random()}`,source:Pt,target:Et,data:{weight:Math.max(rt(d,mt,ct),0)}})}ct=mt})}),et},Rn=(d,g)=>C(Object.values(g),w=>{var A;let W=Number.NEGATIVE_INFINITY,Z=Number.POSITIVE_INFINITY;return(A=Object.keys(w))===null||A===void 0||A.forEach(et=>{const rt=w[et],st=Gn(d,et)/2;W=Math.max(rt+st,W),Z=Math.min(rt-st,Z)}),W-Z});function Pn(d,g){const w=Object.values(g),A=Math.min(...w),W=Math.max(...w);["u","d"].forEach(Z=>{["l","r"].forEach(et=>{const rt=Z+et,st=d[rt];let ct;if(st===g)return;const mt=Object.values(st);ct=et==="l"?A-Math.min(...mt):W-Math.max(...mt),ct&&(d[rt]={},Object.keys(st).forEach(Et=>{d[rt][Et]=st[Et]+ct}))})})}const In=(d,g)=>{const w={};return Object.keys(d.ul).forEach(A=>{if(g)w[A]=d[g.toLowerCase()][A];else{const W=Object.values(d).map(Z=>Z[A]);w[A]=(W[0]+W[1])/2}}),w},Vn=(d,g)=>{const{align:w,nodesep:A=0,edgesep:W=0}=g||{},Z=buildLayerMatrix(d),et=Object.assign(un(d,Z),Ze(d,Z)),rt={};let st;["u","d"].forEach(mt=>{st=mt==="u"?Z:Object.values(Z).reverse(),["l","r"].forEach(Et=>{Et==="r"&&(st=st.map(Gt=>Object.values(Gt).reverse()));const Pt=(mt==="u"?d.getPredecessors:d.getSuccessors).bind(d),Ct=Sn(d,st,et,Pt),zt=Dn(d,st,Ct.root,Ct.align,A,W,Et==="r");Et==="r"&&Object.keys(zt).forEach(Gt=>{zt[Gt]=-zt[Gt]}),rt[mt+Et]=zt})});const ct=Rn(d,rt);return Pn(rt,ct),In(rt,w)},Wn=(d,g,w)=>(A,W,Z)=>{const et=A.getNode(W),rt=A.getNode(Z);let st=0,ct=0;if(st+=et.data.width/2,et.data.hasOwnProperty("labelpos"))switch((et.data.labelpos||"").toLowerCase()){case"l":ct=-et.data.width/2;break;case"r":ct=et.data.width/2;break}if(ct&&(st+=w?ct:-ct),ct=0,st+=(et.data.dummy?g:d)/2,st+=(rt.data.dummy?g:d)/2,st+=rt.data.width/2,rt.data.labelpos)switch((rt.data.labelpos||"").toLowerCase()){case"l":ct=rt.data.width/2;break;case"r":ct=-rt.data.width/2;break}return ct&&(st+=w?ct:-ct),ct=0,st},Gn=(d,g)=>d.getNode(g).data.width||0,Zn=(d,g)=>{const{ranksep:w=0}=g||{},A=B(d);let W=0;A==null||A.forEach(Z=>{const et=Z.map(st=>d.getNode(st).data.height),rt=Math.max(...et,0);Z==null||Z.forEach(st=>{d.getNode(st).data.y=W+rt/2}),W+=rt+w})},Yn=(d,g)=>{const{align:w,nodesep:A=0,edgesep:W=0}=g||{},Z=B(d),et=Object.assign(un(d,Z),Ze(d,Z)),rt={};let st=[];["u","d"].forEach(mt=>{st=mt==="u"?Z:Object.values(Z).reverse(),["l","r"].forEach(Et=>{Et==="r"&&(st=st.map(Gt=>Object.values(Gt).reverse()));const Pt=(mt==="u"?d.getPredecessors:d.getSuccessors).bind(d),Ct=Sn(d,st,et,Pt),zt=Dn(d,st,Ct.root,Ct.align,A,W,Et==="r");Et==="r"&&Object.keys(zt).forEach(Gt=>zt[Gt]=-zt[Gt]),rt[mt+Et]=zt})});const ct=Rn(d,rt);return ct&&Pn(rt,ct),In(rt,w)},cn=(d,g)=>{var w;const A=L(d);Zn(A,g);const W=Yn(A,g);(w=Object.keys(W))===null||w===void 0||w.forEach(Z=>{A.getNode(Z).data.x=W[Z]})},yn=d=>{const g={},w=A=>{var W;const Z=d.getNode(A);if(!Z)return 0;if(g[A])return Z.data.rank;g[A]=!0;let et;return(W=d.getRelatedEdges(A,"out"))===null||W===void 0||W.forEach(rt=>{const st=w(rt.target),ct=rt.data.minlen,mt=st-ct;mt&&(et===void 0||mt<et)&&(et=mt)}),et||(et=0),Z.data.rank=et,et};d.getAllNodes().filter(A=>d.getRelatedEdges(A.id,"in").length===0).forEach(A=>w(A.id))},An=d=>{const g={};let w;const A=et=>{var rt;const st=d.getNode(et);if(!st)return 0;if(g[et])return st.data.rank;g[et]=!0;let ct;return(rt=d.getRelatedEdges(et,"out"))===null||rt===void 0||rt.forEach(mt=>{const Et=A(mt.target),Pt=mt.data.minlen,Ct=Et-Pt;Ct&&(ct===void 0||Ct<ct)&&(ct=Ct)}),ct||(ct=0),(w===void 0||ct<w)&&(w=ct),st.data.rank=ct,ct};d.getAllNodes().filter(et=>d.getRelatedEdges(et.id,"in").length===0).forEach(et=>{et&&A(et.id)}),w===void 0&&(w=0);const W={},Z=(et,rt)=>{var st;const ct=d.getNode(et),mt=isNaN(ct.data.layer)?rt:ct.data.layer;(ct.data.rank===void 0||ct.data.rank<mt)&&(ct.data.rank=mt),!W[et]&&(W[et]=!0,(st=d.getRelatedEdges(et,"out"))===null||st===void 0||st.forEach(Et=>{Z(Et.target,mt+Et.data.minlen)}))};d.getAllNodes().forEach(et=>{const rt=et.data;rt&&(isNaN(rt.layer)?rt.rank-=w:Z(et.id,rt.layer))})},m=(d,g)=>d.getNode(g.target).data.rank-d.getNode(g.source).data.rank-g.data.minlen,S=d=>{const g=new I.k({tree:[]}),w=d.getAllNodes()[0],A=d.getAllNodes().length;g.addNode(w);let W,Z;for(;u(g,d)<A;)W=n(g,d),Z=g.hasNode(W.source)?m(d,W):-m(d,W),f(g,d,Z);return g},u=(d,g)=>{const w=A=>{g.getRelatedEdges(A,"both").forEach(W=>{const Z=W.source,et=A===Z?W.target:Z;!d.hasNode(et)&&!m(g,W)&&(d.addNode({id:et,data:{}}),d.addEdge({id:W.id,source:A,target:et,data:{}}),w(et))})};return d.getAllNodes().forEach(A=>w(A.id)),d.getAllNodes().length},t=d=>{const g=new I.k({tree:[]}),w=d.getAllNodes()[0],A=d.getAllNodes().length;g.addNode(w);let W,Z;for(;e(g,d)<A;)W=n(g,d),Z=g.hasNode(W.source)?m(d,W):-m(d,W),f(g,d,Z);return g},e=(d,g)=>{const w=A=>{var W;(W=g.getRelatedEdges(A,"both"))===null||W===void 0||W.forEach(Z=>{const et=Z.source,rt=A===et?Z.target:et;!d.hasNode(rt)&&(g.getNode(rt).data.layer!==void 0||!m(g,Z))&&(d.addNode({id:rt,data:{}}),d.addEdge({id:Z.id,source:A,target:rt,data:{}}),w(rt))})};return d.getAllNodes().forEach(A=>w(A.id)),d.getAllNodes().length},n=(d,g)=>C(g.getAllEdges(),w=>d.hasNode(w.source)!==d.hasNode(w.target)?m(g,w):1/0),f=(d,g,w)=>{d.getAllNodes().forEach(A=>{const W=g.getNode(A.id);W.data.rank||(W.data.rank=0),W.data.rank+=w})},N=d=>{const g=J(d);yn(g);const w=S(g);dt(w),b(w,g);let A,W;for(;A=Ot(w);)W=bt(w,g,A),Lt(w,g,A,W)},b=(d,g)=>{let w=H(d,d.getAllNodes(),"post",!1);w=w.slice(0,(w==null?void 0:w.length)-1),w.forEach(A=>{R(d,g,A)})},R=(d,g,w)=>{const W=d.getNode(w).data.parent,Z=d.getRelatedEdges(w,"both").find(et=>et.target===W||et.source===W);Z.data.cutvalue=ut(d,g,w)},ut=(d,g,w)=>{const W=d.getNode(w).data.parent;let Z=!0,et=g.getRelatedEdges(w,"out").find(st=>st.target===W),rt=0;return et||(Z=!1,et=g.getRelatedEdges(W,"out").find(st=>st.target===w)),rt=et.data.weight,g.getRelatedEdges(w,"both").forEach(st=>{const ct=st.source===w,mt=ct?st.target:st.source;if(mt!==W){const Et=ct===Z,Pt=st.data.weight;if(rt+=Et?Pt:-Pt,pt(d,w,mt)){const Ct=d.getRelatedEdges(w,"both").find(zt=>zt.source===mt||zt.target===mt).data.cutvalue;rt+=Et?-Ct:Ct}}}),rt},dt=(d,g=d.getAllNodes()[0].id)=>{wt(d,{},1,g)},wt=(d,g,w,A,W)=>{var Z;const et=w;let rt=w;const st=d.getNode(A);return g[A]=!0,(Z=d.getNeighbors(A))===null||Z===void 0||Z.forEach(ct=>{g[ct.id]||(rt=wt(d,g,rt,ct.id,A))}),st.data.low=et,st.data.lim=rt++,W?st.data.parent=W:delete st.data.parent,rt},Ot=d=>d.getAllEdges().find(g=>g.data.cutvalue<0),bt=(d,g,w)=>{let A=w.source,W=w.target;g.getRelatedEdges(A,"out").find(mt=>mt.target===W)||(A=w.target,W=w.source);const Z=d.getNode(A),et=d.getNode(W);let rt=Z,st=!1;Z.data.lim>et.data.lim&&(rt=et,st=!0);const ct=g.getAllEdges().filter(mt=>st===Nt(d.getNode(mt.source),rt)&&st!==Nt(d.getNode(mt.target),rt));return C(ct,mt=>m(g,mt))},Lt=(d,g,w,A)=>{const W=d.getRelatedEdges(w.source,"both").find(Z=>Z.source===w.target||Z.target===w.target);W&&d.removeEdge(W.id),d.addEdge({id:`e${Math.random()}`,source:A.source,target:A.target,data:{}}),dt(d),b(d,g),Wt(d,g)},Wt=(d,g)=>{const w=d.getAllNodes().find(W=>!W.data.parent);let A=H(d,w,"pre",!1);A=A.slice(1),A.forEach(W=>{const Z=d.getNode(W).data.parent;let et=g.getRelatedEdges(W,"out").find(st=>st.target===Z),rt=!1;!et&&g.hasNode(Z)&&(et=g.getRelatedEdges(Z,"out").find(st=>st.target===W),rt=!0),g.getNode(W).data.rank=(g.hasNode(Z)&&g.getNode(Z).data.rank||0)+(rt?et==null?void 0:et.data.minlen:-(et==null?void 0:et.data.minlen))})},pt=(d,g,w)=>d.getRelatedEdges(g,"both").find(A=>A.source===w||A.target===w),Nt=(d,g)=>g.data.low<=d.data.lim&&d.data.lim<=g.data.lim,Dt=(d,g)=>{switch(g){case"network-simplex":qt(d);break;case"tight-tree":Rt(d);break;case"longest-path":Ft(d);break;default:Rt(d)}},Ft=yn,Rt=d=>{An(d),t(d)},qt=d=>{N(d)},te=(d,g)=>{const{edgeLabelSpace:w,keepNodeOrder:A,prevGraph:W,rankdir:Z,ranksep:et}=g;!A&&W&&Qt(d,W);const rt=Be(d);w&&(g.ranksep=Ue(rt,{rankdir:Z,ranksep:et}));let st;try{st=Vt(rt,g)}catch(ct){if(ct.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,ct);return}throw ct}return oe(d,rt),st},Vt=(d,g)=>{const{acyclicer:w,ranker:A,rankdir:W="tb",nodeOrder:Z,keepNodeOrder:et,align:rt,nodesep:st=50,edgesep:ct=20,ranksep:mt=50}=g;wn(d),Y(d,w);const{nestingRoot:Et,nodeRankFactor:Pt}=Mt(d);Dt(L(d),A),he(d),k(d,Pt),St(d,Et),M(d),ze(d),De(d);const Ct=[];Xt(d,Ct),Ce(d,Ct),q(d),et&&Se(d,Z),sn(d,et),Xe(d),ht(d,W),cn(d,{align:rt,nodesep:st,edgesep:ct,ranksep:mt}),_e(d),$e(d),ee(d,Ct),Ye(d),nt(d,W);const{width:zt,height:Gt}=ke(d);return pe(d),Ke(d),F(d),{width:zt,height:Gt}},Qt=(d,g)=>{d.getAllNodes().forEach(w=>{const A=d.getNode(w.id);if(g.hasNode(w.id)){const W=g.getNode(w.id);A.data.fixorder=W.data._order,delete W.data._order}else delete A.data.fixorder})},oe=(d,g)=>{d.getAllNodes().forEach(w=>{var A;const W=d.getNode(w.id);if(W){const Z=g.getNode(w.id);W.data.x=Z.data.x,W.data.y=Z.data.y,W.data._order=Z.data.order,W.data._rank=Z.data.rank,!((A=g.getChildren(w.id))===null||A===void 0)&&A.length&&(W.data.width=Z.data.width,W.data.height=Z.data.height)}}),d.getAllEdges().forEach(w=>{const A=d.getEdge(w.id),W=g.getEdge(w.id);A.data.points=W?W.data.points:[],W&&W.data.hasOwnProperty("x")&&(A.data.x=W.data.x,A.data.y=W.data.y)})},ye=["width","height","layer","fixorder"],Tt={width:0,height:0},be=["minlen","weight","width","height","labeloffset"],we={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ne=["labelpos"],Be=d=>{const g=new I.k({tree:[]});return d.getAllNodes().forEach(w=>{const A=Ve(d.getNode(w.id).data),W=Object.assign(Object.assign({},Tt),A),Z=jt(W,ye);g.hasNode(w.id)||g.addNode({id:w.id,data:Object.assign({},Z)});const et=d.hasTreeStructure("combo")?d.getParent(w.id,"combo"):d.getParent(w.id);(0,D.Z)(et)||(g.hasNode(et.id)||g.addNode(Object.assign({},et)),g.setParent(w.id,et.id))}),d.getAllEdges().forEach(w=>{const A=Ve(d.getEdge(w.id).data),W={};ne==null||ne.forEach(Z=>{A[Z]!==void 0&&(W[Z]=A[Z])}),g.addEdge({id:w.id,source:w.source,target:w.target,data:Object.assign({},we,jt(A,be),W)})}),g},Ue=(d,g)=>{const{ranksep:w=0,rankdir:A}=g;return d.getAllNodes().forEach(W=>{isNaN(W.data.layer)||W.data.layer||(W.data.layer=0)}),d.getAllEdges().forEach(W=>{var Z;W.data.minlen*=2,((Z=W.data.labelpos)===null||Z===void 0?void 0:Z.toLowerCase())!=="c"&&(A==="TB"||A==="BT"?W.data.width+=W.data.labeloffset:W.data.height+=W.data.labeloffset)}),w/2},he=d=>{d.getAllEdges().forEach(g=>{if(g.data.width&&g.data.height){const w=d.getNode(g.source),A=d.getNode(g.target),W={e:g,rank:(A.data.rank-w.data.rank)/2+w.data.rank};j(d,"edge-proxy",W,"_ep")}})},ze=d=>{let g=0;return d.getAllNodes().forEach(w=>{var A,W;w.data.borderTop&&(w.data.minRank=(A=d.getNode(w.data.borderTop))===null||A===void 0?void 0:A.data.rank,w.data.maxRank=(W=d.getNode(w.data.borderBottom))===null||W===void 0?void 0:W.data.rank,g=Math.max(g,w.data.maxRank||-1/0))}),g},De=d=>{d.getAllNodes().forEach(g=>{g.data.dummy==="edge-proxy"&&(d.getEdge(g.data.e.id).data.labelRank=g.data.rank,d.removeNode(g.id))})},ke=(d,g)=>{let w,A=0,W,Z=0;const{marginx:et=0,marginy:rt=0}=g||{},st=ct=>{if(!ct.data)return;const mt=ct.data.x,Et=ct.data.y,Pt=ct.data.width,Ct=ct.data.height;!isNaN(mt)&&!isNaN(Pt)&&(w===void 0&&(w=mt-Pt/2),w=Math.min(w,mt-Pt/2),A=Math.max(A,mt+Pt/2)),!isNaN(Et)&&!isNaN(Ct)&&(W===void 0&&(W=Et-Ct/2),W=Math.min(W,Et-Ct/2),Z=Math.max(Z,Et+Ct/2))};return d.getAllNodes().forEach(ct=>{st(ct)}),d.getAllEdges().forEach(ct=>{ct!=null&&ct.data.hasOwnProperty("x")&&st(ct)}),w-=et,W-=rt,d.getAllNodes().forEach(ct=>{ct.data.x-=w,ct.data.y-=W}),d.getAllEdges().forEach(ct=>{var mt;(mt=ct.data.points)===null||mt===void 0||mt.forEach(Et=>{Et.x-=w,Et.y-=W}),ct.data.hasOwnProperty("x")&&(ct.data.x-=w),ct.data.hasOwnProperty("y")&&(ct.data.y-=W)}),{width:A-w+et,height:Z-W+rt}},pe=d=>{d.getAllEdges().forEach(g=>{const w=d.getNode(g.source),A=d.getNode(g.target);let W,Z;g.data.points?(W=g.data.points[0],Z=g.data.points[g.data.points.length-1]):(g.data.points=[],W={x:A.data.x,y:A.data.y},Z={x:w.data.x,y:w.data.y}),g.data.points.unshift(V(w.data,W)),g.data.points.push(V(A.data,Z))})},Ye=d=>{d.getAllEdges().forEach(g=>{if(g.data.hasOwnProperty("x"))switch((g.data.labelpos==="l"||g.data.labelpos==="r")&&(g.data.width-=g.data.labeloffset),g.data.labelpos){case"l":g.data.x-=g.data.width/2+g.data.labeloffset;break;case"r":g.data.x+=g.data.width/2+g.data.labeloffset;break}})},Ke=d=>{d.getAllEdges().forEach(g=>{var w;g.data.reversed&&((w=g.data.points)===null||w===void 0||w.reverse())})},$e=d=>{d.getAllNodes().forEach(g=>{var w,A,W;if(!((w=d.getChildren(g.id))===null||w===void 0)&&w.length){const Z=d.getNode(g.id),et=d.getNode(Z.data.borderTop),rt=d.getNode(Z.data.borderBottom),st=d.getNode(Z.data.borderLeft[((A=Z.data.borderLeft)===null||A===void 0?void 0:A.length)-1]),ct=d.getNode(Z.data.borderRight[((W=Z.data.borderRight)===null||W===void 0?void 0:W.length)-1]);Z.data.width=Math.abs((ct==null?void 0:ct.data.x)-(st==null?void 0:st.data.x))||10,Z.data.height=Math.abs((rt==null?void 0:rt.data.y)-(et==null?void 0:et.data.y))||10,Z.data.x=((st==null?void 0:st.data.x)||0)+Z.data.width/2,Z.data.y=((et==null?void 0:et.data.y)||0)+Z.data.height/2}}),d.getAllNodes().forEach(g=>{g.data.dummy==="border"&&d.removeNode(g.id)})},wn=d=>{d.getAllEdges().forEach(g=>{if(g.source===g.target){const w=d.getNode(g.source);w.data.selfEdges||(w.data.selfEdges=[]),w.data.selfEdges.push(g),d.removeEdge(g.id)}})},Xe=d=>{const g=B(d);g==null||g.forEach(w=>{let A=0;w==null||w.forEach((W,Z)=>{var et;const rt=d.getNode(W);rt.data.order=Z+A,(et=rt.data.selfEdges)===null||et===void 0||et.forEach(st=>{j(d,"selfedge",{width:st.data.width,height:st.data.height,rank:rt.data.rank,order:Z+ ++A,e:st},"_se")}),delete rt.data.selfEdges})})},_e=d=>{d.getAllNodes().forEach(g=>{const w=d.getNode(g.id);if(w.data.dummy==="selfedge"){const A=d.getNode(w.data.e.source),W=A.data.x+A.data.width/2,Z=A.data.y,et=w.data.x-W,rt=A.data.height/2;d.hasEdge(w.data.e.id)?d.updateEdgeData(w.data.e.id,w.data.e.data):d.addEdge({id:w.data.e.id,source:w.data.e.source,target:w.data.e.target,data:w.data.e.data}),d.removeNode(g.id),w.data.e.data.points=[{x:W+2*et/3,y:Z-rt},{x:W+5*et/6,y:Z-rt},{y:Z,x:W+et},{x:W+5*et/6,y:Z+rt},{x:W+2*et/3,y:Z+rt}],w.data.e.data.x=w.data.x,w.data.e.data.y=w.data.y}})},jt=(d,g)=>{const w={};return g==null||g.forEach(A=>{d[A]!==void 0&&(w[A]=+d[A])}),w},Ve=(d={})=>{const g={};return Object.keys(d).forEach(w=>{g[w.toLowerCase()]=d[w]}),g};var Je=i(78732),ie=i(98130),Qe=i(94754);const qe={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};class je{constructor(g={}){this.options=g,this.id="antv-dagre",this.options=Object.assign(Object.assign({},qe),g)}execute(g,w){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,g,w)})}assign(g,w){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,g,w)})}genericDagreLayout(g,w,A){return(0,s.mG)(this,void 0,void 0,function*(){const W=Object.assign(Object.assign({},this.options),A),{nodeSize:Z,align:et,rankdir:rt="TB",ranksep:st,nodesep:ct,ranksepFunc:mt,nodesepFunc:Et,edgeLabelSpace:Pt,ranker:Ct,nodeOrder:zt,begin:Gt,controlPoints:Zt,radial:Bt,sortByCombo:Ht,preset:fe}=W,ae=new I.k({tree:[]}),Fe=(0,Je.jE)(st||50,mt),hn=(0,Je.jE)(ct||50,Et);let Pe=hn,tn=Fe;(rt==="LR"||rt==="RL")&&(Pe=Fe,tn=hn);const En=(0,Je.tO)(10,Z,!1),fn=w.getAllNodes(),We=w.getAllEdges();fn.forEach($t=>{const Ee=(0,Qe._)(En($t)),Ne=tn($t),Re=Pe($t),Me=Ee[0]+2*Re,Jt=Ee[1]+2*Ne,Yt=$t.data.layer;(0,y.Z)(Yt)?ae.addNode({id:$t.id,data:{width:Me,height:Jt,layer:Yt}}):ae.addNode({id:$t.id,data:{width:Me,height:Jt}})}),Ht&&(ae.attachTreeStructure("combo"),fn.forEach($t=>{const{parentId:Ee}=$t.data;Ee!==void 0&&ae.hasNode(Ee)&&ae.setParent($t.id,Ee,"combo")})),We.forEach($t=>{ae.addEdge({id:$t.id,source:$t.source,target:$t.target,data:{weight:$t.data.weight||1}})});let en;fe!=null&&fe.length&&(en=new I.k({nodes:fe})),te(ae,{prevGraph:en,edgeLabelSpace:Pt,keepNodeOrder:!!zt,nodeOrder:zt||[],acyclicer:"greedy",ranker:Ct,rankdir:rt,nodesep:ct,align:et});const Le=[0,0];if(Gt){let $t=1/0,Ee=1/0;ae.getAllNodes().forEach(Ne=>{$t>Ne.data.x&&($t=Ne.data.x),Ee>Ne.data.y&&(Ee=Ne.data.y)}),ae.getAllEdges().forEach(Ne=>{var Re;(Re=Ne.data.points)===null||Re===void 0||Re.forEach(Me=>{$t>Me.x&&($t=Me.x),Ee>Me.y&&(Ee=Me.y)})}),Le[0]=Gt[0]-$t,Le[1]=Gt[1]-Ee}const rn=rt==="LR"||rt==="RL";if(!Bt){const $t=new Set,Ne=rt==="BT"||rt==="RL"?(Yt,ue)=>ue-Yt:(Yt,ue)=>Yt-ue;ae.getAllNodes().forEach(Yt=>{Yt.data.x=Yt.data.x+Le[0],Yt.data.y=Yt.data.y+Le[1],$t.add(rn?Yt.data.x:Yt.data.y)});const Re=Array.from($t).sort(Ne),Me=rn?(Yt,ue)=>Yt.x!==ue.x:(Yt,ue)=>Yt.y!==ue.y,Jt=rn?(Yt,ue,le)=>{const Ie=Math.max(ue.y,le.y),Ae=Math.min(ue.y,le.y);return Yt.filter(Ge=>Ge.y<=Ie&&Ge.y>=Ae)}:(Yt,ue,le)=>{const Ie=Math.max(ue.x,le.x),Ae=Math.min(ue.x,le.x);return Yt.filter(Ge=>Ge.x<=Ie&&Ge.x>=Ae)};ae.getAllEdges().forEach((Yt,ue)=>{var le;Pt&&Zt&&Yt.data.type!=="loop"&&(Yt.data.controlPoints=He((le=Yt.data.points)===null||le===void 0?void 0:le.map(({x:Ie,y:Ae})=>({x:Ie+Le[0],y:Ae+Le[1]})),ae.getNode(Yt.source),ae.getNode(Yt.target),Re,rn,Me,Jt))})}let nn=[];nn=ae.getAllNodes().map($t=>(0,ie.u)($t));const ln=ae.getAllEdges();return g&&(nn.forEach($t=>{w.mergeNodeData($t.id,{x:$t.data.x,y:$t.data.y})}),ln.forEach($t=>{w.mergeEdgeData($t.id,{controlPoints:$t.data.controlPoints})})),{nodes:nn,edges:ln}})}}const He=(d,g,w,A,W,Z,et)=>{let rt=(d==null?void 0:d.slice(1,d.length-1))||[];if(g&&w){let{x:st,y:ct}=g.data,{x:mt,y:Et}=w.data;if(W&&(st=g.data.y,ct=g.data.x,mt=w.data.y,Et=w.data.x),Et!==ct&&st!==mt){const Pt=A.indexOf(ct),Ct=A[Pt+1];if(Ct){const Zt=rt[0],Bt=W?{x:(ct+Ct)/2,y:(Zt==null?void 0:Zt.y)||mt}:{x:(Zt==null?void 0:Zt.x)||mt,y:(ct+Ct)/2};(!Zt||Z(Zt,Bt))&&rt.unshift(Bt)}const zt=A.indexOf(Et),Gt=Math.abs(zt-Pt);if(Gt===1)rt=et(rt,g.data,w.data),rt.length||rt.push(W?{x:(ct+Et)/2,y:st}:{x:st,y:(ct+Et)/2});else if(Gt>1){const Zt=A[zt-1];if(Zt){const Bt=rt[rt.length-1],Ht=W?{x:(Et+Zt)/2,y:(Bt==null?void 0:Bt.y)||mt}:{x:(Bt==null?void 0:Bt.x)||st,y:(Et+Zt)/2};(!Bt||Z(Bt,Ht))&&rt.push(Ht)}}}}return rt}},63795:function(G,tt,i){"use strict";i.d(tt,{S:function(){return E}});var s=i(97582),I=i(78732),y=i(98130),D=i(20464);const v={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};class E{constructor(a={}){this.options=a,this.id="circular",this.options=Object.assign(Object.assign({},v),a)}execute(a,h){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,a,h)})}assign(a,h){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,a,h)})}genericCircularLayout(a,h,l){return(0,s.mG)(this,void 0,void 0,function*(){const x=Object.assign(Object.assign({},this.options),l),{width:Y,height:$,center:F,divisions:X,startAngle:j=0,endAngle:J=2*Math.PI,angleRatio:L,ordering:T,clockwise:P,nodeSpacing:U,nodeSize:V}=x,B=h.getAllNodes(),M=h.getAllEdges(),[k,K,z]=r(Y,$,F),O=B==null?void 0:B.length;if(!O||O===1)return(0,D.P)(h,a,z);const C=(J-j)/O;let{radius:Q,startRadius:H,endRadius:q}=x;if(U){const it=(0,I.jE)(10,U),_=(0,I.tO)(10,V);let ft=-1/0;B.forEach(at=>{const Mt=_(at);ft<Mt&&(ft=Mt)});let lt=0;B.forEach((at,Mt)=>{Mt===0?lt+=ft||10:lt+=(it(at)||0)+(ft||10)}),Q=lt/(2*Math.PI)}else!Q&&!H&&!q?Q=Math.min(K,k)/2:!H&&q?H=q:H&&!q&&(q=H);const ot=C*L;let ht=[];T==="topology"?ht=p(h,B):T==="topology-directed"?ht=p(h,B,!0):T==="degree"?ht=c(h,B):ht=B.map(it=>(0,y.u)(it));const nt=Math.ceil(O/X);for(let it=0;it<O;++it){let _=Q;!_&&H!==null&&q!==null&&(_=H+it*(q-H)/(O-1)),_||(_=10+it*100/(O-1));let ft=j+it%nt*ot+2*Math.PI/X*Math.floor(it/nt);P||(ft=J-it%nt*ot-2*Math.PI/X*Math.floor(it/nt)),ht[it].data.x=z[0]+Math.cos(ft)*_,ht[it].data.y=z[1]+Math.sin(ft)*_}return a&&ht.forEach(it=>{h.mergeNodeData(it.id,{x:it.data.x,y:it.data.y})}),{nodes:ht,edges:M}})}}const p=(o,a,h=!1)=>{const l=[(0,y.u)(a[0])],x={},Y=a.length;x[a[0].id]=!0;let $=0;return a.forEach((F,X)=>{if(X!==0)if((X===Y-1||o.getDegree(F.id,"both")!==o.getDegree(a[X+1].id,"both")||o.areNeighbors(l[$].id,F.id))&&!x[F.id])l.push((0,y.u)(F)),x[F.id]=!0,$++;else{const j=h?o.getSuccessors(l[$].id):o.getNeighbors(l[$].id);let J=!1;for(let T=0;T<j.length;T++){const P=j[T];if(o.getDegree(P.id)===o.getDegree(F.id)&&!x[P.id]){l.push((0,y.u)(P)),x[P.id]=!0,J=!0;break}}let L=0;for(;!J&&(x[a[L].id]||(l.push((0,y.u)(a[L])),x[a[L].id]=!0,J=!0),L++,L!==Y););}}),l};function c(o,a){const h=[];return a.forEach((l,x)=>{h.push((0,y.u)(l))}),h.sort((l,x)=>o.getDegree(l.id,"both")-o.getDegree(x.id,"both")),h}const r=(o,a,h)=>{let l=o,x=a,Y=h;return!l&&typeof window!="undefined"&&(l=window.innerWidth),!x&&typeof window!="undefined"&&(x=window.innerHeight),Y||(Y=[l/2,x/2]),[l,x,Y]}},63757:function(G,tt,i){"use strict";i.d(tt,{u:function(){return Y}});var s=i(97582),I=i(72137),y=i(25897),D=i(45607),v=i(4637),E=i(5192),p=i(70979),c=i(64912),r=i(10779),o=i(80628),a=i(85087),h=i(20464);const l={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},x={center:[0,0],comboPadding:10,treeKey:"combo"};class Y{constructor(X={}){this.options=X,this.id="comboCombined",this.options=Object.assign(Object.assign({},x),X)}execute(X,j){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,X,j)})}assign(X,j){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,X,j)})}genericComboCombinedLayout(X,j,J){return(0,s.mG)(this,void 0,void 0,function*(){const L=this.initVals(Object.assign(Object.assign({},this.options),J)),{center:T,treeKey:P,outerLayout:U}=L,V=j.getAllNodes().filter(_=>!_.data._isCombo),B=j.getAllNodes().filter(_=>_.data._isCombo),M=j.getAllEdges(),k=V==null?void 0:V.length;if(!k||k===1)return(0,h.P)(j,X,T);const K=[],z=new Map;V.forEach(_=>{z.set(_.id,_)});const O=new Map;B.forEach(_=>{O.set(_.id,_)});const C=new Map,Q=this.getInnerGraphs(j,P,z,O,M,L,C);yield Promise.all(Q);const H=new Map,q=[],ot=new Map;let ht=!0;j.getRoots(P).forEach(_=>{const ft=C.get(_.id),lt=O.get(_.id)||z.get(_.id),at={id:_.id,data:Object.assign(Object.assign({},_.data),{x:ft.data.x||lt.data.x,y:ft.data.y||lt.data.y,fx:ft.data.fx||lt.data.fx,fy:ft.data.fy||lt.data.fy,mass:ft.data.mass||lt.data.mass,size:ft.data.size})};q.push(at),H.set(_.id,!0),!isNaN(at.data.x)&&at.data.x!==0&&!isNaN(at.data.y)&&at.data.y!==0?ht=!1:(at.data.x=Math.random()*100,at.data.y=Math.random()*100),(0,o._)(j,[_],Mt=>{Mt.id!==_.id&&ot.set(Mt.id,_.id)},"TB",P)});const nt=[];M.forEach(_=>{const ft=ot.get(_.source)||_.source,lt=ot.get(_.target)||_.target;ft!==lt&&H.has(ft)&&H.has(lt)&&nt.push({id:_.id,source:ft,target:lt,data:{}})});let gt;if(q!=null&&q.length){if(q.length===1)q[0].data.x=T[0],q[0].data.y=T[1];else{const _=new I.k({nodes:q,edges:nt}),ft=U||new p.y;ht&&l[ft.id]&&(yield(q.length<100?new c.A:new E.W).assign(_));const lt=Object.assign({center:T,kg:5,preventOverlap:!0,animate:!1},ft.id==="force"?{gravity:1,factor:4,linkDistance:(at,Mt,vt)=>{const yt=Math.max(...Mt.data.size)||32,xt=Math.max(...vt.data.size)||32;return yt/2+xt/2+200}}:{});gt=yield $(ft,_,lt)}C.forEach(_=>{var ft;const lt=gt.nodes.find(vt=>vt.id===_.id);if(lt){const{x:vt,y:yt}=lt.data;_.data.visited=!0,_.data.x=vt,_.data.y=yt,K.push({id:_.id,data:{x:vt,y:yt}})}const{x:at,y:Mt}=_.data;(ft=_.data.nodes)===null||ft===void 0||ft.forEach(vt=>{K.push({id:vt.id,data:{x:vt.data.x+at,y:vt.data.y+Mt}})})}),C.forEach(({data:_})=>{const{x:ft,y:lt,visited:at,nodes:Mt}=_;Mt==null||Mt.forEach(vt=>{if(!at){const yt=K.find(xt=>xt.id===vt.id);yt.data.x+=ft||0,yt.data.y+=lt||0}})})}return X&&K.forEach(_=>{j.mergeNodeData(_.id,{x:_.data.x,y:_.data.y})}),{nodes:K,edges:M}})}initVals(X){const j=Object.assign({},X),{nodeSize:J,spacing:L,comboPadding:T}=X;let P,U;if((0,y.Z)(L)?U=()=>L:(0,D.Z)(L)?U=L:U=()=>0,j.spacing=U,!J)P=B=>{const M=U(B);return B.size?(0,a.k)(B.size)?((B.size[0]>B.size[1]?B.size[0]:B.size[1])+M)/2:(0,v.Z)(B.size)?((B.size.width>B.size.height?B.size.width:B.size.height)+M)/2:(B.size+M)/2:32+M/2};else if((0,D.Z)(J))P=B=>{const M=J(B),k=U(B);return(0,a.k)(B.size)?((B.size[0]>B.size[1]?B.size[0]:B.size[1])+k)/2:((M||32)+k)/2};else if((0,a.k)(J)){const M=(J[0]>J[1]?J[0]:J[1])/2;P=k=>M+U(k)/2}else{const B=J/2;P=M=>B+U(M)/2}j.nodeSize=P;let V;return(0,y.Z)(T)?V=()=>T:(0,a.k)(T)?V=()=>Math.max.apply(null,T):(0,D.Z)(T)?V=T:V=()=>0,j.comboPadding=V,j}getInnerGraphs(X,j,J,L,T,P,U){const{nodeSize:V,comboPadding:B,spacing:M,innerLayout:k}=P,K=k||new E.W({}),z={center:[0,0],preventOverlap:!0,nodeSpacing:M},O=[],C=Q=>{let H=(B==null?void 0:B(Q))||10;return(0,a.k)(H)&&(H=Math.max(...H)),{size:H?[H*2,H*2]:[30,30],padding:H}};return X.getRoots(j).forEach(Q=>{U.set(Q.id,{id:Q.id,data:{nodes:[],size:C(Q).size}});let H=Promise.resolve();(0,o._)(X,[Q],q=>{var ot;if(!q.data._isCombo)return;const{size:ht,padding:nt}=C(q);if(!(!((ot=X.getChildren(q.id,j))===null||ot===void 0)&&ot.length))U.set(q.id,{id:q.id,data:Object.assign(Object.assign({},q.data),{size:ht})});else{const gt=U.get(q.id);U.set(q.id,{id:q.id,data:Object.assign({nodes:[]},gt==null?void 0:gt.data)});const it=new Map,_=X.getChildren(q.id,j).map(at=>{if(at.data._isCombo)return U.has(at.id)||U.set(at.id,{id:at.id,data:Object.assign({},at.data)}),it.set(at.id,!0),U.get(at.id);const Mt=J.get(at.id)||L.get(at.id);return it.set(at.id,!0),{id:at.id,data:Object.assign(Object.assign({},Mt.data),at.data)}}),ft={nodes:_,edges:T.filter(at=>it.has(at.source)&&it.has(at.target))};let lt=1/0;_.forEach(at=>{var Mt;let{size:vt}=at.data;vt||(vt=((Mt=U.get(at.id))===null||Mt===void 0?void 0:Mt.data.size)||(V==null?void 0:V(at))||[30,30]),(0,y.Z)(vt)&&(vt=[vt,vt]);const[yt,xt]=vt;lt>yt&&(lt=yt),lt>xt&&(lt=xt),at.data.size=vt}),H=H.then(()=>(0,s.mG)(this,void 0,void 0,function*(){const at=new I.k(ft);yield $(K,at,z,!0);const{minX:Mt,minY:vt,maxX:yt,maxY:xt}=(0,o.H0)(_),St={x:(yt+Mt)/2,y:(xt+vt)/2};ft.nodes.forEach(At=>{At.data.x-=St.x,At.data.y-=St.y});const It=[Math.max(yt-Mt,lt)+nt*2,Math.max(xt-vt,lt)+nt*2];U.get(q.id).data.size=It,U.get(q.id).data.nodes=_}))}return!0},"BT",j),O.push(H)}),O}}function $(F,X,j,J){var L;return(0,s.mG)(this,void 0,void 0,function*(){return(0,r.h)(F)?(F.execute(X,j),F.stop(),F.tick((L=j.iterations)!==null&&L!==void 0?L:300)):J?yield F.assign(X,j):yield F.execute(X,j)})}},5192:function(G,tt,i){"use strict";i.d(tt,{W:function(){return a}});var s=i(97582),I=i(45607),y=i(25897),D=i(4637),v=i(76714),E=i(85087),p=i(98130),c=i(20464),r=i(94754);const o={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class a{constructor(l={}){this.options=l,this.id="concentric",this.options=Object.assign(Object.assign({},o),l)}execute(l,x){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,l,x)})}assign(l,x){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,l,x)})}genericConcentricLayout(l,x,Y){return(0,s.mG)(this,void 0,void 0,function*(){const $=Object.assign(Object.assign({},this.options),Y),{center:F,width:X,height:j,sortBy:J,maxLevelDiff:L,sweep:T,clockwise:P,equidistant:U,preventOverlap:V,startAngle:B=3/2*Math.PI,nodeSize:M,nodeSpacing:k}=$,K=x.getAllNodes(),z=x.getAllEdges(),O=!X&&typeof window!="undefined"?window.innerWidth:X,C=!j&&typeof window!="undefined"?window.innerHeight:j,Q=F||[O/2,C/2];if(!(K!=null&&K.length)||K.length===1)return(0,c.P)(x,l,Q);const H=[];let q,ot=0;(0,E.k)(M)?q=Math.max(M[0],M[1]):(0,I.Z)(M)?(q=-1/0,K.forEach(vt=>{const yt=Math.max(...(0,r._)(M(vt)));yt>q&&(q=yt)})):q=M,(0,E.k)(k)?ot=Math.max(k[0],k[1]):(0,y.Z)(k)&&(ot=k),K.forEach(vt=>{const yt=(0,p.u)(vt);H.push(yt);let xt=q;const{data:St}=yt;(0,E.k)(St.size)?xt=Math.max(St.size[0],St.size[1]):(0,y.Z)(St.size)?xt=St.size:(0,D.Z)(St.size)&&(xt=Math.max(St.size.width,St.size.height)),q=Math.max(q,xt),(0,I.Z)(k)&&(ot=Math.max(k(vt),ot))});const ht={};H.forEach((vt,yt)=>{ht[vt.id]=yt});let nt=J;(!(0,v.Z)(nt)||H[0].data[nt]===void 0)&&(nt="degree"),nt==="degree"?H.sort((vt,yt)=>x.getDegree(yt.id,"both")-x.getDegree(vt.id,"both")):H.sort((vt,yt)=>yt.data[nt]-vt.data[nt]);const gt=H[0],it=(L||(nt==="degree"?x.getDegree(gt.id,"both"):gt.data[nt]))/4,_=[{nodes:[]}];let ft=_[0];H.forEach(vt=>{if(ft.nodes.length>0){const yt=Math.abs(nt==="degree"?x.getDegree(ft.nodes[0].id,"both")-x.getDegree(vt.id,"both"):ft.nodes[0].data[nt]-vt.data[nt]);it&&yt>=it&&(ft={nodes:[]},_.push(ft))}ft.nodes.push(vt)});let lt=q+ot;if(!V){const vt=_.length>0&&_[0].nodes.length>1,xt=(Math.min(O,C)/2-lt)/(_.length+(vt?1:0));lt=Math.min(lt,xt)}let at=0;if(_.forEach(vt=>{const yt=T===void 0?2*Math.PI-2*Math.PI/vt.nodes.length:T;if(vt.dTheta=yt/Math.max(1,vt.nodes.length-1),vt.nodes.length>1&&V){const xt=Math.cos(vt.dTheta)-Math.cos(0),St=Math.sin(vt.dTheta)-Math.sin(0),It=Math.sqrt(lt*lt/(xt*xt+St*St));at=Math.max(It,at)}vt.r=at,at+=lt}),U){let vt=0,yt=0;for(let xt=0;xt<_.length;xt++){const It=(_[xt].r||0)-yt;vt=Math.max(vt,It)}yt=0,_.forEach((xt,St)=>{St===0&&(yt=xt.r||0),xt.r=yt,yt+=vt})}return _.forEach(vt=>{const yt=vt.dTheta||0,xt=vt.r||0;vt.nodes.forEach((St,It)=>{const At=B+(P?1:-1)*yt*It;St.data.x=Q[0]+xt*Math.cos(At),St.data.y=Q[1]+xt*Math.sin(At)})}),l&&H.forEach(vt=>x.mergeNodeData(vt.id,{x:vt.data.x,y:vt.data.y})),{nodes:H,edges:z}})}}},58745:function(G,tt,i){"use strict";i.d(tt,{j:function(){return K}});var s=i(97582),I=i(83787),y=i(23413);function D(O){return function(){return O}}function v(O){return(O()-.5)*1e-6}function E(O){return O.index}function p(O,C){var Q=O.get(C);if(!Q)throw new Error("node not found: "+C);return Q}function c(O){var C=E,Q=ft,H,q=D(30),ot,ht,nt,gt,it,_=1;O==null&&(O=[]);function ft(yt){return 1/Math.min(nt[yt.source.index],nt[yt.target.index])}function lt(yt){for(var xt=0,St=O.length;xt<_;++xt)for(var It=0,At,Xt,_t,ee,Kt,ge,Ut;It<St;++It)At=O[It],Xt=At.source,_t=At.target,ee=_t.x+_t.vx-Xt.x-Xt.vx||v(it),Kt=_t.y+_t.vy-Xt.y-Xt.vy||v(it),ge=Math.sqrt(ee*ee+Kt*Kt),ge=(ge-ot[It])/ge*yt*H[It],ee*=ge,Kt*=ge,_t.vx-=ee*(Ut=gt[It]),_t.vy-=Kt*Ut,Xt.vx+=ee*(Ut=1-Ut),Xt.vy+=Kt*Ut}function at(){if(ht){var yt,xt=ht.length,St=O.length,It=new Map(ht.map((Xt,_t)=>[C(Xt,_t,ht),Xt])),At;for(yt=0,nt=new Array(xt);yt<St;++yt)At=O[yt],At.index=yt,typeof At.source!="object"&&(At.source=p(It,At.source)),typeof At.target!="object"&&(At.target=p(It,At.target)),nt[At.source.index]=(nt[At.source.index]||0)+1,nt[At.target.index]=(nt[At.target.index]||0)+1;for(yt=0,gt=new Array(St);yt<St;++yt)At=O[yt],gt[yt]=nt[At.source.index]/(nt[At.source.index]+nt[At.target.index]);H=new Array(St),Mt(),ot=new Array(St),vt()}}function Mt(){if(ht)for(var yt=0,xt=O.length;yt<xt;++yt)H[yt]=+Q(O[yt],yt,O)}function vt(){if(ht)for(var yt=0,xt=O.length;yt<xt;++yt)ot[yt]=+q(O[yt],yt,O)}return lt.initialize=function(yt,xt){ht=yt,it=xt,at()},lt.links=function(yt){return arguments.length?(O=yt,at(),lt):O},lt.id=function(yt){return arguments.length?(C=yt,lt):C},lt.iterations=function(yt){return arguments.length?(_=+yt,lt):_},lt.strength=function(yt){return arguments.length?(Q=typeof yt=="function"?yt:D(+yt),Mt(),lt):Q},lt.distance=function(yt){return arguments.length?(q=typeof yt=="function"?yt:D(+yt),vt(),lt):q},lt}var r=i(81269),o=i(86999),a=i(91739);const h=1664525,l=1013904223,x=4294967296;function Y(){let O=1;return()=>(O=(h*O+l)%x)/x}function $(O){return O.x}function F(O){return O.y}var X=10,j=Math.PI*(3-Math.sqrt(5));function J(O){var C,Q=1,H=.001,q=1-Math.pow(H,1/300),ot=0,ht=.6,nt=new Map,gt=(0,a.HT)(ft),it=(0,o.Z)("tick","end"),_=Y();O==null&&(O=[]);function ft(){lt(),it.call("tick",C),Q<H&&(gt.stop(),it.call("end",C))}function lt(vt){var yt,xt=O.length,St;vt===void 0&&(vt=1);for(var It=0;It<vt;++It)for(Q+=(ot-Q)*q,nt.forEach(function(At){At(Q)}),yt=0;yt<xt;++yt)St=O[yt],St.fx==null?St.x+=St.vx*=ht:(St.x=St.fx,St.vx=0),St.fy==null?St.y+=St.vy*=ht:(St.y=St.fy,St.vy=0);return C}function at(){for(var vt=0,yt=O.length,xt;vt<yt;++vt){if(xt=O[vt],xt.index=vt,xt.fx!=null&&(xt.x=xt.fx),xt.fy!=null&&(xt.y=xt.fy),isNaN(xt.x)||isNaN(xt.y)){var St=X*Math.sqrt(.5+vt),It=vt*j;xt.x=St*Math.cos(It),xt.y=St*Math.sin(It)}(isNaN(xt.vx)||isNaN(xt.vy))&&(xt.vx=xt.vy=0)}}function Mt(vt){return vt.initialize&&vt.initialize(O,_),vt}return at(),C={tick:lt,restart:function(){return gt.restart(ft),C},stop:function(){return gt.stop(),C},nodes:function(vt){return arguments.length?(O=vt,at(),nt.forEach(Mt),C):O},alpha:function(vt){return arguments.length?(Q=+vt,C):Q},alphaMin:function(vt){return arguments.length?(H=+vt,C):H},alphaDecay:function(vt){return arguments.length?(q=+vt,C):+q},alphaTarget:function(vt){return arguments.length?(ot=+vt,C):ot},velocityDecay:function(vt){return arguments.length?(ht=1-vt,C):1-ht},randomSource:function(vt){return arguments.length?(_=vt,nt.forEach(Mt),C):_},force:function(vt,yt){return arguments.length>1?(yt==null?nt.delete(vt):nt.set(vt,Mt(yt)),C):nt.get(vt)},find:function(vt,yt,xt){var St=0,It=O.length,At,Xt,_t,ee,Kt;for(xt==null?xt=1/0:xt*=xt,St=0;St<It;++St)ee=O[St],At=vt-ee.x,Xt=yt-ee.y,_t=At*At+Xt*Xt,_t<xt&&(Kt=ee,xt=_t);return Kt},on:function(vt,yt){return arguments.length>1?(it.on(vt,yt),C):it.on(vt)}}}function L(){var O,C,Q,H,q=D(-30),ot,ht=1,nt=1/0,gt=.81;function it(at){var Mt,vt=O.length,yt=(0,r.Z)(O,$,F).visitAfter(ft);for(H=at,Mt=0;Mt<vt;++Mt)C=O[Mt],yt.visit(lt)}function _(){if(O){var at,Mt=O.length,vt;for(ot=new Array(Mt),at=0;at<Mt;++at)vt=O[at],ot[vt.index]=+q(vt,at,O)}}function ft(at){var Mt=0,vt,yt,xt=0,St,It,At;if(at.length){for(St=It=At=0;At<4;++At)(vt=at[At])&&(yt=Math.abs(vt.value))&&(Mt+=vt.value,xt+=yt,St+=yt*vt.x,It+=yt*vt.y);at.x=St/xt,at.y=It/xt}else{vt=at,vt.x=vt.data.x,vt.y=vt.data.y;do Mt+=ot[vt.data.index];while(vt=vt.next)}at.value=Mt}function lt(at,Mt,vt,yt){if(!at.value)return!0;var xt=at.x-C.x,St=at.y-C.y,It=yt-Mt,At=xt*xt+St*St;if(It*It/gt<At)return At<nt&&(xt===0&&(xt=v(Q),At+=xt*xt),St===0&&(St=v(Q),At+=St*St),At<ht&&(At=Math.sqrt(ht*At)),C.vx+=xt*at.value*H/At,C.vy+=St*at.value*H/At),!0;if(at.length||At>=nt)return;(at.data!==C||at.next)&&(xt===0&&(xt=v(Q),At+=xt*xt),St===0&&(St=v(Q),At+=St*St),At<ht&&(At=Math.sqrt(ht*At)));do at.data!==C&&(It=ot[at.data.index]*H/At,C.vx+=xt*It,C.vy+=St*It);while(at=at.next)}return it.initialize=function(at,Mt){O=at,Q=Mt,_()},it.strength=function(at){return arguments.length?(q=typeof at=="function"?at:D(+at),_(),it):q},it.distanceMin=function(at){return arguments.length?(ht=at*at,it):Math.sqrt(ht)},it.distanceMax=function(at){return arguments.length?(nt=at*at,it):Math.sqrt(nt)},it.theta=function(at){return arguments.length?(gt=at*at,it):Math.sqrt(gt)},it}function T(O,C){var Q,H=1;O==null&&(O=0),C==null&&(C=0);function q(){var ot,ht=Q.length,nt,gt=0,it=0;for(ot=0;ot<ht;++ot)nt=Q[ot],gt+=nt.x,it+=nt.y;for(gt=(gt/ht-O)*H,it=(it/ht-C)*H,ot=0;ot<ht;++ot)nt=Q[ot],nt.x-=gt,nt.y-=it}return q.initialize=function(ot){Q=ot},q.x=function(ot){return arguments.length?(O=+ot,q):O},q.y=function(ot){return arguments.length?(C=+ot,q):C},q.strength=function(ot){return arguments.length?(H=+ot,q):H},q}function P(O){return O.x+O.vx}function U(O){return O.y+O.vy}function V(O){var C,Q,H,q=1,ot=1;typeof O!="function"&&(O=D(O==null?1:+O));function ht(){for(var it,_=C.length,ft,lt,at,Mt,vt,yt,xt=0;xt<ot;++xt)for(ft=(0,r.Z)(C,P,U).visitAfter(nt),it=0;it<_;++it)lt=C[it],vt=Q[lt.index],yt=vt*vt,at=lt.x+lt.vx,Mt=lt.y+lt.vy,ft.visit(St);function St(It,At,Xt,_t,ee){var Kt=It.data,ge=It.r,Ut=vt+ge;if(Kt){if(Kt.index>lt.index){var ve=at-Kt.x-Kt.vx,ce=Mt-Kt.y-Kt.vy,re=ve*ve+ce*ce;re<Ut*Ut&&(ve===0&&(ve=v(H),re+=ve*ve),ce===0&&(ce=v(H),re+=ce*ce),re=(Ut-(re=Math.sqrt(re)))/re*q,lt.vx+=(ve*=re)*(Ut=(ge*=ge)/(yt+ge)),lt.vy+=(ce*=re)*Ut,Kt.vx-=ve*(Ut=1-Ut),Kt.vy-=ce*Ut)}return}return At>at+Ut||_t<at-Ut||Xt>Mt+Ut||ee<Mt-Ut}}function nt(it){if(it.data)return it.r=Q[it.data.index];for(var _=it.r=0;_<4;++_)it[_]&&it[_].r>it.r&&(it.r=it[_].r)}function gt(){if(C){var it,_=C.length,ft;for(Q=new Array(_),it=0;it<_;++it)ft=C[it],Q[ft.index]=+O(ft,it,C)}}return ht.initialize=function(it,_){C=it,H=_,gt()},ht.iterations=function(it){return arguments.length?(ot=+it,ht):ot},ht.strength=function(it){return arguments.length?(q=+it,ht):q},ht.radius=function(it){return arguments.length?(O=typeof it=="function"?it:D(+it),gt(),ht):O},ht}function B(O,C,Q){var H,q=D(.1),ot,ht;typeof O!="function"&&(O=D(+O)),C==null&&(C=0),Q==null&&(Q=0);function nt(it){for(var _=0,ft=H.length;_<ft;++_){var lt=H[_],at=lt.x-C||1e-6,Mt=lt.y-Q||1e-6,vt=Math.sqrt(at*at+Mt*Mt),yt=(ht[_]-vt)*ot[_]*it/vt;lt.vx+=at*yt,lt.vy+=Mt*yt}}function gt(){if(H){var it,_=H.length;for(ot=new Array(_),ht=new Array(_),it=0;it<_;++it)ht[it]=+O(H[it],it,H),ot[it]=isNaN(ht[it])?0:+q(H[it],it,H)}}return nt.initialize=function(it){H=it,gt()},nt.strength=function(it){return arguments.length?(q=typeof it=="function"?it:D(+it),gt(),nt):q},nt.radius=function(it){return arguments.length?(O=typeof it=="function"?it:D(+it),gt(),nt):O},nt.x=function(it){return arguments.length?(C=+it,nt):C},nt.y=function(it){return arguments.length?(Q=+it,nt):Q},nt}function M(O){var C=D(.1),Q,H,q;typeof O!="function"&&(O=D(O==null?0:+O));function ot(nt){for(var gt=0,it=Q.length,_;gt<it;++gt)_=Q[gt],_.vx+=(q[gt]-_.x)*H[gt]*nt}function ht(){if(Q){var nt,gt=Q.length;for(H=new Array(gt),q=new Array(gt),nt=0;nt<gt;++nt)H[nt]=isNaN(q[nt]=+O(Q[nt],nt,Q))?0:+C(Q[nt],nt,Q)}}return ot.initialize=function(nt){Q=nt,ht()},ot.strength=function(nt){return arguments.length?(C=typeof nt=="function"?nt:D(+nt),ht(),ot):C},ot.x=function(nt){return arguments.length?(O=typeof nt=="function"?nt:D(+nt),ht(),ot):O},ot}function k(O){var C=D(.1),Q,H,q;typeof O!="function"&&(O=D(O==null?0:+O));function ot(nt){for(var gt=0,it=Q.length,_;gt<it;++gt)_=Q[gt],_.vy+=(q[gt]-_.y)*H[gt]*nt}function ht(){if(Q){var nt,gt=Q.length;for(H=new Array(gt),q=new Array(gt),nt=0;nt<gt;++nt)H[nt]=isNaN(q[nt]=+O(Q[nt],nt,Q))?0:+C(Q[nt],nt,Q)}}return ot.initialize=function(nt){Q=nt,ht()},ot.strength=function(nt){return arguments.length?(C=typeof nt=="function"?nt:D(+nt),ht(),ot):C},ot.y=function(nt){return arguments.length?(O=typeof nt=="function"?nt:D(+nt),ht(),ot):O},ot}class K{constructor(C){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:c,manyBody:L,center:T,collide:V,radial:B,x:M,y:k},this.options={link:{id:Q=>Q.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},(0,I.Z)(this.options,C),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(C,Q){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericLayout(!1,C,Q)})}assign(C,Q){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericLayout(!0,C,Q)})}stop(){this.simulation.stop()}tick(C){return this.simulation.tick(C),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(C,Q){const H=this.context.nodes.find(q=>q.id===C);H&&Q.forEach((q,ot)=>{if(typeof q=="number"||q===null){const ht=["fx","fy","fz"][ot];H[ht]=q}})}getOptions(C){var Q,H;const q=(0,I.Z)({},this.options,C);return q.collide&&((Q=q.collide)===null||Q===void 0?void 0:Q.radius)===void 0&&(q.collide=q.collide||{},q.collide.radius=(H=q.nodeSize)!==null&&H!==void 0?H:10),q.iterations===void 0&&(q.link&&q.link.iterations===void 0&&(q.iterations=q.link.iterations),q.collide&&q.collide.iterations===void 0&&(q.iterations=q.collide.iterations)),this.context.options=q,q}genericLayout(C,Q,H){var q;return(0,s.mG)(this,void 0,void 0,function*(){const ot=this.getOptions(H),ht=Q.getAllNodes().map(({id:_,data:ft})=>Object.assign(Object.assign({id:_},ft),(0,y.Z)(ft.data,this.config.inputNodeAttrs))),nt=Q.getAllEdges().map(_=>Object.assign({},_));Object.assign(this.context,{assign:C,nodes:ht,edges:nt,graph:Q});const gt=new Promise(_=>{this.resolver=_}),it=this.setSimulation(ot);return it.nodes(ht),(q=it.force("link"))===null||q===void 0||q.links(nt),gt})}getResult(){const{assign:C,nodes:Q,edges:H,graph:q}=this.context,ot=Q.map(nt=>({id:nt.id,data:Object.assign(Object.assign({},nt.data),(0,y.Z)(nt,this.config.outputNodeAttrs))})),ht=H.map(({id:nt,source:gt,target:it,data:_})=>({id:nt,source:typeof gt=="object"?gt.id:gt,target:typeof it=="object"?it.id:it,data:_}));return C&&ot.forEach(nt=>q.mergeNodeData(nt.id,nt.data)),{nodes:ot,edges:ht}}initSimulation(){return J()}setSimulation(C){const Q=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=Q.on("tick",()=>{var H;return(H=C.onTick)===null||H===void 0?void 0:H.call(C,this.getResult())}).on("end",()=>{var H;return(H=this.resolver)===null||H===void 0?void 0:H.call(this,this.getResult())})),z(Q,this.config.simulationAttrs.map(H=>[H,C[H]])),Object.entries(this.forceMap).forEach(([H,q])=>{const ot=H;if(C[H]){let ht=Q.force(ot);ht||(ht=q(),Q.force(ot,ht)),z(ht,Object.entries(C[ot]))}else Q.force(ot,null)}),Q}}const z=(O,C)=>C.reduce((Q,[H,q])=>!Q[H]||q===void 0?Q:Q[H].call(O,q),O)},21183:function(G,tt,i){"use strict";i.d(tt,{V:function(){return p}});var s=i(97582),I=i(25897),y=i(45607),D=i(70681),v=i.n(D),E=i(94754);class p{constructor(r){this.id="dagre",this.options={},Object.assign(this.options,p.defaultOptions,r)}execute(r,o){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,r,Object.assign(Object.assign({},this.options),o))})}assign(r,o){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,r,Object.assign(Object.assign({},this.options),o))})}genericDagreLayout(r,o,a){return(0,s.mG)(this,void 0,void 0,function*(){const{nodeSize:h}=a,l=new D.graphlib.Graph;l.setGraph(a),l.setDefaultEdgeLabel(()=>({}));const x=o.getAllNodes(),Y=o.getAllEdges();[...x,...Y].some(({id:F})=>(0,I.Z)(F))&&console.error("Dagre layout only support string id, it will convert number to string."),o.getAllNodes().forEach(F=>{const{id:X}=F,j=Object.assign({},F.data);if(h!==void 0){const[J,L]=(0,E._)((0,y.Z)(h)?h(F):h);Object.assign(j,{width:J,height:L})}l.setNode(X.toString(),j)}),o.getAllEdges().forEach(({id:F,source:X,target:j})=>{l.setEdge(X.toString(),j.toString(),{id:F})}),v().layout(l);const $={nodes:[],edges:[]};return l.nodes().forEach(F=>{const X=l.node(F);$.nodes.push({id:F,data:X}),r&&o.mergeNodeData(F,X)}),l.edges().forEach(F=>{const X=l.edge(F),{id:j}=X,J=(0,s._T)(X,["id"]),{v:L,w:T}=F;$.edges.push({id:j,source:L,target:T,data:J}),r&&o.mergeEdgeData(j,J)}),$})}}p.defaultOptions={}},40476:function(G,tt,i){"use strict";i.d(tt,{E:function(){return a}});var s=i(97582),I=i(72137),y=i(25897),D=i(98130),v=i(78732),E=i(20464);class p{constructor(l){this.id=l.id||0,this.rx=l.rx,this.ry=l.ry,this.fx=0,this.fy=0,this.mass=l.mass,this.degree=l.degree,this.g=l.g||0}distanceTo(l){const x=this.rx-l.rx,Y=this.ry-l.ry;return Math.hypot(x,Y)}setPos(l,x){this.rx=l,this.ry=x}resetForce(){this.fx=0,this.fy=0}addForce(l){const x=l.rx-this.rx,Y=l.ry-this.ry;let $=Math.hypot(x,Y);$=$<1e-4?1e-4:$;const F=this.g*(this.degree+1)*(l.degree+1)/$;this.fx+=F*x/$,this.fy+=F*Y/$}in(l){return l.contains(this.rx,this.ry)}add(l){const x=this.mass+l.mass,Y=(this.rx*this.mass+l.rx*l.mass)/x,$=(this.ry*this.mass+l.ry*l.mass)/x,F=this.degree+l.degree,X={rx:Y,ry:$,mass:x,degree:F};return new p(X)}}class c{constructor(l){this.xmid=l.xmid,this.ymid=l.ymid,this.length=l.length,this.massCenter=l.massCenter||[0,0],this.mass=l.mass||1}getLength(){return this.length}contains(l,x){const Y=this.length/2;return l<=this.xmid+Y&&l>=this.xmid-Y&&x<=this.ymid+Y&&x>=this.ymid-Y}NW(){const l=this.xmid-this.length/4,x=this.ymid+this.length/4,Y=this.length/2,$={xmid:l,ymid:x,length:Y};return new c($)}NE(){const l=this.xmid+this.length/4,x=this.ymid+this.length/4,Y=this.length/2,$={xmid:l,ymid:x,length:Y};return new c($)}SW(){const l=this.xmid-this.length/4,x=this.ymid-this.length/4,Y=this.length/2,$={xmid:l,ymid:x,length:Y};return new c($)}SE(){const l=this.xmid+this.length/4,x=this.ymid-this.length/4,Y=this.length/2,$={xmid:l,ymid:x,length:Y};return new c($)}}class r{constructor(l){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,l!=null&&(this.quad=l)}insert(l){if(this.body==null){this.body=l;return}this._isExternal()?(this.quad&&(this.NW=new r(this.quad.NW()),this.NE=new r(this.quad.NE()),this.SW=new r(this.quad.SW()),this.SE=new r(this.quad.SE())),this._putBody(this.body),this._putBody(l),this.body=this.body.add(l)):(this.body=this.body.add(l),this._putBody(l))}_putBody(l){this.quad&&(l.in(this.quad.NW())&&this.NW?this.NW.insert(l):l.in(this.quad.NE())&&this.NE?this.NE.insert(l):l.in(this.quad.SW())&&this.SW?this.SW.insert(l):l.in(this.quad.SE())&&this.SE&&this.SE.insert(l))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(l){if(!(this.body==null||l===this.body))if(this._isExternal())l.addForce(this.body);else{const x=this.quad?this.quad.getLength():0,Y=this.body.distanceTo(l);x/Y<this.theta?l.addForce(this.body):(this.NW&&this.NW.updateForce(l),this.NE&&this.NE.updateForce(l),this.SW&&this.SW.updateForce(l),this.SE&&this.SE.updateForce(l))}}}const o={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};class a{constructor(l={}){this.options=l,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},o),l)}execute(l,x){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,l,x)})}assign(l,x){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,l,x)})}genericForceAtlas2Layout(l,x,Y){return(0,s.mG)(this,void 0,void 0,function*(){const $=x.getAllEdges(),F=x.getAllNodes(),X=this.formatOptions(Y,F.length),{width:j,height:J,prune:L,maxIteration:T,nodeSize:P,center:U}=X;if(!(F!=null&&F.length)||F.length===1)return(0,E.P)(x,l,U);const V=F.map(K=>(0,D.u)(K,[j,J])),B=$.filter(K=>{const{source:z,target:O}=K;return z!==O}),M=new I.k({nodes:V,edges:B}),k=this.getSizes(M,P);if(this.run(M,x,T,k,l,X),L){for(let z=0;z<B.length;z+=1){const{source:O,target:C}=B[z],Q=M.getDegree(O),H=M.getDegree(O);if(Q<=1){const q=M.getNode(C);M.mergeNodeData(O,{x:q.data.x,y:q.data.y})}else if(H<=1){const q=M.getNode(O);M.mergeNodeData(C,{x:q.data.x,y:q.data.y})}}const K=Object.assign(Object.assign({},X),{prune:!1,barnesHut:!1});this.run(M,x,100,k,l,K)}return{nodes:V,edges:$}})}getSizes(l,x){const Y=l.getAllNodes(),$={};for(let F=0;F<Y.length;F+=1){const X=Y[F];$[X.id]=(0,v.uE)(x,void 0)(X)}return $}formatOptions(l={},x){const Y=Object.assign(Object.assign({},this.options),l),{center:$,width:F,height:X,barnesHut:j,prune:J,maxIteration:L,kr:T,kg:P}=Y;return Y.width=!F&&typeof window!="undefined"?window.innerWidth:F,Y.height=!X&&typeof window!="undefined"?window.innerHeight:X,Y.center=$||[Y.width/2,Y.height/2],j===void 0&&x>250&&(Y.barnesHut=!0),J===void 0&&x>100&&(Y.prune=!0),L===0&&!J?(Y.maxIteration=250,x<=200&&x>100?Y.maxIteration=1e3:x>200&&(Y.maxIteration=1200)):L===0&&J&&(Y.maxIteration=100,x<=200&&x>100?Y.maxIteration=500:x>200&&(Y.maxIteration=950)),T||(Y.kr=50,x>100&&x<=500?Y.kr=20:x>500&&(Y.kr=1)),P||(Y.kg=20,x>100&&x<=500?Y.kg=10:x>500&&(Y.kg=1)),Y}run(l,x,Y,$,F,X){const{kr:j,barnesHut:J,onTick:L}=X,T=l.getAllNodes();let P=0,U=Y;const V={},B={},M={};for(let k=0;k<T.length;k+=1){const{data:K,id:z}=T[k];if(V[z]=[0,0],J){const O={id:k,rx:K.x,ry:K.y,mass:1,g:j,degree:l.getDegree(z)};M[z]=new p(O)}}for(;U>0;)P=this.oneStep(l,{iter:U,preventOverlapIters:50,krPrime:100,sg:P,forces:V,preForces:B,bodies:M,sizes:$},X),U--,L==null||L({nodes:T,edges:x.getAllEdges()});return l}oneStep(l,x,Y){const{iter:$,preventOverlapIters:F,krPrime:X,sg:j,preForces:J,bodies:L,sizes:T}=x;let{forces:P}=x;const{preventOverlap:U,barnesHut:V}=Y,B=l.getAllNodes();for(let M=0;M<B.length;M+=1){const{id:k}=B[M];J[k]=[...P[k]],P[k]=[0,0]}return P=this.getAttrForces(l,$,F,T,P,Y),V&&(U&&$>F||!U)?P=this.getOptRepGraForces(l,P,L,Y):P=this.getRepGraForces(l,$,F,P,X,T,Y),this.updatePos(l,P,J,j,Y)}getAttrForces(l,x,Y,$,F,X){const{preventOverlap:j,dissuadeHubs:J,mode:L,prune:T}=X,P=l.getAllEdges();for(let U=0;U<P.length;U+=1){const{source:V,target:B}=P[U],M=l.getNode(V),k=l.getNode(B),K=l.getDegree(V),z=l.getDegree(B);if(T&&(K<=1||z<=1))continue;const O=[k.data.x-M.data.x,k.data.y-M.data.y];let C=Math.hypot(O[0],O[1]);C=C<1e-4?1e-4:C,O[0]=O[0]/C,O[1]=O[1]/C,j&&x<Y&&(C=C-$[V]-$[B]);let Q=C,H=Q;L==="linlog"&&(Q=Math.log(1+C),H=Q),J&&(Q=C/K,H=C/z),j&&x<Y&&C<=0?(Q=0,H=0):j&&x<Y&&C>0&&(Q=C,H=C),F[V][0]+=Q*O[0],F[B][0]-=H*O[0],F[V][1]+=Q*O[1],F[B][1]-=H*O[1]}return F}getOptRepGraForces(l,x,Y,$){const{kg:F,center:X,prune:j}=$,J=l.getAllNodes(),L=J.length;let T=9e10,P=-9e10,U=9e10,V=-9e10;for(let z=0;z<L;z+=1){const{id:O,data:C}=J[z];j&&l.getDegree(O)<=1||(Y[O].setPos(C.x,C.y),C.x>=P&&(P=C.x),C.x<=T&&(T=C.x),C.y>=V&&(V=C.y),C.y<=U&&(U=C.y))}const B=Math.max(P-T,V-U),M={xmid:(P+T)/2,ymid:(V+U)/2,length:B,massCenter:X,mass:L},k=new c(M),K=new r(k);for(let z=0;z<L;z+=1){const{id:O}=J[z];j&&l.getDegree(O)<=1||Y[O].in(k)&&K.insert(Y[O])}for(let z=0;z<L;z+=1){const{id:O,data:C}=J[z],Q=l.getDegree(O);if(j&&Q<=1)continue;Y[O].resetForce(),K.updateForce(Y[O]),x[O][0]-=Y[O].fx,x[O][1]-=Y[O].fy;const H=[C.x-X[0],C.y-X[1]];let q=Math.hypot(H[0],H[1]);q=q<1e-4?1e-4:q,H[0]=H[0]/q,H[1]=H[1]/q;const ot=F*(Q+1);x[O][0]-=ot*H[0],x[O][1]-=ot*H[1]}return x}getRepGraForces(l,x,Y,$,F,X,j){const{preventOverlap:J,kr:L,kg:T,center:P,prune:U}=j,V=l.getAllNodes(),B=V.length;for(let M=0;M<B;M+=1){const k=V[M],K=l.getDegree(k.id);for(let Q=M+1;Q<B;Q+=1){const H=V[Q],q=l.getDegree(H.id);if(U&&(K<=1||q<=1))continue;const ot=[H.data.x-k.data.x,H.data.y-k.data.y];let ht=Math.hypot(ot[0],ot[1]);ht=ht<1e-4?1e-4:ht,ot[0]=ot[0]/ht,ot[1]=ot[1]/ht,J&&x<Y&&(ht=ht-X[k.id]-X[H.id]);let nt=L*(K+1)*(q+1)/ht;J&&x<Y&&ht<0?nt=F*(K+1)*(q+1):J&&x<Y&&ht===0?nt=0:J&&x<Y&&ht>0&&(nt=L*(K+1)*(q+1)/ht),$[k.id][0]-=nt*ot[0],$[H.id][0]+=nt*ot[0],$[k.id][1]-=nt*ot[1],$[H.id][1]+=nt*ot[1]}const z=[k.data.x-P[0],k.data.y-P[1]],O=Math.hypot(z[0],z[1]);z[0]=z[0]/O,z[1]=z[1]/O;const C=T*(K+1);$[k.id][0]-=C*z[0],$[k.id][1]-=C*z[1]}return $}updatePos(l,x,Y,$,F){const{ks:X,tao:j,prune:J,ksmax:L}=F,T=l.getAllNodes(),P=T.length,U=[],V=[];let B=0,M=0,k=$;for(let z=0;z<P;z+=1){const{id:O}=T[z],C=l.getDegree(O);if(J&&C<=1)continue;const Q=[x[O][0]-Y[O][0],x[O][1]-Y[O][1]],H=Math.hypot(Q[0],Q[1]),q=[x[O][0]+Y[O][0],x[O][1]+Y[O][1]],ot=Math.hypot(q[0],q[1]);U[z]=H,V[z]=ot/2,B+=(C+1)*U[z],M+=(C+1)*V[z]}const K=k;k=j*M/B,K!==0&&(k=k>1.5*K?1.5*K:k);for(let z=0;z<P;z+=1){const{id:O,data:C}=T[z],Q=l.getDegree(O);if(J&&Q<=1||(0,y.Z)(C.fx)&&(0,y.Z)(C.fy))continue;let H=X*k/(1+k*Math.sqrt(U[z])),q=Math.hypot(x[O][0],x[O][1]);q=q<1e-4?1e-4:q;const ot=L/q;H=H>ot?ot:H;const ht=H*x[O][0],nt=H*x[O][1];l.mergeNodeData(O,{x:C.x+ht,y:C.y+nt})}return k}}},70979:function(G,tt,i){"use strict";i.d(tt,{y:function(){return x}});var s=i(97582),I=i(72137),y=i(25897),D=i(78732),v=i(81269),E=i(30423);const p=.81,c=.1;function r(J,L,T,P,U=2){const V=L/T,B=J.getAllNodes(),M=B.map((z,O)=>{const{nodeStrength:C,x:Q,y:H,z:q,size:ot}=z.data;return{x:Q,y:H,z:q,size:ot,index:O,id:z.id,vx:0,vy:0,vz:0,weight:V*C}}),k=(U===2?(0,v.Z)(M,z=>z.x,z=>z.y):(0,E.Z)(M,z=>z.x,z=>z.y,z=>z.z)).visitAfter(o),K=new Map;return M.forEach(z=>{K.set(z.id,z),h(z,k,U)}),M.map((z,O)=>{const{id:C,data:Q}=B[O],{mass:H=1}=Q;P[C]={x:z.vx/H,y:z.vy/H,z:z.vz/H}}),P}function o(J){let L=0,T=0,P=0,U=0,V=0;const B=J.length;if(B){for(let M=0;M<B;M++){const k=J[M];k&&k.weight&&(L+=k.weight,T+=k.x*k.weight,P+=k.y*k.weight,U+=k.z*k.weight,V+=k.size*k.weight)}J.x=T/L,J.y=P/L,J.z=U/L,J.size=V/L,J.weight=L}else{const M=J;J.x=M.data.x,J.y=M.data.y,J.z=M.data.z,J.size=M.data.size,J.weight=M.data.weight}}const a=(J,L,T,P,U,V,B)=>{var M;if(((M=J.data)===null||M===void 0?void 0:M.id)===V.id)return;const k=[T,P,U][B-1],K=V.x-J.x||c,z=V.y-J.y||c,O=V.z-J.z||c,C=[K,z,O],Q=k-L;let H=0;for(let ht=0;ht<B;ht++)H+=C[ht]*C[ht];const ot=Math.sqrt(H)*H;if(Q*Q*p<H){const ht=J.weight/ot;return V.vx+=K*ht,V.vy+=z*ht,V.vz+=O*ht,!0}if(J.length)return!1;if(J.data!==V){const ht=J.data.weight/ot;V.vx+=K*ht,V.vy+=z*ht,V.vz+=O*ht}};function h(J,L,T){L.visit((P,U,V,B,M)=>a(P,U,V,B,M,J,T))}const l={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class x{constructor(L={}){this.options=L,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},l),L)}execute(L,T){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericForceLayout(!1,L,T)})}assign(L,T){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,L,T)})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval),this.running=!1}tick(L=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let P=0;(this.judgingDistance>this.lastOptions.minMovement||P<1)&&P<L;P++)this.runOneStep(this.lastCalcGraph,this.lastGraph,P,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const T={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&T.nodes.forEach(P=>this.lastGraph.mergeNodeData(P.id,{x:P.data.x,y:P.data.y,z:this.options.dimensions===3?P.data.z:void 0})),T}genericForceLayout(L,T,P){return(0,s.mG)(this,void 0,void 0,function*(){const U=Object.assign(Object.assign({},this.options),P),V=T.getAllNodes(),B=T.getAllEdges(),M=this.formatOptions(U,T),{dimensions:k,width:K,height:z,nodeSize:O,getMass:C,nodeStrength:Q,edgeStrength:H,linkDistance:q}=M,ot=V.map((at,Mt)=>Object.assign(Object.assign({},at),{data:Object.assign(Object.assign({},at.data),{x:(0,y.Z)(at.data.x)?at.data.x:Math.random()*K,y:(0,y.Z)(at.data.y)?at.data.y:Math.random()*z,z:(0,y.Z)(at.data.z)?at.data.z:Math.random()*Math.sqrt(K*z),size:O(at)||30,mass:C(at),nodeStrength:Q(at)})})),ht=B.map(at=>Object.assign(Object.assign({},at),{data:Object.assign(Object.assign({},at.data),{edgeStrength:H(at),linkDistance:q(at,T.getNode(at.source),T.getNode(at.target))})}));if(!(V!=null&&V.length))return this.lastResult={nodes:[],edges:B},{nodes:[],edges:B};const nt={};V.forEach((at,Mt)=>{nt[at.id]={x:0,y:0,z:0}});const gt=new I.k({nodes:ot,edges:ht});this.formatCentripetal(M,gt);const{maxIteration:it,minMovement:_,onTick:ft}=M;if(this.lastLayoutNodes=ot,this.lastLayoutEdges=ht,this.lastAssign=L,this.lastGraph=T,this.lastCalcGraph=gt,this.lastOptions=M,this.lastVelMap=nt,typeof window=="undefined")return;let lt=0;return new Promise(at=>{this.timeInterval=window.setInterval(()=>{(!V||!this.running)&&at({nodes:j(T,ot),edges:B}),this.runOneStep(gt,T,lt,nt,M),this.updatePosition(T,gt,nt,M),L&&ot.forEach(Mt=>T.mergeNodeData(Mt.id,{x:Mt.data.x,y:Mt.data.y,z:k===3?Mt.data.z:void 0})),ft==null||ft({nodes:j(T,ot),edges:B}),lt++,(lt>=it||this.judgingDistance<_)&&(window.clearInterval(this.timeInterval),at({nodes:j(T,ot),edges:B}))},0),this.running=!0})})}formatOptions(L,T){const P=Object.assign({},L),{width:U,height:V,getMass:B}=L;P.width=!U&&typeof window!="undefined"?window.innerWidth:U,P.height=!V&&typeof window!="undefined"?window.innerHeight:V,L.center||(P.center=[P.width/2,P.height/2]),B||(P.getMass=k=>{let K=1;(0,y.Z)(k==null?void 0:k.data.mass)&&(K=k==null?void 0:k.data.mass);const z=T.getDegree(k.id,"both");return!z||z<5?K:z*5*K}),P.nodeSize=(0,D.uE)(L.nodeSize,L.nodeSpacing);const M=L.linkDistance?(0,D.jE)(1,L.linkDistance):k=>1+P.nodeSize(T.getNode(k.source))+P.nodeSize(T.getNode(k.target));return P.linkDistance=M,P.nodeStrength=(0,D.jE)(1,L.nodeStrength),P.edgeStrength=(0,D.jE)(1,L.edgeStrength),P}formatCentripetal(L,T){const{dimensions:P,centripetalOptions:U,center:V,clusterNodeStrength:B,leafCluster:M,clustering:k,nodeClusterBy:K}=L,z=T.getAllNodes(),O=U||{leaf:2,single:2,others:1,center:ht=>({x:V[0],y:V[1],z:P===3?V[2]:void 0})};typeof B!="function"&&(L.clusterNodeStrength=ht=>B);let C,Q;if(M&&K&&(C=Y(T,K),Q=Array.from(new Set(z==null?void 0:z.map(ht=>ht.data[K])))||[],L.centripetalOptions=Object.assign(O,{single:100,leaf:ht=>{const{siblingLeaves:nt,sameTypeLeaves:gt}=C[ht.id]||{};return(gt==null?void 0:gt.length)===(nt==null?void 0:nt.length)||(Q==null?void 0:Q.length)===1?1:L.clusterNodeStrength(ht)},others:1,center:ht=>{const nt=T.getDegree(ht.id,"both");if(!nt)return{x:100,y:100,z:0};let gt;if(nt===1){const{sameTypeLeaves:it=[]}=C[ht.id]||{};it.length===1?gt=void 0:it.length>1&&(gt=X(it))}else gt=void 0;return{x:gt==null?void 0:gt.x,y:gt==null?void 0:gt.y,z:gt==null?void 0:gt.z}}})),k&&K){C||(C=Y(T,K)),Q||(Q=Array.from(new Set(z.map(nt=>nt.data[K])))),Q=Q.filter(nt=>nt!==void 0);const ht={};Q.forEach(nt=>{const gt=z.filter(it=>it.data[K]===nt).map(it=>T.getNode(it.id));ht[nt]=X(gt)}),L.centripetalOptions=Object.assign(O,{single:nt=>L.clusterNodeStrength(nt),leaf:nt=>L.clusterNodeStrength(nt),others:nt=>L.clusterNodeStrength(nt),center:nt=>{const gt=ht[nt.data[K]];return{x:gt==null?void 0:gt.x,y:gt==null?void 0:gt.y,z:gt==null?void 0:gt.z}}})}const{leaf:H,single:q,others:ot}=L.centripetalOptions||{};H&&typeof H!="function"&&(L.centripetalOptions.leaf=()=>H),q&&typeof q!="function"&&(L.centripetalOptions.single=()=>q),ot&&typeof ot!="function"&&(L.centripetalOptions.others=()=>ot)}runOneStep(L,T,P,U,V){const B={},M=L.getAllNodes(),k=L.getAllEdges();if(!(M!=null&&M.length))return;const{monitor:K}=V;if(this.calRepulsive(L,B,V),k&&this.calAttractive(L,B,V),this.calGravity(L,T,B,V),this.updateVelocity(L,B,U,V),K){const z=this.calTotalEnergy(B,M);K({energy:z,nodes:T.getAllNodes(),edges:T.getAllEdges(),iterations:P})}}calTotalEnergy(L,T){if(!(T!=null&&T.length))return 0;let P=0;return T.forEach((U,V)=>{const B=L[U.id].x,M=L[U.id].y,k=this.options.dimensions===3?L[U.id].z:0,K=B*B+M*M+k*k,{mass:z=1}=U.data;P+=z*K*.5}),P}calRepulsive(L,T,P){const{dimensions:U,factor:V,coulombDisScale:B}=P;r(L,V,B*B,T,U)}calAttractive(L,T,P){const{dimensions:U,nodeSize:V}=P;L.getAllEdges().forEach((B,M)=>{const{source:k,target:K}=B,z=L.getNode(k),O=L.getNode(K);if(!z||!O)return;let C=O.data.x-z.data.x,Q=O.data.y-z.data.y,H=U===3?O.data.z-z.data.z:0;!C&&!Q&&(C=Math.random()*.01,Q=Math.random()*.01,U===3&&!H&&(H=Math.random()*.01));const q=Math.sqrt(C*C+Q*Q+H*H);if(q<V(z)+V(O))return;const ot=C/q,ht=Q/q,nt=H/q,{linkDistance:gt=200,edgeStrength:it=200}=B.data||{},ft=(gt-q)*it,lt=z.data.mass||1,at=O.data.mass||1,Mt=1/lt,vt=1/at,yt=ot*ft,xt=ht*ft,St=nt*ft;T[k].x-=yt*Mt,T[k].y-=xt*Mt,T[k].z-=St*Mt,T[K].x+=yt*vt,T[K].y+=xt*vt,T[K].z+=St*vt})}calGravity(L,T,P,U){const{getCenter:V}=U,B=L.getAllNodes(),M=T.getAllNodes(),k=T.getAllEdges(),{width:K,height:z,center:O,gravity:C,centripetalOptions:Q}=U;B&&B.forEach(H=>{const{id:q,data:ot}=H,{mass:ht,x:nt,y:gt,z:it}=ot,_=T.getNode(q);let ft=0,lt=0,at=0,Mt=C;const vt=L.getDegree(q,"in"),yt=L.getDegree(q,"out"),xt=L.getDegree(q,"both"),St=V==null?void 0:V(_,xt);if(St){const[It,At,Xt]=St;ft=nt-It,lt=gt-At,Mt=Xt}else ft=nt-O[0],lt=gt-O[1],at=it-O[2];if(Mt&&(P[q].x-=Mt*ft/ht,P[q].y-=Mt*lt/ht,P[q].z-=Mt*at/ht),Q){const{leaf:It,single:At,others:Xt,center:_t}=Q,{x:ee,y:Kt,z:ge,centerStrength:Ut}=(_t==null?void 0:_t(_,M,k,K,z))||{x:0,y:0,z:0,centerStrength:0};if(!(0,y.Z)(ee)||!(0,y.Z)(Kt))return;const ve=(nt-ee)/ht,ce=(gt-Kt)/ht,re=(it-ge)/ht;if(Ut&&(P[q].x-=Ut*ve,P[q].y-=Ut*ce,P[q].z-=Ut*re),xt===0){const me=At(_);if(!me)return;P[q].x-=me*ve,P[q].y-=me*ce,P[q].z-=me*re;return}if(vt===0||yt===0){const me=It(_,M,k);if(!me)return;P[q].x-=me*ve,P[q].y-=me*ce,P[q].z-=me*re;return}const kt=Xt(_);if(!kt)return;P[q].x-=kt*ve,P[q].y-=kt*ce,P[q].z-=kt*re}})}updateVelocity(L,T,P,U){const{damping:V,maxSpeed:B,interval:M,dimensions:k}=U,K=L.getAllNodes();K!=null&&K.length&&K.forEach(z=>{const{id:O}=z;let C=(P[O].x+T[O].x*M)*V||.01,Q=(P[O].y+T[O].y*M)*V||.01,H=k===3?(P[O].z+T[O].z*M)*V||.01:0;const q=Math.sqrt(C*C+Q*Q+H*H);if(q>B){const ot=B/q;C=ot*C,Q=ot*Q,H=ot*H}P[O]={x:C,y:Q,z:H}})}updatePosition(L,T,P,U){const{distanceThresholdMode:V,interval:B,dimensions:M}=U,k=T.getAllNodes();if(!(k!=null&&k.length)){this.judgingDistance=0;return}let K=0;V==="max"?this.judgingDistance=-1/0:V==="min"&&(this.judgingDistance=1/0),k.forEach(z=>{const{id:O}=z,C=L.getNode(O);if((0,y.Z)(C.data.fx)&&(0,y.Z)(C.data.fy)){T.mergeNodeData(O,{x:C.data.fx,y:C.data.fy,z:M===3?C.data.fz:void 0});return}const Q=P[O].x*B,H=P[O].y*B,q=M===3?P[O].z*B:0;T.mergeNodeData(O,{x:z.data.x+Q,y:z.data.y+H,z:z.data.z+q});const ot=Math.sqrt(Q*Q+H*H+q*q);switch(V){case"max":this.judgingDistance<ot&&(this.judgingDistance=ot);break;case"min":this.judgingDistance>ot&&(this.judgingDistance=ot);break;default:K=K+ot;break}}),(!V||V==="mean")&&(this.judgingDistance=K/k.length)}}const Y=(J,L)=>{const T=J.getAllNodes();if(!(T!=null&&T.length))return{};const P={};return T.forEach((U,V)=>{J.getDegree(U.id,"both")===1&&(P[U.id]=$(J,"leaf",U,L))}),P},$=(J,L,T,P)=>{const U=J.getDegree(T.id,"in"),V=J.getDegree(T.id,"out");let B=T,M=[];U===0?(B=J.getSuccessors(T.id)[0],M=J.getNeighbors(B.id)):V===0&&(B=J.getPredecessors(T.id)[0],M=J.getNeighbors(B.id)),M=M.filter(K=>J.getDegree(K.id,"in")===0||J.getDegree(K.id,"out")===0);const k=F(J,L,P,T,M);return{coreNode:B,siblingLeaves:M,sameTypeLeaves:k}},F=(J,L,T,P,U)=>{const V=P.data[T]||"";let B=(U==null?void 0:U.filter(M=>M.data[T]===V))||[];return L==="leaf"&&(B=B.filter(M=>J.getDegree(M.id,"in")===0||J.getDegree(M.id,"out")===0)),B},X=J=>{const L={x:0,y:0};J.forEach(P=>{const{x:U,y:V}=P.data;L.x+=U||0,L.y+=V||0});const T=J.length||1;return{x:L.x/T,y:L.y/T}},j=(J,L)=>L.map(T=>{const{id:P,data:U}=T,V=J.getNode(P);return Object.assign(Object.assign({},V),{data:Object.assign(Object.assign({},V.data),{x:U.x,y:U.y,z:U.z})})})},89469:function(G,tt,i){"use strict";i.d(tt,{O:function(){return p}});var s=i(97582),I=i(72137),y=i(25897),D=i(98130);const v={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"},E=800;class p{constructor(r={}){this.options=r,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},v),r)}execute(r,o){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,r,o)})}assign(r,o){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,r,o)})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval),this.running=!1}tick(r=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let a=0;a<r;a++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const o={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&o.nodes.forEach(a=>this.lastGraph.mergeNodeData(a.id,{x:a.data.x,y:a.data.y,z:this.options.dimensions===3?a.data.z:void 0})),o}genericFruchtermanLayout(r,o,a){return(0,s.mG)(this,void 0,void 0,function*(){if(this.running)return;const h=this.formatOptions(a),{dimensions:l,width:x,height:Y,center:$,clustering:F,nodeClusterBy:X,maxIteration:j,onTick:J}=h,L=o.getAllNodes(),T=o.getAllEdges();if(!(L!=null&&L.length)){const M={nodes:[],edges:T};return this.lastResult=M,M}if(L.length===1){r&&o.mergeNodeData(L[0].id,{x:$[0],y:$[1],z:l===3?$[2]:void 0});const M={nodes:[Object.assign(Object.assign({},L[0]),{data:Object.assign(Object.assign({},L[0].data),{x:$[0],y:$[1],z:l===3?$[2]:void 0})})],edges:T};return this.lastResult=M,M}const P=L.map(M=>(0,D.u)(M,[x,Y])),U=new I.k({nodes:P,edges:T}),V={};if(F&&P.forEach(M=>{const k=M.data[X];V[k]||(V[k]={name:k,cx:0,cy:0,count:0})}),this.lastLayoutNodes=P,this.lastLayoutEdges=T,this.lastAssign=r,this.lastGraph=U,this.lastOptions=h,this.lastClusterMap=V,typeof window=="undefined")return;let B=0;return new Promise(M=>{this.timeInterval=window.setInterval(()=>{if(!this.running){M({nodes:P,edges:T});return}this.runOneStep(U,V,h),r&&P.forEach(({id:k,data:K})=>o.mergeNodeData(k,{x:K.x,y:K.y,z:l===3?K.z:void 0})),J==null||J({nodes:P,edges:T}),B++,B>=j&&(window.clearInterval(this.timeInterval),M({nodes:P,edges:T}))},0),this.running=!0})})}formatOptions(r={}){const o=Object.assign(Object.assign({},this.options),r),{clustering:a,nodeClusterBy:h}=o,{center:l,width:x,height:Y}=o;return o.width=!x&&typeof window!="undefined"?window.innerWidth:x,o.height=!Y&&typeof window!="undefined"?window.innerHeight:Y,o.center=l||[o.width/2,o.height/2],o.clustering=a&&!!h,o}runOneStep(r,o,a){const{dimensions:h,height:l,width:x,gravity:Y,center:$,speed:F,clustering:X,nodeClusterBy:j,clusterGravity:J}=a,L=l*x,T=Math.sqrt(L)/10,P=r.getAllNodes(),U=L/(P.length+1),V=Math.sqrt(U),B={};if(this.applyCalculate(r,B,V,U),X){for(const k in o)o[k].cx=0,o[k].cy=0,o[k].count=0;P.forEach(k=>{const{data:K}=k,z=o[K[j]];(0,y.Z)(K.x)&&(z.cx+=K.x),(0,y.Z)(K.y)&&(z.cy+=K.y),z.count++});for(const k in o)o[k].cx/=o[k].count,o[k].cy/=o[k].count;const M=J||Y;P.forEach((k,K)=>{const{id:z,data:O}=k;if(!(0,y.Z)(O.x)||!(0,y.Z)(O.y))return;const C=o[O[j]],Q=Math.sqrt((O.x-C.cx)*(O.x-C.cx)+(O.y-C.cy)*(O.y-C.cy)),H=V*M;B[z].x-=H*(O.x-C.cx)/Q,B[z].y-=H*(O.y-C.cy)/Q})}P.forEach((M,k)=>{const{id:K,data:z}=M;if(!(0,y.Z)(z.x)||!(0,y.Z)(z.y))return;const O=.01*V*Y;B[K].x-=O*(z.x-$[0]),B[K].y-=O*(z.y-$[1]),h===3&&(B[K].z-=O*(z.z-$[2]))}),P.forEach((M,k)=>{const{id:K,data:z}=M;if((0,y.Z)(z.fx)&&(0,y.Z)(z.fy)){z.x=z.fx,z.y=z.fy,h===3&&(z.z=z.fz);return}if(!(0,y.Z)(z.x)||!(0,y.Z)(z.y))return;const O=Math.sqrt(B[K].x*B[K].x+B[K].y*B[K].y+(h===3?B[K].z*B[K].z:0));if(O>0){const C=Math.min(T*(F/E),O);r.mergeNodeData(K,{x:z.x+B[K].x/O*C,y:z.y+B[K].y/O*C,z:h===3?z.z+B[K].z/O*C:void 0})}})}applyCalculate(r,o,a,h){this.calRepulsive(r,o,h),this.calAttractive(r,o,a)}calRepulsive(r,o,a){const h=r.getAllNodes();h.forEach(({data:l,id:x},Y)=>{o[x]={x:0,y:0,z:0},h.forEach(({data:$,id:F},X)=>{if(Y<=X||!(0,y.Z)(l.x)||!(0,y.Z)($.x)||!(0,y.Z)(l.y)||!(0,y.Z)($.y))return;let j=l.x-$.x,J=l.y-$.y,L=this.options.dimensions===3?l.z-$.z:0,T=j*j+J*J+L*L;T===0&&(T=1,j=.01,J=.01,L=.01);const P=a/T,U=j*P,V=J*P,B=L*P;o[x].x+=U,o[x].y+=V,o[F].x-=U,o[F].y-=V,this.options.dimensions===3&&(o[x].z+=B,o[F].z-=B)})})}calAttractive(r,o,a){r.getAllEdges().forEach(l=>{const{source:x,target:Y}=l;if(!x||!Y||x===Y)return;const{data:$}=r.getNode(x),{data:F}=r.getNode(Y);if(!(0,y.Z)(F.x)||!(0,y.Z)($.x)||!(0,y.Z)(F.y)||!(0,y.Z)($.y))return;const X=F.x-$.x,j=F.y-$.y,J=this.options.dimensions===3?F.z-$.z:0,L=Math.sqrt(X*X+j*j+J*J)/a,T=X*L,P=j*L,U=J*L;o[x].x+=T,o[x].y+=P,o[Y].x-=T,o[Y].y-=P,this.options.dimensions===3&&(o[x].z+=U,o[Y].z-=U)})}}},41733:function(G,tt,i){"use strict";i.d(tt,{M:function(){return r}});var s=i(97582),I=i(76714),y=i(25897),D=i(98130),v=i(78732),E=i(20464),p=i(94754);const c={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};class r{constructor(F={}){this.options=F,this.id="grid",this.options=Object.assign(Object.assign({},c),F)}execute(F,X){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericGridLayout(!1,F,X)})}assign(F,X){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,F,X)})}genericGridLayout(F,X,j){return(0,s.mG)(this,void 0,void 0,function*(){const J=Object.assign(Object.assign({},this.options),j),{begin:L=[0,0],condense:T,preventOverlapPadding:P,preventOverlap:U,rows:V,cols:B,nodeSpacing:M,nodeSize:k,width:K,height:z,position:O}=J;let{sortBy:C}=J;const Q=X.getAllNodes(),H=X.getAllEdges(),q=Q==null?void 0:Q.length;if(!q||q===1)return(0,E.P)(X,F,L);const ot=Q.map(yt=>(0,D.u)(yt));C!=="id"&&(!(0,I.Z)(C)||ot[0].data[C]===void 0)&&(C="degree"),C==="degree"?ot.sort((yt,xt)=>X.getDegree(xt.id,"both")-X.getDegree(yt.id,"both")):C==="id"?ot.sort((yt,xt)=>(0,y.Z)(xt.id)&&(0,y.Z)(yt.id)?xt.id-yt.id:`${yt.id}`.localeCompare(`${xt.id}`)):ot.sort((yt,xt)=>xt.data[C]-yt.data[C]);const ht=!K&&typeof window!="undefined"?window.innerWidth:K,nt=!z&&typeof window!="undefined"?window.innerHeight:z,gt=q,it={rows:V,cols:B};if(V!=null&&B!=null)it.rows=V,it.cols=B;else if(V!=null&&B==null)it.rows=V,it.cols=Math.ceil(gt/it.rows);else if(V==null&&B!=null)it.cols=B,it.rows=Math.ceil(gt/it.cols);else{const yt=Math.sqrt(gt*nt/ht);it.rows=Math.round(yt),it.cols=Math.round(ht/nt*yt)}if(it.rows=Math.max(it.rows,1),it.cols=Math.max(it.cols,1),it.cols*it.rows>gt){const yt=o(it),xt=a(it);(yt-1)*xt>=gt?o(it,yt-1):(xt-1)*yt>=gt&&a(it,xt-1)}else for(;it.cols*it.rows<gt;){const yt=o(it),xt=a(it);(xt+1)*yt>=gt?a(it,xt+1):o(it,yt+1)}let _=T?0:ht/it.cols,ft=T?0:nt/it.rows;if(U||M){const yt=(0,v.jE)(10,M),xt=(0,v.tO)(30,k,!1);ot.forEach(St=>{(!St.data.x||!St.data.y)&&(St.data.x=0,St.data.y=0);const It=X.getNode(St.id),[At,Xt]=(0,p._)(xt(It)||30),_t=yt!==void 0?yt(St):P,ee=At+_t,Kt=Xt+_t;_=Math.max(_,ee),ft=Math.max(ft,Kt)})}const lt={},at={row:0,col:0},Mt={};for(let yt=0;yt<ot.length;yt++){const xt=ot[yt];let St;if(O&&(St=O(X.getNode(xt.id))),St&&(St.row!==void 0||St.col!==void 0)){const It={row:St.row,col:St.col};if(It.col===void 0)for(It.col=0;h(lt,It);)It.col++;else if(It.row===void 0)for(It.row=0;h(lt,It);)It.row++;Mt[xt.id]=It,l(lt,It)}Y(xt,L,_,ft,Mt,it,at,lt)}const vt={nodes:ot,edges:H};return F&&ot.forEach(yt=>{X.mergeNodeData(yt.id,{x:yt.data.x,y:yt.data.y})}),vt})}}const o=($,F)=>{let X;const j=$.rows||5,J=$.cols||5;return F==null?X=Math.min(j,J):Math.min(j,J)===$.rows?$.rows=F:$.cols=F,X},a=($,F)=>{let X;const j=$.rows||5,J=$.cols||5;return F==null?X=Math.max(j,J):Math.max(j,J)===$.rows?$.rows=F:$.cols=F,X},h=($,F)=>$[`c-${F.row}-${F.col}`]||!1,l=($,F)=>$[`c-${F.row}-${F.col}`]=!0,x=($,F)=>{const X=$.cols||5;F.col++,F.col>=X&&(F.col=0,F.row++)},Y=($,F,X,j,J,L,T,P)=>{let U,V;const B=J[$.id];if(B)U=B.col*X+X/2+F[0],V=B.row*j+j/2+F[1];else{for(;h(P,T);)x(L,T);U=T.col*X+X/2+F[0],V=T.row*j+j/2+F[1],l(P,T),x(L,T)}$.data.x=U,$.data.y=V}},64912:function(G,tt,i){"use strict";i.d(tt,{A:function(){return p}});var s=i(97582),I=i(7137),y=i(80628),D=i(98130),v=i(20464);const E={center:[0,0],linkDistance:50};class p{constructor(a={}){this.options=a,this.id="mds",this.options=Object.assign(Object.assign({},E),a)}execute(a,h){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,a,h)})}assign(a,h){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,a,h)})}genericMDSLayout(a,h,l){return(0,s.mG)(this,void 0,void 0,function*(){const x=Object.assign(Object.assign({},this.options),l),{center:Y=[0,0],linkDistance:$=50}=x,F=h.getAllNodes(),X=h.getAllEdges();if(!(F!=null&&F.length)||F.length===1)return(0,v.P)(h,a,Y);const j=(0,y.zJ)({nodes:F,edges:X},!1),J=(0,y.qs)(j);c(J);const L=(0,y.nu)(J,$),T=r(L),P=[];return T.forEach((V,B)=>{const M=(0,D.u)(F[B]);M.data.x=V[0]+Y[0],M.data.y=V[1]+Y[1],P.push(M)}),a&&P.forEach(V=>h.mergeNodeData(V.id,{x:V.data.x,y:V.data.y})),{nodes:P,edges:X}})}}const c=o=>{let a=-999999;o.forEach(h=>{h.forEach(l=>{l!==1/0&&a<l&&(a=l)})}),o.forEach((h,l)=>{h.forEach((x,Y)=>{x===1/0&&(o[l][Y]=a)})})},r=o=>{const h=I.y3.mul(I.y3.pow(o,2),-.5),l=h.mean("row"),x=h.mean("column"),Y=h.mean();h.add(Y).subRowVector(l).subColumnVector(x);const $=new I.Sc(h),F=I.y3.sqrt($.diagonalMatrix).diagonal();return $.leftSingularVectors.toJSON().map(X=>I.y3.mul([X],[F]).toJSON()[0].splice(0,2))}},29257:function(G,tt,i){"use strict";i.d(tt,{D:function(){return Y}});var s=i(97582),I=i(76714),y=i(80628),D=i(78732),v=i(98130),E=i(20464),p=i(7137);const c=(L,T,P)=>{try{const U=p.y3.mul(p.y3.pow(T,2),-.5),V=U.mean("row"),B=U.mean("column"),M=U.mean();U.add(M).subRowVector(V).subColumnVector(B);const k=new p.Sc(U),K=p.y3.sqrt(k.diagonalMatrix).diagonal();return k.leftSingularVectors.toJSON().map(z=>p.y3.mul([z],[K]).toJSON()[0].splice(0,L))}catch(U){const V=[];for(let B=0;B<T.length;B++){const M=Math.random()*P,k=Math.random()*P;V.push([M,k])}return V}},r=800,o={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},a=(L,T)=>{const P=Object.assign(Object.assign({},o),T),{positions:U,iterations:V,width:B,k:M,speed:k=100,strictRadial:K,focusIdx:z,radii:O=[],nodeSizeFunc:C}=P,Q=L.getAllNodes(),H=[],q=B/10;for(let ot=0;ot<V;ot++)U.forEach((ht,nt)=>{H[nt]={x:0,y:0}}),h(Q,U,H,M,O,C),l(U,H,k,K,z,q,B,O);return U},h=(L,T,P,U,V,B)=>{T.forEach((M,k)=>{P[k]={x:0,y:0},T.forEach((K,z)=>{if(k===z||V[k]!==V[z])return;let O=M.x-K.x,C=M.y-K.y,Q=Math.sqrt(O*O+C*C);if(Q===0){Q=1;const H=k>z?1:-1;O=.01*H,C=.01*H}if(Q<B(L[k])/2+B(L[z])/2){const H=U*U/Q;P[k].x+=O/Q*H,P[k].y+=C/Q*H}})})},l=(L,T,P,U,V,B,M,k)=>{const K=B||M/10;return U&&T.forEach((z,O)=>{const C=L[O].x-L[V].x,Q=L[O].y-L[V].y,H=Math.sqrt(C*C+Q*Q);let q=Q/H,ot=-C/H;const ht=Math.sqrt(z.x*z.x+z.y*z.y);let nt=Math.acos((q*z.x+ot*z.y)/ht);nt>Math.PI/2&&(nt-=Math.PI/2,q*=-1,ot*=-1);const gt=Math.cos(nt)*ht;z.x=q*gt,z.y=ot*gt}),L.forEach((z,O)=>{if(O===V)return;const C=Math.sqrt(T[O].x*T[O].x+T[O].y*T[O].y);if(C>0&&O!==V){const Q=Math.min(K*(P/r),C);if(z.x+=T[O].x/C*Q,z.y+=T[O].y/C*Q,U){let H=z.x-L[V].x,q=z.y-L[V].y;const ot=Math.sqrt(H*H+q*q);H=H/ot*k[O],q=q/ot*k[O],z.x=L[V].x+H,z.y=L[V].y+q}}}),L},x={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};class Y{constructor(T={}){this.options=T,this.id="radial",this.options=Object.assign(Object.assign({},x),T)}execute(T,P){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,T,P)})}assign(T,P){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,T,P)})}genericRadialLayout(T,P,U){return(0,s.mG)(this,void 0,void 0,function*(){const V=Object.assign(Object.assign({},this.options),U),{width:B,height:M,center:k,focusNode:K,unitRadius:z,nodeSize:O,nodeSpacing:C,strictRadial:Q,preventOverlap:H,maxPreventOverlapIteration:q,sortBy:ot,linkDistance:ht=50,sortStrength:nt=10,maxIteration:gt=1e3}=V,it=P.getAllNodes(),_=P.getAllEdges(),ft=!B&&typeof window!="undefined"?window.innerWidth:B,lt=!M&&typeof window!="undefined"?window.innerHeight:M,at=k||[ft/2,lt/2];if(!(it!=null&&it.length)||it.length===1)return(0,E.P)(P,T,at);let Mt=it[0];if((0,I.Z)(K)){for(let se=0;se<it.length;se++)if(it[se].id===K){Mt=it[se];break}}else Mt=K||it[0];const vt=X(it,Mt.id),yt=(0,y.zJ)({nodes:it,edges:_},!1),xt=(0,y.qs)(yt),St=J(xt,vt);j(xt,vt,St+1);const It=xt[vt];let At=ft-at[0]>at[0]?at[0]:ft-at[0],Xt=lt-at[1]>at[1]?at[1]:lt-at[1];At===0&&(At=ft/2),Xt===0&&(Xt=lt/2);const _t=Math.min(At,Xt),ee=Math.max(...It),Kt=[],ge=z||_t/ee;It.forEach((se,Te)=>{Kt[Te]=se*ge});const Ut=$(it,xt,ht,Kt,ge,ot,nt),ve=F(Ut),ce=c(ht,Ut,ht);let re=ce.map(([se,Te])=>({x:(isNaN(se)?Math.random()*ht:se)-ce[vt][0],y:(isNaN(Te)?Math.random()*ht:Te)-ce[vt][1]}));this.run(gt,re,ve,Ut,Kt,vt);let kt;if(H){kt=(0,D.uE)(O,C);const se={nodes:it,nodeSizeFunc:kt,positions:re,radii:Kt,height:lt,width:ft,strictRadial:!!Q,focusIdx:vt,iterations:q||200,k:re.length/4.5};re=a(P,se)}const me=[];return re.forEach((se,Te)=>{const Oe=(0,v.u)(it[Te]);Oe.data.x=se.x+at[0],Oe.data.y=se.y+at[1],me.push(Oe)}),T&&me.forEach(se=>P.mergeNodeData(se.id,{x:se.data.x,y:se.data.y})),{nodes:me,edges:_}})}run(T,P,U,V,B,M){for(let k=0;k<=T;k++){const K=k/T;this.oneIteration(K,P,B,V,U,M)}}oneIteration(T,P,U,V,B,M){const k=1-T;P.forEach((K,z)=>{const O=(0,y.$y)(K,{x:0,y:0}),C=O===0?0:1/O;if(z===M)return;let Q=0,H=0,q=0;P.forEach((ht,nt)=>{if(z===nt)return;const gt=(0,y.$y)(K,ht),it=gt===0?0:1/gt,_=V[nt][z];q+=B[z][nt],Q+=B[z][nt]*(ht.x+_*(K.x-ht.x)*it),H+=B[z][nt]*(ht.y+_*(K.y-ht.y)*it)});const ot=U[z]===0?0:1/U[z];q*=k,q+=T*ot*ot,Q*=k,Q+=T*ot*K.x*C,K.x=Q/q,H*=k,H+=T*ot*K.y*C,K.y=H/q})}}const $=(L,T,P,U,V,B,M)=>{if(!L)return[];const k=[];if(T){const K={};T.forEach((z,O)=>{const C=[];z.forEach((Q,H)=>{var q,ot;if(O===H)C.push(0);else if(U[O]===U[H])if(B==="data")C.push(Q*(Math.abs(O-H)*M)/(U[O]/V));else if(B){let ht,nt;if(K[L[O].id])ht=K[L[O].id];else{const gt=(B==="id"?L[O].id:(q=L[O].data)===null||q===void 0?void 0:q[B])||0;(0,I.Z)(gt)?ht=gt.charCodeAt(0):ht=gt,K[L[O].id]=ht}if(K[L[H].id])nt=K[L[H].id];else{const gt=(B==="id"?L[H].id:(ot=L[H].data)===null||ot===void 0?void 0:ot[B])||0;(0,I.Z)(gt)?nt=gt.charCodeAt(0):nt=gt,K[L[H].id]=nt}C.push(Q*(Math.abs(ht-nt)*M)/(U[O]/V))}else C.push(Q*P/(U[O]/V));else{const ht=(P+V)/2;C.push(Q*ht)}}),k.push(C)})}return k},F=L=>{const T=L.length,P=L[0].length,U=[];for(let V=0;V<T;V++){const B=[];for(let M=0;M<P;M++)L[V][M]!==0?B.push(1/(L[V][M]*L[V][M])):B.push(0);U.push(B)}return U},X=(L,T)=>{let P=-1;return L.forEach((U,V)=>{U.id===T&&(P=V)}),Math.max(P,0)},j=(L,T,P)=>{const U=L.length;for(let V=0;V<U;V++)if(L[T][V]===1/0){L[T][V]=P,L[V][T]=P;for(let B=0;B<U;B++)L[V][B]!==1/0&&L[T][B]===1/0&&(L[T][B]=P+L[V][B],L[B][T]=P+L[V][B])}for(let V=0;V<U;V++)if(V!==T){for(let B=0;B<U;B++)if(L[V][B]===1/0){let M=Math.abs(L[T][V]-L[T][B]);M=M===0?1:M,L[V][B]=M}}},J=(L,T)=>{let P=0;for(let U=0;U<L[T].length;U++)L[T][U]!==1/0&&(P=L[T][U]>P?L[T][U]:P);return P}},26629:function(G,tt,i){"use strict";i.d(tt,{_:function(){return y}});var s=i(97582);const I={center:[0,0],width:300,height:300};class y{constructor(v={}){this.options=v,this.id="random",this.options=Object.assign(Object.assign({},I),v)}execute(v,E){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,v,E)})}assign(v,E){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,v,E)})}genericRandomLayout(v,E,p){return(0,s.mG)(this,void 0,void 0,function*(){const c=Object.assign(Object.assign({},this.options),p),{center:r,width:o,height:a}=c,h=E.getAllNodes(),l=.9,x=!o&&typeof window!="undefined"?window.innerWidth:o,Y=!a&&typeof window!="undefined"?window.innerHeight:a,$=r||[x/2,Y/2],F=[];return h&&h.forEach(j=>{F.push({id:j.id,data:{x:(Math.random()-.5)*l*x+$[0],y:(Math.random()-.5)*l*Y+$[1]}})}),v&&F.forEach(j=>E.mergeNodeData(j.id,{x:j.data.x,y:j.data.y})),{nodes:F,edges:E.getAllEdges()}})}}},10779:function(G,tt,i){"use strict";i.d(tt,{h:function(){return s}});function s(I){return!!I.tick&&!!I.stop}},85087:function(G,tt,i){"use strict";i.d(tt,{k:function(){return s}});const s=Array.isArray},20464:function(G,tt,i){"use strict";i.d(tt,{P:function(){return s}});const s=(I,y,D)=>{const v=I.getAllNodes(),E=I.getAllEdges();if(!(v!=null&&v.length))return{nodes:[],edges:E};if(v.length===1)return y&&I.mergeNodeData(v[0].id,{x:D[0],y:D[1]}),{nodes:[Object.assign(Object.assign({},v[0]),{data:Object.assign(Object.assign({},v[0].data),{x:D[0],y:D[1]})})],edges:E}}},78732:function(G,tt,i){"use strict";i.d(tt,{jE:function(){return v},tO:function(){return E},uE:function(){return p}});var s=i(45607),I=i(25897),y=i(4637),D=i(94754);function v(c,r){let o;return(0,s.Z)(r)?o=r:(0,I.Z)(r)?o=()=>r:o=()=>c,o}function E(c,r,o=!0){return!r&&r!==0?a=>{const{size:h}=a.data||{};return h?Array.isArray(h)?o?Math.max(...h)||c:h:(0,y.Z)(h)&&h.width&&h.height?o?Math.max(h.width,h.height)||c:[h.width,h.height]:h:c}:(0,s.Z)(r)?r:(0,I.Z)(r)?()=>r:Array.isArray(r)?()=>o?Math.max(...r)||c:r:(0,y.Z)(r)&&r.width&&r.height?()=>o?Math.max(r.width,r.height)||c:[r.width,r.height]:()=>c}const p=(c,r,o=10)=>{let a;const h=typeof r=="function"?r:()=>r||0;return c?Array.isArray(c)?a=x=>c:(0,s.Z)(c)?a=c:a=x=>c:a=x=>{var Y,$,F;if(!((Y=x.data)===null||Y===void 0)&&Y.bboxSize)return($=x.data)===null||$===void 0?void 0:$.bboxSize;if(!((F=x.data)===null||F===void 0)&&F.size){const X=x.data.size;return Array.isArray(X)?X:(0,y.Z)(X)?[X.width,X.height]:X}return o},x=>{const Y=a(x),$=h(x);return Math.max(...(0,D._)(Y))+$}}},80628:function(G,tt,i){"use strict";i.d(tt,{$y:function(){return p},H0:function(){return E},_:function(){return c},nu:function(){return v},qs:function(){return y},zJ:function(){return D}});var s=i(25897),I=i(85087);const y=r=>{const o=[],a=r.length;for(let h=0;h<a;h+=1){o[h]=[];for(let l=0;l<a;l+=1)h===l?o[h][l]=0:r[h][l]===0||!r[h][l]?o[h][l]=1/0:o[h][l]=r[h][l]}for(let h=0;h<a;h+=1)for(let l=0;l<a;l+=1)for(let x=0;x<a;x+=1)o[l][x]>o[l][h]+o[h][x]&&(o[l][x]=o[l][h]+o[h][x]);return o},D=(r,o)=>{const{nodes:a,edges:h}=r,l=[],x={};if(!a)throw new Error("invalid nodes data!");return a&&a.forEach((Y,$)=>{x[Y.id]=$;const F=[];l.push(F)}),h==null||h.forEach(Y=>{const{source:$,target:F}=Y,X=x[$],j=x[F];X===void 0||j===void 0||(l[X][j]=1,o||(l[j][X]=1))}),l},v=(r,o)=>{const a=[];return r.forEach(h=>{const l=[];h.forEach(x=>{l.push(x*o)}),a.push(l)}),a},E=r=>{let o=1/0,a=1/0,h=-1/0,l=-1/0;return r.forEach(x=>{let Y=x.data.size;(0,I.k)(Y)?Y.length===1&&(Y=[Y[0],Y[0]]):(0,s.Z)(Y)?Y=[Y,Y]:(Y===void 0||isNaN(Y))&&(Y=[30,30]);const $=[Y[0]/2,Y[1]/2],F=x.data.x-$[0],X=x.data.x+$[0],j=x.data.y-$[1],J=x.data.y+$[1];o>F&&(o=F),a>j&&(a=j),h<X&&(h=X),l<J&&(l=J)}),{minX:o,minY:a,maxX:h,maxY:l}},p=(r,o)=>Math.sqrt((r.x-o.x)*(r.x-o.x)+(r.y-o.y)*(r.y-o.y)),c=(r,o,a,h="TB",l,x={})=>{if(!(o!=null&&o.length))return;const{stopBranchFn:Y,stopAllFn:$}=x;for(let F=0;F<o.length;F++){const X=o[F];if(r.hasNode(X.id)&&!(Y!=null&&Y(X))){if($!=null&&$(X))return;h==="TB"&&a(X),c(r,r.getChildren(X.id,l),a,h,l,x),h!=="TB"&&a(X)}}}},98130:function(G,tt,i){"use strict";i.d(tt,{u:function(){return y}});var s=i(25897);const I=D=>{if(D===null)return D;if(D instanceof Date)return new Date(D.getTime());if(D instanceof Array){const v=[];return D.forEach(E=>{v.push(E)}),v.map(E=>I(E))}if(typeof D=="object"){const v={};return Object.keys(D).forEach(E=>{v[E]=I(D[E])}),v}return D},y=(D,v)=>{const E=I(D);return E.data=E.data||{},v&&((0,s.Z)(E.data.x)||(E.data.x=Math.random()*v[0]),(0,s.Z)(E.data.y)||(E.data.y=Math.random()*v[1])),E}},94754:function(G,tt,i){"use strict";i.d(tt,{_:function(){return I}});var s=i(25897);function I(y){if(!y)return[0,0,0];if((0,s.Z)(y))return[y,y,y];if(y.length===0)return[0,0,0];const[D,v=D,E=D]=y;return[D,v,E]}},83207:function(G,tt,i){"use strict";var s=i(5199),I=function(y){if(typeof y!="object"||y===null)return y;var D;if((0,s.Z)(y)){D=[];for(var v=0,E=y.length;v<E;v++)typeof y[v]=="object"&&y[v]!=null?D[v]=I(y[v]):D[v]=y[v]}else{D={};for(var p in y)typeof y[p]=="object"&&y[p]!=null?D[p]=I(y[p]):D[p]=y[p]}return D};tt.Z=I},83787:function(G,tt,i){"use strict";var s=i(5199),I=i(83845),y=5;function D(p,c){if(Object.hasOwn)return Object.hasOwn(p,c);if(p==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(p),c)}function v(p,c,r,o){r=r||0,o=o||y;for(var a in c)if(D(c,a)){var h=c[a];h!==null&&(0,I.Z)(h)?((0,I.Z)(p[a])||(p[a]={}),r<o?v(p[a],h,r+1,o):p[a]=c[a]):(0,s.Z)(h)?(p[a]=[],p[a]=p[a].concat(h)):h!==void 0&&(p[a]=h)}}var E=function(p){for(var c=[],r=1;r<arguments.length;r++)c[r-1]=arguments[r];for(var o=0;o<c.length;o+=1)v(p,c[o]);return p};tt.Z=E},15255:function(G,tt,i){"use strict";var s=i(5199),I=i(4637);function y(D,v){if(D){var E;if((0,s.Z)(D))for(var p=0,c=D.length;p<c&&(E=v(D[p],p),E!==!1);p++);else if((0,I.Z)(D)){for(var r in D)if(D.hasOwnProperty(r)&&(E=v(D[r],r),E===!1))break}}}tt.Z=y},5199:function(G,tt,i){"use strict";i.d(tt,{Z:function(){return s}});function s(I){return Array.isArray(I)}},45607:function(G,tt,i){"use strict";i.d(tt,{Z:function(){return s}});function s(I){return typeof I=="function"}},95147:function(G,tt,i){"use strict";i.d(tt,{Z:function(){return s}});function s(I){return I==null}},25897:function(G,tt,i){"use strict";i.d(tt,{Z:function(){return s}});function s(I){return typeof I=="number"}},6241:function(G,tt){"use strict";var i=function(s){return typeof s=="object"&&s!==null};tt.Z=i},4637:function(G,tt){"use strict";tt.Z=function(i){var s=typeof i;return i!==null&&s==="object"||s==="function"}},83845:function(G,tt,i){"use strict";var s=i(6241),I=i(95456),y=function(D){if(!(0,s.Z)(D)||!(0,I.Z)(D,"Object"))return!1;if(Object.getPrototypeOf(D)===null)return!0;for(var v=D;Object.getPrototypeOf(v)!==null;)v=Object.getPrototypeOf(v);return Object.getPrototypeOf(D)===v};tt.Z=y},76714:function(G,tt,i){"use strict";i.d(tt,{Z:function(){return s}});function s(I){return typeof I=="string"}},95456:function(G,tt){"use strict";var i={}.toString,s=function(I,y){return i.call(I)==="[object "+y+"]"};tt.Z=s},23413:function(G,tt,i){"use strict";var s=i(15255),I=i(83845),y=Object.prototype.hasOwnProperty;tt.Z=function(D,v){if(D===null||!(0,I.Z)(D))return{};var E={};return(0,s.Z)(v,function(p){y.call(D,p)&&(E[p]=D[p])}),E}},61076:function(G,tt,i){"use strict";var s,I=i(28785).default,y=i(48374).default,D=i(29777).default,v=i(25457).default,E=i(98637).default,p=i(25098).default,c=i(31996).default,r=i(26037).default,o=i(80363).default,a=i(9783).default,h=i(74978).default,l=i(5574).default,x=i(64599).default,Y=i(15009).default,$=i(52677).default,F=i(12444).default,X=i(72004).default;s={value:!0};var j=i(44091),J=i(75823),L=" ".repeat(2),T=" ".repeat(4);function P(){return U(this)}function U(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=S.maxRows,t=u===void 0?15:u,e=S.maxColumns,n=e===void 0?10:e,f=S.maxNumSize,N=f===void 0?8:f,b=S.padMinus,R=b===void 0?"auto":b;return"".concat(m.constructor.name,` {
`).concat(L,`[
`).concat(T).concat(V(m,t,n,N,R),`
`).concat(L,`]
`).concat(L,"rows: ").concat(m.rows,`
`).concat(L,"columns: ").concat(m.columns,`
}`)}function V(m,S,u,t,e){var n=m.rows,f=m.columns,N=Math.min(n,S),b=Math.min(f,u),R=[];if(e==="auto"){e=!1;t:for(var ut=0;ut<N;ut++)for(var dt=0;dt<b;dt++)if(m.get(ut,dt)<0){e=!0;break t}}for(var wt=0;wt<N;wt++){for(var Ot=[],bt=0;bt<b;bt++)Ot.push(B(m.get(wt,bt),t,e));R.push("".concat(Ot.join(" ")))}return b!==f&&(R[R.length-1]+=" ... ".concat(f-u," more columns")),N!==n&&R.push("... ".concat(n-S," more rows")),R.join(`
`.concat(T))}function B(m,S,u){return(m>=0&&u?" ".concat(M(m,S-1)):M(m,S)).padEnd(S)}function M(m,S){var u=m.toString();if(u.length<=S)return u;var t=m.toFixed(S);if(t.length>S&&(t=m.toFixed(Math.max(0,S-(t.length-S)))),t.length<=S&&!t.startsWith("0.000")&&!t.startsWith("-0.000"))return t;var e=m.toExponential(S);return e.length>S&&(e=m.toExponential(Math.max(0,S-(e.length-S)))),e.slice(0)}function k(m,S){m.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},m.prototype.addS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},m.prototype.addM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},m.add=function(t,e){var n=new S(t);return n.add(e)},m.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},m.prototype.subS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},m.prototype.subM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},m.sub=function(t,e){var n=new S(t);return n.sub(e)},m.prototype.subtract=m.prototype.sub,m.prototype.subtractS=m.prototype.subS,m.prototype.subtractM=m.prototype.subM,m.subtract=m.sub,m.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},m.prototype.mulS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},m.prototype.mulM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},m.mul=function(t,e){var n=new S(t);return n.mul(e)},m.prototype.multiply=m.prototype.mul,m.prototype.multiplyS=m.prototype.mulS,m.prototype.multiplyM=m.prototype.mulM,m.multiply=m.mul,m.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},m.prototype.divS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},m.prototype.divM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},m.div=function(t,e){var n=new S(t);return n.div(e)},m.prototype.divide=m.prototype.div,m.prototype.divideS=m.prototype.divS,m.prototype.divideM=m.prototype.divM,m.divide=m.div,m.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},m.prototype.modS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},m.prototype.modM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},m.mod=function(t,e){var n=new S(t);return n.mod(e)},m.prototype.modulus=m.prototype.mod,m.prototype.modulusS=m.prototype.modS,m.prototype.modulusM=m.prototype.modM,m.modulus=m.mod,m.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},m.prototype.andS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},m.prototype.andM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},m.and=function(t,e){var n=new S(t);return n.and(e)},m.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},m.prototype.orS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},m.prototype.orM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},m.or=function(t,e){var n=new S(t);return n.or(e)},m.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},m.prototype.xorS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},m.prototype.xorM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},m.xor=function(t,e){var n=new S(t);return n.xor(e)},m.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},m.prototype.leftShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},m.prototype.leftShiftM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},m.leftShift=function(t,e){var n=new S(t);return n.leftShift(e)},m.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},m.prototype.signPropagatingRightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},m.prototype.signPropagatingRightShiftM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},m.signPropagatingRightShift=function(t,e){var n=new S(t);return n.signPropagatingRightShift(e)},m.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},m.prototype.rightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},m.prototype.rightShiftM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},m.rightShift=function(t,e){var n=new S(t);return n.rightShift(e)},m.prototype.zeroFillRightShift=m.prototype.rightShift,m.prototype.zeroFillRightShiftS=m.prototype.rightShiftS,m.prototype.zeroFillRightShiftM=m.prototype.rightShiftM,m.zeroFillRightShift=m.rightShift,m.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},m.not=function(t){var e=new S(t);return e.not()},m.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},m.abs=function(t){var e=new S(t);return e.abs()},m.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},m.acos=function(t){var e=new S(t);return e.acos()},m.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},m.acosh=function(t){var e=new S(t);return e.acosh()},m.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},m.asin=function(t){var e=new S(t);return e.asin()},m.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},m.asinh=function(t){var e=new S(t);return e.asinh()},m.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},m.atan=function(t){var e=new S(t);return e.atan()},m.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},m.atanh=function(t){var e=new S(t);return e.atanh()},m.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},m.cbrt=function(t){var e=new S(t);return e.cbrt()},m.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},m.ceil=function(t){var e=new S(t);return e.ceil()},m.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},m.clz32=function(t){var e=new S(t);return e.clz32()},m.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},m.cos=function(t){var e=new S(t);return e.cos()},m.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},m.cosh=function(t){var e=new S(t);return e.cosh()},m.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},m.exp=function(t){var e=new S(t);return e.exp()},m.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},m.expm1=function(t){var e=new S(t);return e.expm1()},m.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},m.floor=function(t){var e=new S(t);return e.floor()},m.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},m.fround=function(t){var e=new S(t);return e.fround()},m.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},m.log=function(t){var e=new S(t);return e.log()},m.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},m.log1p=function(t){var e=new S(t);return e.log1p()},m.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},m.log10=function(t){var e=new S(t);return e.log10()},m.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},m.log2=function(t){var e=new S(t);return e.log2()},m.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},m.round=function(t){var e=new S(t);return e.round()},m.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},m.sign=function(t){var e=new S(t);return e.sign()},m.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},m.sin=function(t){var e=new S(t);return e.sin()},m.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},m.sinh=function(t){var e=new S(t);return e.sinh()},m.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},m.sqrt=function(t){var e=new S(t);return e.sqrt()},m.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},m.tan=function(t){var e=new S(t);return e.tan()},m.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},m.tanh=function(t){var e=new S(t);return e.tanh()},m.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},m.trunc=function(t){var e=new S(t);return e.trunc()},m.pow=function(t,e){var n=new S(t);return n.pow(e)},m.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},m.prototype.powS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},m.prototype.powM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this}}function K(m,S,u){var t=u?m.rows:m.rows-1;if(S<0||S>t)throw new RangeError("Row index out of range")}function z(m,S,u){var t=u?m.columns:m.columns-1;if(S<0||S>t)throw new RangeError("Column index out of range")}function O(m,S){if(S.to1DArray&&(S=S.to1DArray()),S.length!==m.columns)throw new RangeError("vector size must be the same as the number of columns");return S}function C(m,S){if(S.to1DArray&&(S=S.to1DArray()),S.length!==m.rows)throw new RangeError("vector size must be the same as the number of rows");return S}function Q(m,S){if(!j.isAnyArray(S))throw new TypeError("row indices must be an array");for(var u=0;u<S.length;u++)if(S[u]<0||S[u]>=m.rows)throw new RangeError("row indices are out of range")}function H(m,S){if(!j.isAnyArray(S))throw new TypeError("column indices must be an array");for(var u=0;u<S.length;u++)if(S[u]<0||S[u]>=m.columns)throw new RangeError("column indices are out of range")}function q(m,S,u,t,e){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(ht("startRow",S),ht("endRow",u),ht("startColumn",t),ht("endColumn",e),S>u||t>e||S<0||S>=m.rows||u<0||u>=m.rows||t<0||t>=m.columns||e<0||e>=m.columns)throw new RangeError("Submatrix indices are out of range")}function ot(m){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=[],t=0;t<m;t++)u.push(S);return u}function ht(m,S){if(typeof S!="number")throw new TypeError("".concat(m," must be a number"))}function nt(m){if(m.isEmpty())throw new Error("Empty matrix has no elements to index")}function gt(m){for(var S=ot(m.rows),u=0;u<m.rows;++u)for(var t=0;t<m.columns;++t)S[u]+=m.get(u,t);return S}function it(m){for(var S=ot(m.columns),u=0;u<m.rows;++u)for(var t=0;t<m.columns;++t)S[t]+=m.get(u,t);return S}function _(m){for(var S=0,u=0;u<m.rows;u++)for(var t=0;t<m.columns;t++)S+=m.get(u,t);return S}function ft(m){for(var S=ot(m.rows,1),u=0;u<m.rows;++u)for(var t=0;t<m.columns;++t)S[u]*=m.get(u,t);return S}function lt(m){for(var S=ot(m.columns,1),u=0;u<m.rows;++u)for(var t=0;t<m.columns;++t)S[t]*=m.get(u,t);return S}function at(m){for(var S=1,u=0;u<m.rows;u++)for(var t=0;t<m.columns;t++)S*=m.get(u,t);return S}function Mt(m,S,u){for(var t=m.rows,e=m.columns,n=[],f=0;f<t;f++){for(var N=0,b=0,R=0,ut=0;ut<e;ut++)R=m.get(f,ut)-u[f],N+=R,b+=R*R;S?n.push((b-N*N/e)/(e-1)):n.push((b-N*N/e)/e)}return n}function vt(m,S,u){for(var t=m.rows,e=m.columns,n=[],f=0;f<e;f++){for(var N=0,b=0,R=0,ut=0;ut<t;ut++)R=m.get(ut,f)-u[f],N+=R,b+=R*R;S?n.push((b-N*N/t)/(t-1)):n.push((b-N*N/t)/t)}return n}function yt(m,S,u){for(var t=m.rows,e=m.columns,n=t*e,f=0,N=0,b=0,R=0;R<t;R++)for(var ut=0;ut<e;ut++)b=m.get(R,ut)-u,f+=b,N+=b*b;return S?(N-f*f/n)/(n-1):(N-f*f/n)/n}function xt(m,S){for(var u=0;u<m.rows;u++)for(var t=0;t<m.columns;t++)m.set(u,t,m.get(u,t)-S[u])}function St(m,S){for(var u=0;u<m.rows;u++)for(var t=0;t<m.columns;t++)m.set(u,t,m.get(u,t)-S[t])}function It(m,S){for(var u=0;u<m.rows;u++)for(var t=0;t<m.columns;t++)m.set(u,t,m.get(u,t)-S)}function At(m){for(var S=[],u=0;u<m.rows;u++){for(var t=0,e=0;e<m.columns;e++)t+=Math.pow(m.get(u,e),2)/(m.columns-1);S.push(Math.sqrt(t))}return S}function Xt(m,S){for(var u=0;u<m.rows;u++)for(var t=0;t<m.columns;t++)m.set(u,t,m.get(u,t)/S[u])}function _t(m){for(var S=[],u=0;u<m.columns;u++){for(var t=0,e=0;e<m.rows;e++)t+=Math.pow(m.get(e,u),2)/(m.rows-1);S.push(Math.sqrt(t))}return S}function ee(m,S){for(var u=0;u<m.rows;u++)for(var t=0;t<m.columns;t++)m.set(u,t,m.get(u,t)/S[t])}function Kt(m){for(var S=m.size-1,u=0,t=0;t<m.columns;t++)for(var e=0;e<m.rows;e++)u+=Math.pow(m.get(e,t),2)/S;return Math.sqrt(u)}function ge(m,S){for(var u=0;u<m.rows;u++)for(var t=0;t<m.columns;t++)m.set(u,t,m.get(u,t)/S)}var Ut=function(m){function S(){F(this,S)}return X(S,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isDistance",value:function(){if(!this.isSymmetric())return!1;for(var t=0;t<this.rows;t++)if(this.get(t,t)!==0)return!1;return!0}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,f=!0,N=!1;t<this.rows&&f;){for(e=0,N=!1;e<this.columns&&N===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(N=!0,n=e):(f=!1,N=!0);t++}return f}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,f=!0,N=!1;t<this.rows&&f;){for(e=0,N=!1;e<this.columns&&N===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(N=!0,n=e):(f=!1,N=!0);for(var b=e+1;b<this.rows;b++)this.get(t,b)!==0&&(f=!1);t++}return f}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var f=e,N=e;N<t.rows;N++)t.get(N,n)>t.get(f,n)&&(f=N);if(t.get(f,n)===0)n++;else{t.swapRows(e,f);for(var b=t.get(e,n),R=n;R<t.columns;R++)t.set(e,R,t.get(e,R)/b);for(var ut=e+1;ut<t.rows;ut++){var dt=t.get(ut,n)/t.get(e,n);t.set(ut,n,0);for(var wt=n+1;wt<t.columns;wt++)t.set(ut,wt,t.get(ut,wt)-t.get(e,wt)*dt)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,f=n-1;f>=0;)if(t.maxRow(f)===0)f--;else{for(var N=0,b=!1;N<n&&b===!1;)t.get(f,N)===1?b=!0:N++;for(var R=0;R<f;R++)for(var ut=t.get(R,N),dt=N;dt<e;dt++){var wt=t.get(R,dt)-ut*t.get(f,dt);t.set(R,dt,wt)}f--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($(t)!=="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,f=t.columns,N=f===void 0?1:f;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(N)||N<=0)throw new TypeError("columns must be a positive integer");for(var b=new kt(this.rows*n,this.columns*N),R=0;R<n;R++)for(var ut=0;ut<N;ut++)b.setSubMatrix(this,this.rows*R,this.columns*ut);return b}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){K(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return kt.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){K(this,t),e=O(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){K(this,t),K(this,e);for(var n=0;n<this.columns;n++){var f=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,f)}return this}},{key:"getColumn",value:function(t){z(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return kt.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){z(this,t),e=C(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){z(this,t),z(this,e);for(var n=0;n<this.rows;n++){var f=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,f)}return this}},{key:"addRowVector",value:function(t){t=O(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=O(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=O(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=O(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=C(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=C(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=C(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=C(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){K(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){z(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var f=0;f<this.columns;f++)this.get(n,f)>e[n]&&(e[n]=this.get(n,f));return e}case"column":{for(var N=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),b=0;b<this.rows;b++)for(var R=0;R<this.columns;R++)this.get(b,R)>N[R]&&(N[R]=this.get(b,R));return N}case void 0:{for(var ut=this.get(0,0),dt=0;dt<this.rows;dt++)for(var wt=0;wt<this.columns;wt++)this.get(dt,wt)>ut&&(ut=this.get(dt,wt));return ut}default:throw new Error("invalid option: ".concat(t))}}},{key:"maxIndex",value:function(){nt(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var f=0;f<this.columns;f++)this.get(n,f)>t&&(t=this.get(n,f),e[0]=n,e[1]=f);return e}},{key:"min",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var f=0;f<this.columns;f++)this.get(n,f)<e[n]&&(e[n]=this.get(n,f));return e}case"column":{for(var N=new Array(this.columns).fill(Number.POSITIVE_INFINITY),b=0;b<this.rows;b++)for(var R=0;R<this.columns;R++)this.get(b,R)<N[R]&&(N[R]=this.get(b,R));return N}case void 0:{for(var ut=this.get(0,0),dt=0;dt<this.rows;dt++)for(var wt=0;wt<this.columns;wt++)this.get(dt,wt)<ut&&(ut=this.get(dt,wt));return ut}default:throw new Error("invalid option: ".concat(t))}}},{key:"minIndex",value:function(){nt(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var f=0;f<this.columns;f++)this.get(n,f)<t&&(t=this.get(n,f),e[0]=n,e[1]=f);return e}},{key:"maxRow",value:function(t){if(K(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){K(this,t),nt(this);for(var e=this.get(t,0),n=[t,0],f=1;f<this.columns;f++)this.get(t,f)>e&&(e=this.get(t,f),n[1]=f);return n}},{key:"minRow",value:function(t){if(K(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){K(this,t),nt(this);for(var e=this.get(t,0),n=[t,0],f=1;f<this.columns;f++)this.get(t,f)<e&&(e=this.get(t,f),n[1]=f);return n}},{key:"maxColumn",value:function(t){if(z(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){z(this,t),nt(this);for(var e=this.get(0,t),n=[0,t],f=1;f<this.rows;f++)this.get(f,t)>e&&(e=this.get(f,t),n[0]=f);return n}},{key:"minColumn",value:function(t){if(z(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){z(this,t),nt(this);for(var e=this.get(0,t),n=[0,t],f=1;f<this.rows;f++)this.get(f,t)<e&&(e=this.get(f,t),n[0]=f);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(t))}}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){S.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,f=0;f<e.length;f++)n+=e[f]*t[f];return n}},{key:"mmul",value:function(t){t=kt.checkMatrix(t);for(var e=this.rows,n=this.columns,f=t.columns,N=new kt(e,f),b=new Float64Array(n),R=0;R<f;R++){for(var ut=0;ut<n;ut++)b[ut]=t.get(ut,R);for(var dt=0;dt<e;dt++){for(var wt=0,Ot=0;Ot<n;Ot++)wt+=this.get(dt,Ot)*b[Ot];N.set(dt,R,wt)}}return N}},{key:"mpow",value:function(t){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(t)||t<0)throw new RangeError("Exponent must be a non-negative integer");for(var e=kt.eye(this.rows),n=this,f=t;f>=1;f/=2)f&1&&(e=e.mmul(n)),n=n.mmul(n);return e}},{key:"strassen2x2",value:function(t){t=kt.checkMatrix(t);var e=new kt(2,2),n=this.get(0,0),f=t.get(0,0),N=this.get(0,1),b=t.get(0,1),R=this.get(1,0),ut=t.get(1,0),dt=this.get(1,1),wt=t.get(1,1),Ot=(n+dt)*(f+wt),bt=(R+dt)*f,Lt=n*(b-wt),Wt=dt*(ut-f),pt=(n+N)*wt,Nt=(R-n)*(f+b),Dt=(N-dt)*(ut+wt),Ft=Ot+Wt-pt+Dt,Rt=Lt+pt,qt=bt+Wt,te=Ot-bt+Lt+Nt;return e.set(0,0,Ft),e.set(0,1,Rt),e.set(1,0,qt),e.set(1,1,te),e}},{key:"strassen3x3",value:function(t){t=kt.checkMatrix(t);var e=new kt(3,3),n=this.get(0,0),f=this.get(0,1),N=this.get(0,2),b=this.get(1,0),R=this.get(1,1),ut=this.get(1,2),dt=this.get(2,0),wt=this.get(2,1),Ot=this.get(2,2),bt=t.get(0,0),Lt=t.get(0,1),Wt=t.get(0,2),pt=t.get(1,0),Nt=t.get(1,1),Dt=t.get(1,2),Ft=t.get(2,0),Rt=t.get(2,1),qt=t.get(2,2),te=(n+f+N-b-R-wt-Ot)*Nt,Vt=(n-b)*(-Lt+Nt),Qt=R*(-bt+Lt+pt-Nt-Dt-Ft+qt),oe=(-n+b+R)*(bt-Lt+Nt),ye=(b+R)*(-bt+Lt),Tt=n*bt,be=(-n+dt+wt)*(bt-Wt+Dt),we=(-n+dt)*(Wt-Dt),ne=(dt+wt)*(-bt+Wt),Be=(n+f+N-R-ut-dt-wt)*Dt,Ue=wt*(-bt+Wt+pt-Nt-Dt-Ft+Rt),he=(-N+wt+Ot)*(Nt+Ft-Rt),ze=(N-Ot)*(Nt-Rt),De=N*Ft,ke=(wt+Ot)*(-Ft+Rt),pe=(-N+R+ut)*(Dt+Ft-qt),Ye=(N-ut)*(Dt-qt),Ke=(R+ut)*(-Ft+qt),$e=f*pt,wn=ut*Rt,Xe=b*Wt,_e=dt*Lt,jt=Ot*qt,Ve=Tt+De+$e,Je=te+oe+ye+Tt+he+De+ke,ie=Tt+be+ne+Be+De+pe+Ke,Qe=Vt+Qt+oe+Tt+De+pe+Ye,qe=Vt+oe+ye+Tt+wn,je=De+pe+Ye+Ke+Xe,He=Tt+be+we+Ue+he+ze+De,d=he+ze+De+ke+_e,g=Tt+be+we+ne+jt;return e.set(0,0,Ve),e.set(0,1,Je),e.set(0,2,ie),e.set(1,0,Qe),e.set(1,1,qe),e.set(1,2,je),e.set(2,0,He),e.set(2,1,d),e.set(2,2,g),e}},{key:"mmulStrassen",value:function(t){t=kt.checkMatrix(t);var e=this.clone(),n=e.rows,f=e.columns,N=t.rows,b=t.columns;f!==N&&console.warn("Multiplying ".concat(n," x ").concat(f," and ").concat(N," x ").concat(b," matrix: dimensions do not match."));function R(Ot,bt,Lt){var Wt=Ot.rows,pt=Ot.columns;if(Wt===bt&&pt===Lt)return Ot;var Nt=S.zeros(bt,Lt);return Nt=Nt.setSubMatrix(Ot,0,0),Nt}var ut=Math.max(n,N),dt=Math.max(f,b);e=R(e,ut,dt),t=R(t,ut,dt);function wt(Ot,bt,Lt,Wt){if(Lt<=512||Wt<=512)return Ot.mmul(bt);Lt%2===1&&Wt%2===1?(Ot=R(Ot,Lt+1,Wt+1),bt=R(bt,Lt+1,Wt+1)):Lt%2===1?(Ot=R(Ot,Lt+1,Wt),bt=R(bt,Lt+1,Wt)):Wt%2===1&&(Ot=R(Ot,Lt,Wt+1),bt=R(bt,Lt,Wt+1));var pt=parseInt(Ot.rows/2,10),Nt=parseInt(Ot.columns/2,10),Dt=Ot.subMatrix(0,pt-1,0,Nt-1),Ft=bt.subMatrix(0,pt-1,0,Nt-1),Rt=Ot.subMatrix(0,pt-1,Nt,Ot.columns-1),qt=bt.subMatrix(0,pt-1,Nt,bt.columns-1),te=Ot.subMatrix(pt,Ot.rows-1,0,Nt-1),Vt=bt.subMatrix(pt,bt.rows-1,0,Nt-1),Qt=Ot.subMatrix(pt,Ot.rows-1,Nt,Ot.columns-1),oe=bt.subMatrix(pt,bt.rows-1,Nt,bt.columns-1),ye=wt(S.add(Dt,Qt),S.add(Ft,oe),pt,Nt),Tt=wt(S.add(te,Qt),Ft,pt,Nt),be=wt(Dt,S.sub(qt,oe),pt,Nt),we=wt(Qt,S.sub(Vt,Ft),pt,Nt),ne=wt(S.add(Dt,Rt),oe,pt,Nt),Be=wt(S.sub(te,Dt),S.add(Ft,qt),pt,Nt),Ue=wt(S.sub(Rt,Qt),S.add(Vt,oe),pt,Nt),he=S.add(ye,we);he.sub(ne),he.add(Ue);var ze=S.add(be,ne),De=S.add(Tt,we),ke=S.sub(ye,Tt);ke.add(be),ke.add(Be);var pe=S.zeros(2*he.rows,2*he.columns);return pe=pe.setSubMatrix(he,0,0),pe=pe.setSubMatrix(ze,he.rows,0),pe=pe.setSubMatrix(De,0,he.columns),pe=pe.setSubMatrix(ke,he.rows,he.columns),pe.subMatrix(0,Lt-1,0,Wt-1)}return wt(e,t,ut,dt)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($(t)!=="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,f=t.max,N=f===void 0?1:f;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(N))throw new TypeError("max must be a number");if(n>=N)throw new RangeError("min must be smaller than max");for(var b=new kt(this.rows,this.columns),R=0;R<this.rows;R++){var ut=this.getRow(R);ut.length>0&&J(ut,{min:n,max:N,output:ut}),b.setRow(R,ut)}return b}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($(t)!=="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,f=t.max,N=f===void 0?1:f;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(N))throw new TypeError("max must be a number");if(n>=N)throw new RangeError("min must be smaller than max");for(var b=new kt(this.rows,this.columns),R=0;R<this.columns;R++){var ut=this.getColumn(R);ut.length&&J(ut,{min:n,max:N,output:ut}),b.setColumn(R,ut)}return b}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var f=this.get(e,n),N=this.get(e,this.columns-1-n);this.set(e,n,N),this.set(e,this.columns-1-n,f)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var f=this.get(n,e),N=this.get(this.rows-1-n,e);this.set(n,e,N),this.set(this.rows-1-n,e,f)}return this}},{key:"kroneckerProduct",value:function(t){t=kt.checkMatrix(t);for(var e=this.rows,n=this.columns,f=t.rows,N=t.columns,b=new kt(e*f,n*N),R=0;R<e;R++)for(var ut=0;ut<n;ut++)for(var dt=0;dt<f;dt++)for(var wt=0;wt<N;wt++)b.set(f*R+dt,N*ut+wt,this.get(R,ut)*t.get(dt,wt));return b}},{key:"kroneckerSum",value:function(t){if(t=kt.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,f=this.kroneckerProduct(kt.eye(n,n)),N=kt.eye(e,e).kroneckerProduct(t);return f.add(N)}},{key:"transpose",value:function(){for(var t=new kt(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ve,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ve,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,f){q(this,t,e,n,f);for(var N=new kt(e-t+1,f-n+1),b=t;b<=e;b++)for(var R=n;R<=f;R++)N.set(b-t,R-n,this.get(b,R));return N}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var f=new kt(t.length,n-e+1),N=0;N<t.length;N++)for(var b=e;b<=n;b++){if(t[N]<0||t[N]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[N]));f.set(N,b-e,this.get(t[N],b))}return f}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var f=new kt(n-e+1,t.length),N=0;N<t.length;N++)for(var b=e;b<=n;b++){if(t[N]<0||t[N]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[N]));f.set(b-e,N,this.get(b,t[N]))}return f}},{key:"setSubMatrix",value:function(t,e,n){if(t=kt.checkMatrix(t),t.isEmpty())return this;var f=e+t.rows-1,N=n+t.columns-1;q(this,e,f,n,N);for(var b=0;b<t.rows;b++)for(var R=0;R<t.columns;R++)this.set(e+b,n+R,t.get(b,R));return this}},{key:"selection",value:function(t,e){Q(this,t),H(this,e);for(var n=new kt(t.length,e.length),f=0;f<t.length;f++)for(var N=t[f],b=0;b<e.length;b++){var R=e[b];n.set(f,b,this.get(N,R))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){return this.constructor.copy(this,new kt(this.rows,this.columns))}},{key:"sum",value:function(t){switch(t){case"row":return gt(this);case"column":return it(this);case void 0:return _(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return ft(this);case"column":return lt(this);case void 0:return at(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var f=0;f<this.columns;f++)e[f]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($(t)==="object"&&(e=t,t=void 0),$(e)!=="object")throw new TypeError("options must be an object");var n=e,f=n.unbiased,N=f===void 0?!0:f,b=n.mean,R=b===void 0?this.mean(t):b;if(typeof N!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!j.isAnyArray(R))throw new TypeError("mean must be an array");return Mt(this,N,R)}case"column":{if(!j.isAnyArray(R))throw new TypeError("mean must be an array");return vt(this,N,R)}case void 0:{if(typeof R!="number")throw new TypeError("mean must be a number");return yt(this,N,R)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){$(t)==="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var f=0;f<n.length;f++)n[f]=Math.sqrt(n[f]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($(t)==="object"&&(e=t,t=void 0),$(e)!=="object")throw new TypeError("options must be an object");var n=e,f=n.center,N=f===void 0?this.mean(t):f;switch(t){case"row":{if(!j.isAnyArray(N))throw new TypeError("center must be an array");return xt(this,N),this}case"column":{if(!j.isAnyArray(N))throw new TypeError("center must be an array");return St(this,N),this}case void 0:{if(typeof N!="number")throw new TypeError("center must be a number");return It(this,N),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($(t)==="object"&&(e=t,t=void 0),$(e)!=="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=At(this);else if(!j.isAnyArray(n))throw new TypeError("scale must be an array");return Xt(this,n),this}case"column":{if(n===void 0)n=_t(this);else if(!j.isAnyArray(n))throw new TypeError("scale must be an array");return ee(this,n),this}case void 0:{if(n===void 0)n=Kt(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return ge(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return U(this,t)}},{key:m,value:function(){return this.entries()}},{key:"entries",value:Y().mark(function u(){var t,e;return Y().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t=0;case 1:if(!(t<this.rows)){f.next=12;break}e=0;case 3:if(!(e<this.columns)){f.next=9;break}return f.next=6,[t,e,this.get(t,e)];case 6:e++,f.next=3;break;case 9:t++,f.next=1;break;case 12:case"end":return f.stop()}},u,this)})},{key:"values",value:Y().mark(function u(){var t,e;return Y().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t=0;case 1:if(!(t<this.rows)){f.next=12;break}e=0;case 3:if(!(e<this.columns)){f.next=9;break}return f.next=6,this.get(t,e);case 6:e++,f.next=3;break;case 9:t++,f.next=1;break;case 12:case"end":return f.stop()}},u,this)})}],[{key:"from1DArray",value:function(t,e,n){var f=t*e;if(f!==n.length)throw new RangeError("data length does not match given dimensions");for(var N=new kt(t,e),b=0;b<t;b++)for(var R=0;R<e;R++)N.set(b,R,n[b*e+R]);return N}},{key:"rowVector",value:function(t){for(var e=new kt(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new kt(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new kt(t,e)}},{key:"ones",value:function(t,e){return new kt(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if($(n)!=="object")throw new TypeError("options must be an object");for(var f=n.random,N=f===void 0?Math.random:f,b=new kt(t,e),R=0;R<t;R++)for(var ut=0;ut<e;ut++)b.set(R,ut,N());return b}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if($(n)!=="object")throw new TypeError("options must be an object");var f=n.min,N=f===void 0?0:f,b=n.max,R=b===void 0?1e3:b,ut=n.random,dt=ut===void 0?Math.random:ut;if(!Number.isInteger(N))throw new TypeError("min must be an integer");if(!Number.isInteger(R))throw new TypeError("max must be an integer");if(N>=R)throw new RangeError("min must be smaller than max");for(var wt=R-N,Ot=new kt(t,e),bt=0;bt<t;bt++)for(var Lt=0;Lt<e;Lt++){var Wt=N+Math.round(dt()*wt);Ot.set(bt,Lt,Wt)}return Ot}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var f=Math.min(t,e),N=this.zeros(t,e),b=0;b<f;b++)N.set(b,b,n);return N}},{key:"diag",value:function(t,e,n){var f=t.length;e===void 0&&(e=f),n===void 0&&(n=e);for(var N=Math.min(f,e,n),b=this.zeros(e,n),R=0;R<N;R++)b.set(R,R,t[R]);return b}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,f=t.columns,N=new kt(n,f),b=0;b<n;b++)for(var R=0;R<f;R++)N.set(b,R,Math.min(t.get(b,R),e.get(b,R)));return N}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,f=t.columns,N=new this(n,f),b=0;b<n;b++)for(var R=0;R<f;R++)N.set(b,R,Math.max(t.get(b,R),e.get(b,R)));return N}},{key:"checkMatrix",value:function(t){return S.isMatrix(t)?t:new kt(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}},{key:"copy",value:function(t,e){var n=x(t.entries()),f;try{for(n.s();!(f=n.n()).done;){var N=l(f.value,3),b=N[0],R=N[1],ut=N[2];e.set(b,R,ut)}}catch(dt){n.e(dt)}finally{n.f()}return e}}]),S}(Symbol.iterator);Ut.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Ut.prototype[Symbol.for("nodejs.util.inspect.custom")]=P);function ve(m,S){return m-S}function ce(m){return m.every(function(S){return typeof S=="number"})}Ut.random=Ut.rand,Ut.randomInt=Ut.randInt,Ut.diagonal=Ut.diag,Ut.prototype.diagonal=Ut.prototype.diag,Ut.identity=Ut.eye,Ut.prototype.negate=Ut.prototype.neg,Ut.prototype.tensorProduct=Ut.prototype.kroneckerProduct;var re=new WeakSet,kt=function(m){c(u,m);var S=r(u);function u(t,e){var n;if(F(this,u),n=S.call(this),o(p(n),re),a(p(n),"data",void 0),u.isMatrix(t))h(p(n),re,me).call(p(n),t.rows,t.columns),u.copy(t,p(n));else if(Number.isInteger(t)&&t>=0)h(p(n),re,me).call(p(n),t,e);else if(j.isAnyArray(t)){var f=t;if(t=f.length,e=t?f[0].length:0,typeof e!="number")throw new TypeError("Data must be a 2D array with at least one element");n.data=[];for(var N=0;N<t;N++){if(f[N].length!==e)throw new RangeError("Inconsistent array dimensions");if(!ce(f[N]))throw new TypeError("Input data contains non-numeric values");n.data.push(Float64Array.from(f[N]))}n.rows=t,n.columns=e}else throw new TypeError("First argument must be a positive number or an array");return n}return X(u,[{key:"set",value:function(e,n,f){return this.data[e][n]=f,this}},{key:"get",value:function(e,n){return this.data[e][n]}},{key:"removeRow",value:function(e){return K(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,n){return n===void 0&&(n=e,e=this.rows),K(this,e,!0),n=Float64Array.from(O(this,n)),this.data.splice(e,0,n),this.rows+=1,this}},{key:"removeColumn",value:function(e){z(this,e);for(var n=0;n<this.rows;n++){for(var f=new Float64Array(this.columns-1),N=0;N<e;N++)f[N]=this.data[n][N];for(var b=e+1;b<this.columns;b++)f[b-1]=this.data[n][b];this.data[n]=f}return this.columns-=1,this}},{key:"addColumn",value:function(e,n){typeof n=="undefined"&&(n=e,e=this.columns),z(this,e,!0),n=C(this,n);for(var f=0;f<this.rows;f++){for(var N=new Float64Array(this.columns+1),b=0;b<e;b++)N[b]=this.data[f][b];for(N[b++]=n[f];b<this.columns+1;b++)N[b]=this.data[f][b-1];this.data[f]=N}return this.columns+=1,this}}]),u}(Ut);function me(m,S){if(this.data=[],Number.isInteger(S)&&S>=0)for(var u=0;u<m;u++)this.data.push(new Float64Array(S));else throw new TypeError("nColumns must be a positive integer");this.rows=m,this.columns=S}k(Ut,kt);var xe=new WeakMap,se=function(m){c(u,m);var S=r(u);function u(t){var e;if(F(this,u),e=S.call(this),D(p(e),xe,{writable:!0,value:void 0}),kt.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");v(p(e),xe,kt.copy(t,new kt(t.rows,t.rows)))}else if(Number.isInteger(t)&&t>=0)v(p(e),xe,new kt(t,t));else if(v(p(e),xe,new kt(t)),!e.isSymmetric())throw new TypeError("not symmetric data");return e}return X(u,[{key:"size",get:function(){return E(this,xe).size}},{key:"rows",get:function(){return E(this,xe).rows}},{key:"columns",get:function(){return E(this,xe).columns}},{key:"diagonalSize",get:function(){return this.rows}},{key:"clone",value:function(){var e=new u(this.diagonalSize),n=x(this.upperRightEntries()),f;try{for(n.s();!(f=n.n()).done;){var N=l(f.value,3),b=N[0],R=N[1],ut=N[2];e.set(b,R,ut)}}catch(dt){n.e(dt)}finally{n.f()}return e}},{key:"toMatrix",value:function(){return new kt(this)}},{key:"get",value:function(e,n){return E(this,xe).get(e,n)}},{key:"set",value:function(e,n,f){return E(this,xe).set(e,n,f),E(this,xe).set(n,e,f),this}},{key:"removeCross",value:function(e){return E(this,xe).removeRow(e),E(this,xe).removeColumn(e),this}},{key:"addCross",value:function(e,n){n===void 0&&(n=e,e=this.diagonalSize);var f=n.slice();return f.splice(e,1),E(this,xe).addRow(e,f),E(this,xe).addColumn(e,n),this}},{key:"applyMask",value:function(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");var n=[],f=x(e.entries()),N;try{for(f.s();!(N=f.n()).done;){var b=l(N.value,2),R=b[0],ut=b[1];ut||n.push(R)}}catch(bt){f.e(bt)}finally{f.f()}n.reverse();for(var dt=0,wt=n;dt<wt.length;dt++){var Ot=wt[dt];this.removeCross(Ot)}return this}},{key:"toCompact",value:function(){for(var e=this.diagonalSize,n=new Array(e*(e+1)/2),f=0,N=0,b=0;b<n.length;b++)n[b]=this.get(N,f),++f>=e&&(f=++N);return n}},{key:"upperRightEntries",value:Y().mark(function t(){var e,n,f;return Y().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:e=0,n=0;case 1:if(!(e<this.diagonalSize)){b.next=9;break}return f=this.get(e,n),b.next=5,[e,n,f];case 5:++n>=this.diagonalSize&&(n=++e);case 6:b.next=1;break;case 9:case"end":return b.stop()}},t,this)})},{key:"upperRightValues",value:Y().mark(function t(){var e,n,f;return Y().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:e=0,n=0;case 1:if(!(e<this.diagonalSize)){b.next=9;break}return f=this.get(e,n),b.next=5,f;case 5:++n>=this.diagonalSize&&(n=++e);case 6:b.next=1;break;case 9:case"end":return b.stop()}},t,this)})}],[{key:"isSymmetricMatrix",value:function(e){return kt.isMatrix(e)&&e.klassType==="SymmetricMatrix"}},{key:"zeros",value:function(e){return new this(e)}},{key:"ones",value:function(e){return new this(e).fill(1)}},{key:"fromCompact",value:function(e){var n=e.length,f=(Math.sqrt(8*n+1)-1)/2;if(!Number.isInteger(f))throw new TypeError("This array is not a compact representation of a Symmetric Matrix, ".concat(JSON.stringify(e)));for(var N=new u(f),b=0,R=0,ut=0;ut<n;ut++)N.set(b,R,e[ut]),++b>=f&&(b=++R);return N}}]),u}(Ut);se.prototype.klassType="SymmetricMatrix";var Te=function(m){c(u,m);var S=r(u);function u(t){var e;if(F(this,u),e=S.call(this,t),!e.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix");return e}return X(u,[{key:"set",value:function(e,n,f){return e===n&&(f=0),I(y(u.prototype),"set",this).call(this,e,n,f)}},{key:"addCross",value:function(e,n){return n===void 0&&(n=e,e=this.diagonalSize),n=n.slice(),n[e]=0,I(y(u.prototype),"addCross",this).call(this,e,n)}},{key:"toSymmetricMatrix",value:function(){return new se(this)}},{key:"clone",value:function(){var e=new u(this.diagonalSize),n=x(this.upperRightEntries()),f;try{for(n.s();!(f=n.n()).done;){var N=l(f.value,3),b=N[0],R=N[1],ut=N[2];b!==R&&e.set(b,R,ut)}}catch(dt){n.e(dt)}finally{n.f()}return e}},{key:"toCompact",value:function(){for(var e=this.diagonalSize,n=(e-1)*e/2,f=new Array(n),N=1,b=0,R=0;R<f.length;R++)f[R]=this.get(b,N),++N>=e&&(N=++b+1);return f}}],[{key:"isDistanceMatrix",value:function(e){return se.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}},{key:"fromCompact",value:function(e){var n=e.length;if(n===0)return new this(0);var f=(Math.sqrt(8*n+1)+1)/2;if(!Number.isInteger(f))throw new TypeError("This array is not a compact representation of a DistanceMatrix, ".concat(JSON.stringify(e)));for(var N=new this(f),b=1,R=0,ut=0;ut<n;ut++)N.set(b,R,e[ut]),++b>=f&&(b=++R+1);return N}}]),u}(se);Te.prototype.klassSubType="DistanceMatrix";var Oe=function(m){c(u,m);var S=r(u);function u(t,e,n){var f;return F(this,u),f=S.call(this),f.matrix=t,f.rows=e,f.columns=n,f}return X(u)}(Ut),kn=function(m){c(u,m);var S=r(u);function u(t,e){var n;return F(this,u),z(t,e),n=S.call(this,t,t.rows,1),n.column=e,n}return X(u,[{key:"set",value:function(e,n,f){return this.matrix.set(e,this.column,f),this}},{key:"get",value:function(e){return this.matrix.get(e,this.column)}}]),u}(Oe),bn=function(m){c(u,m);var S=r(u);function u(t,e){var n;return F(this,u),H(t,e),n=S.call(this,t,t.rows,e.length),n.columnIndices=e,n}return X(u,[{key:"set",value:function(e,n,f){return this.matrix.set(e,this.columnIndices[n],f),this}},{key:"get",value:function(e,n){return this.matrix.get(e,this.columnIndices[n])}}]),u}(Oe),Tn=function(m){c(u,m);var S=r(u);function u(t){return F(this,u),S.call(this,t,t.rows,t.columns)}return X(u,[{key:"set",value:function(e,n,f){return this.matrix.set(e,this.columns-n-1,f),this}},{key:"get",value:function(e,n){return this.matrix.get(e,this.columns-n-1)}}]),u}(Oe),Nn=function(m){c(u,m);var S=r(u);function u(t){return F(this,u),S.call(this,t,t.rows,t.columns)}return X(u,[{key:"set",value:function(e,n,f){return this.matrix.set(this.rows-e-1,n,f),this}},{key:"get",value:function(e,n){return this.matrix.get(this.rows-e-1,n)}}]),u}(Oe),Cn=function(m){c(u,m);var S=r(u);function u(t,e){var n;return F(this,u),K(t,e),n=S.call(this,t,1,t.columns),n.row=e,n}return X(u,[{key:"set",value:function(e,n,f){return this.matrix.set(this.row,n,f),this}},{key:"get",value:function(e,n){return this.matrix.get(this.row,n)}}]),u}(Oe),zn=function(m){c(u,m);var S=r(u);function u(t,e){var n;return F(this,u),Q(t,e),n=S.call(this,t,e.length,t.columns),n.rowIndices=e,n}return X(u,[{key:"set",value:function(e,n,f){return this.matrix.set(this.rowIndices[e],n,f),this}},{key:"get",value:function(e,n){return this.matrix.get(this.rowIndices[e],n)}}]),u}(Oe),sn=function(m){c(u,m);var S=r(u);function u(t,e,n){var f;return F(this,u),Q(t,e),H(t,n),f=S.call(this,t,e.length,n.length),f.rowIndices=e,f.columnIndices=n,f}return X(u,[{key:"set",value:function(e,n,f){return this.matrix.set(this.rowIndices[e],this.columnIndices[n],f),this}},{key:"get",value:function(e,n){return this.matrix.get(this.rowIndices[e],this.columnIndices[n])}}]),u}(Oe),Mn=function(m){c(u,m);var S=r(u);function u(t,e,n,f,N){var b;return F(this,u),q(t,e,n,f,N),b=S.call(this,t,n-e+1,N-f+1),b.startRow=e,b.startColumn=f,b}return X(u,[{key:"set",value:function(e,n,f){return this.matrix.set(this.startRow+e,this.startColumn+n,f),this}},{key:"get",value:function(e,n){return this.matrix.get(this.startRow+e,this.startColumn+n)}}]),u}(Oe),On=function(m){c(u,m);var S=r(u);function u(t){return F(this,u),S.call(this,t,t.columns,t.rows)}return X(u,[{key:"set",value:function(e,n,f){return this.matrix.set(n,e,f),this}},{key:"get",value:function(e,n){return this.matrix.get(n,e)}}]),u}(Oe),on=function(m){c(u,m);var S=r(u);function u(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F(this,u);var f=n.rows,N=f===void 0?1:f;if(t.length%N!==0)throw new Error("the data length is not divisible by the number of rows");return e=S.call(this),e.rows=N,e.columns=t.length/N,e.data=t,e}return X(u,[{key:"set",value:function(e,n,f){var N=this._calculateIndex(e,n);return this.data[N]=f,this}},{key:"get",value:function(e,n){var f=this._calculateIndex(e,n);return this.data[f]}},{key:"_calculateIndex",value:function(e,n){return e*this.columns+n}}]),u}(Ut),Se=function(m){c(u,m);var S=r(u);function u(t){var e;return F(this,u),e=S.call(this),e.data=t,e.rows=t.length,e.columns=t[0].length,e}return X(u,[{key:"set",value:function(e,n,f){return this.data[e][n]=f,this}},{key:"get",value:function(e,n){return this.data[e][n]}}]),u}(Ut);function Fn(m,S){if(j.isAnyArray(m))return m[0]&&j.isAnyArray(m[0])?new Se(m):new on(m,S);throw new Error("the argument is not an array")}var an=function(){function m(S){F(this,m),S=Se.checkMatrix(S);var u=S.clone(),t=u.rows,e=u.columns,n=new Float64Array(t),f=1,N,b,R,ut,dt,wt,Ot,bt,Lt;for(N=0;N<t;N++)n[N]=N;for(bt=new Float64Array(t),b=0;b<e;b++){for(N=0;N<t;N++)bt[N]=u.get(N,b);for(N=0;N<t;N++){for(Lt=Math.min(N,b),dt=0,R=0;R<Lt;R++)dt+=u.get(N,R)*bt[R];bt[N]-=dt,u.set(N,b,bt[N])}for(ut=b,N=b+1;N<t;N++)Math.abs(bt[N])>Math.abs(bt[ut])&&(ut=N);if(ut!==b){for(R=0;R<e;R++)wt=u.get(ut,R),u.set(ut,R,u.get(b,R)),u.set(b,R,wt);Ot=n[ut],n[ut]=n[b],n[b]=Ot,f=-f}if(b<t&&u.get(b,b)!==0)for(N=b+1;N<t;N++)u.set(N,b,u.get(N,b)/u.get(b,b))}this.LU=u,this.pivotVector=n,this.pivotSign=f}return X(m,[{key:"isSingular",value:function(){for(var u=this.LU,t=u.columns,e=0;e<t;e++)if(u.get(e,e)===0)return!0;return!1}},{key:"solve",value:function(u){u=kt.checkMatrix(u);var t=this.LU,e=t.rows;if(e!==u.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n=u.columns,f=u.subMatrixRow(this.pivotVector,0,n-1),N=t.columns,b,R,ut;for(ut=0;ut<N;ut++)for(b=ut+1;b<N;b++)for(R=0;R<n;R++)f.set(b,R,f.get(b,R)-f.get(ut,R)*t.get(b,ut));for(ut=N-1;ut>=0;ut--){for(R=0;R<n;R++)f.set(ut,R,f.get(ut,R)/t.get(ut,ut));for(b=0;b<ut;b++)for(R=0;R<n;R++)f.set(b,R,f.get(b,R)-f.get(ut,R)*t.get(b,ut))}return f}},{key:"determinant",get:function(){var u=this.LU;if(!u.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,e=u.columns,n=0;n<e;n++)t*=u.get(n,n);return t}},{key:"lowerTriangularMatrix",get:function(){for(var u=this.LU,t=u.rows,e=u.columns,n=new kt(t,e),f=0;f<t;f++)for(var N=0;N<e;N++)f>N?n.set(f,N,u.get(f,N)):f===N?n.set(f,N,1):n.set(f,N,0);return n}},{key:"upperTriangularMatrix",get:function(){for(var u=this.LU,t=u.rows,e=u.columns,n=new kt(t,e),f=0;f<t;f++)for(var N=0;N<e;N++)f<=N?n.set(f,N,u.get(f,N)):n.set(f,N,0);return n}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),m}();function Ce(m,S){var u=0;return Math.abs(m)>Math.abs(S)?(u=S/m,Math.abs(m)*Math.sqrt(1+u*u)):S!==0?(u=m/S,Math.abs(S)*Math.sqrt(1+u*u)):0}var un=function(){function m(S){F(this,m),S=Se.checkMatrix(S);var u=S.clone(),t=S.rows,e=S.columns,n=new Float64Array(e),f,N,b,R;for(b=0;b<e;b++){var ut=0;for(f=b;f<t;f++)ut=Ce(ut,u.get(f,b));if(ut!==0){for(u.get(b,b)<0&&(ut=-ut),f=b;f<t;f++)u.set(f,b,u.get(f,b)/ut);for(u.set(b,b,u.get(b,b)+1),N=b+1;N<e;N++){for(R=0,f=b;f<t;f++)R+=u.get(f,b)*u.get(f,N);for(R=-R/u.get(b,b),f=b;f<t;f++)u.set(f,N,u.get(f,N)+R*u.get(f,b))}}n[b]=-ut}this.QR=u,this.Rdiag=n}return X(m,[{key:"solve",value:function(u){u=kt.checkMatrix(u);var t=this.QR,e=t.rows;if(u.rows!==e)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var n=u.columns,f=u.clone(),N=t.columns,b,R,ut,dt;for(ut=0;ut<N;ut++)for(R=0;R<n;R++){for(dt=0,b=ut;b<e;b++)dt+=t.get(b,ut)*f.get(b,R);for(dt=-dt/t.get(ut,ut),b=ut;b<e;b++)f.set(b,R,f.get(b,R)+dt*t.get(b,ut))}for(ut=N-1;ut>=0;ut--){for(R=0;R<n;R++)f.set(ut,R,f.get(ut,R)/this.Rdiag[ut]);for(b=0;b<ut;b++)for(R=0;R<n;R++)f.set(b,R,f.get(b,R)-f.get(ut,R)*t.get(b,ut))}return f.subMatrix(0,N-1,0,n-1)}},{key:"isFullRank",value:function(){for(var u=this.QR.columns,t=0;t<u;t++)if(this.Rdiag[t]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var u=this.QR,t=u.columns,e=new kt(t,t),n,f;for(n=0;n<t;n++)for(f=0;f<t;f++)n<f?e.set(n,f,u.get(n,f)):n===f?e.set(n,f,this.Rdiag[n]):e.set(n,f,0);return e}},{key:"orthogonalMatrix",get:function(){var u=this.QR,t=u.rows,e=u.columns,n=new kt(t,e),f,N,b,R;for(b=e-1;b>=0;b--){for(f=0;f<t;f++)n.set(f,b,0);for(n.set(b,b,1),N=b;N<e;N++)if(u.get(b,b)!==0){for(R=0,f=b;f<t;f++)R+=u.get(f,b)*n.get(f,N);for(R=-R/u.get(b,b),f=b;f<t;f++)n.set(f,N,n.get(f,N)+R*u.get(f,b))}}return n}}]),m}(),Ze=function(){function m(S){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(F(this,m),S=Se.checkMatrix(S),S.isEmpty())throw new Error("Matrix must be non-empty");var t=S.rows,e=S.columns,n=u.computeLeftSingularVectors,f=n===void 0?!0:n,N=u.computeRightSingularVectors,b=N===void 0?!0:N,R=u.autoTranspose,ut=R===void 0?!1:R,dt=!!f,wt=!!b,Ot=!1,bt;if(t<e)if(!ut)bt=S.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{bt=S.transpose(),t=bt.rows,e=bt.columns,Ot=!0;var Lt=dt;dt=wt,wt=Lt}else bt=S.clone();for(var Wt=Math.min(t,e),pt=Math.min(t+1,e),Nt=new Float64Array(pt),Dt=new kt(t,Wt),Ft=new kt(e,e),Rt=new Float64Array(e),qt=new Float64Array(t),te=new Float64Array(pt),Vt=0;Vt<pt;Vt++)te[Vt]=Vt;for(var Qt=Math.min(t-1,e),oe=Math.max(0,Math.min(e-2,t)),ye=Math.max(Qt,oe),Tt=0;Tt<ye;Tt++){if(Tt<Qt){Nt[Tt]=0;for(var be=Tt;be<t;be++)Nt[Tt]=Ce(Nt[Tt],bt.get(be,Tt));if(Nt[Tt]!==0){bt.get(Tt,Tt)<0&&(Nt[Tt]=-Nt[Tt]);for(var we=Tt;we<t;we++)bt.set(we,Tt,bt.get(we,Tt)/Nt[Tt]);bt.set(Tt,Tt,bt.get(Tt,Tt)+1)}Nt[Tt]=-Nt[Tt]}for(var ne=Tt+1;ne<e;ne++){if(Tt<Qt&&Nt[Tt]!==0){for(var Be=0,Ue=Tt;Ue<t;Ue++)Be+=bt.get(Ue,Tt)*bt.get(Ue,ne);Be=-Be/bt.get(Tt,Tt);for(var he=Tt;he<t;he++)bt.set(he,ne,bt.get(he,ne)+Be*bt.get(he,Tt))}Rt[ne]=bt.get(Tt,ne)}if(dt&&Tt<Qt)for(var ze=Tt;ze<t;ze++)Dt.set(ze,Tt,bt.get(ze,Tt));if(Tt<oe){Rt[Tt]=0;for(var De=Tt+1;De<e;De++)Rt[Tt]=Ce(Rt[Tt],Rt[De]);if(Rt[Tt]!==0){Rt[Tt+1]<0&&(Rt[Tt]=0-Rt[Tt]);for(var ke=Tt+1;ke<e;ke++)Rt[ke]/=Rt[Tt];Rt[Tt+1]+=1}if(Rt[Tt]=-Rt[Tt],Tt+1<t&&Rt[Tt]!==0){for(var pe=Tt+1;pe<t;pe++)qt[pe]=0;for(var Ye=Tt+1;Ye<t;Ye++)for(var Ke=Tt+1;Ke<e;Ke++)qt[Ye]+=Rt[Ke]*bt.get(Ye,Ke);for(var $e=Tt+1;$e<e;$e++)for(var wn=-Rt[$e]/Rt[Tt+1],Xe=Tt+1;Xe<t;Xe++)bt.set(Xe,$e,bt.get(Xe,$e)+wn*qt[Xe])}if(wt)for(var _e=Tt+1;_e<e;_e++)Ft.set(_e,Tt,Rt[_e])}}var jt=Math.min(e,t+1);if(Qt<e&&(Nt[Qt]=bt.get(Qt,Qt)),t<jt&&(Nt[jt-1]=0),oe+1<jt&&(Rt[oe]=bt.get(oe,jt-1)),Rt[jt-1]=0,dt){for(var Ve=Qt;Ve<Wt;Ve++){for(var Je=0;Je<t;Je++)Dt.set(Je,Ve,0);Dt.set(Ve,Ve,1)}for(var ie=Qt-1;ie>=0;ie--)if(Nt[ie]!==0){for(var Qe=ie+1;Qe<Wt;Qe++){for(var qe=0,je=ie;je<t;je++)qe+=Dt.get(je,ie)*Dt.get(je,Qe);qe=-qe/Dt.get(ie,ie);for(var He=ie;He<t;He++)Dt.set(He,Qe,Dt.get(He,Qe)+qe*Dt.get(He,ie))}for(var d=ie;d<t;d++)Dt.set(d,ie,-Dt.get(d,ie));Dt.set(ie,ie,1+Dt.get(ie,ie));for(var g=0;g<ie-1;g++)Dt.set(g,ie,0)}else{for(var w=0;w<t;w++)Dt.set(w,ie,0);Dt.set(ie,ie,1)}}if(wt)for(var A=e-1;A>=0;A--){if(A<oe&&Rt[A]!==0)for(var W=A+1;W<e;W++){for(var Z=0,et=A+1;et<e;et++)Z+=Ft.get(et,A)*Ft.get(et,W);Z=-Z/Ft.get(A+1,A);for(var rt=A+1;rt<e;rt++)Ft.set(rt,W,Ft.get(rt,W)+Z*Ft.get(rt,A))}for(var st=0;st<e;st++)Ft.set(st,A,0);Ft.set(A,A,1)}for(var ct=jt-1,mt=Number.EPSILON;jt>0;){var Et=void 0,Pt=void 0;for(Et=jt-2;Et>=-1&&Et!==-1;Et--){var Ct=Number.MIN_VALUE+mt*Math.abs(Nt[Et]+Math.abs(Nt[Et+1]));if(Math.abs(Rt[Et])<=Ct||Number.isNaN(Rt[Et])){Rt[Et]=0;break}}if(Et===jt-2)Pt=4;else{var zt=void 0;for(zt=jt-1;zt>=Et&&zt!==Et;zt--){var Gt=(zt!==jt?Math.abs(Rt[zt]):0)+(zt!==Et+1?Math.abs(Rt[zt-1]):0);if(Math.abs(Nt[zt])<=mt*Gt){Nt[zt]=0;break}}zt===Et?Pt=3:zt===jt-1?Pt=1:(Pt=2,Et=zt)}switch(Et++,Pt){case 1:{var Zt=Rt[jt-2];Rt[jt-2]=0;for(var Bt=jt-2;Bt>=Et;Bt--){var Ht=Ce(Nt[Bt],Zt),fe=Nt[Bt]/Ht,ae=Zt/Ht;if(Nt[Bt]=Ht,Bt!==Et&&(Zt=-ae*Rt[Bt-1],Rt[Bt-1]=fe*Rt[Bt-1]),wt)for(var Fe=0;Fe<e;Fe++)Ht=fe*Ft.get(Fe,Bt)+ae*Ft.get(Fe,jt-1),Ft.set(Fe,jt-1,-ae*Ft.get(Fe,Bt)+fe*Ft.get(Fe,jt-1)),Ft.set(Fe,Bt,Ht)}break}case 2:{var hn=Rt[Et-1];Rt[Et-1]=0;for(var Pe=Et;Pe<jt;Pe++){var tn=Ce(Nt[Pe],hn),En=Nt[Pe]/tn,fn=hn/tn;if(Nt[Pe]=tn,hn=-fn*Rt[Pe],Rt[Pe]=En*Rt[Pe],dt)for(var We=0;We<t;We++)tn=En*Dt.get(We,Pe)+fn*Dt.get(We,Et-1),Dt.set(We,Et-1,-fn*Dt.get(We,Pe)+En*Dt.get(We,Et-1)),Dt.set(We,Pe,tn)}break}case 3:{var en=Math.max(Math.abs(Nt[jt-1]),Math.abs(Nt[jt-2]),Math.abs(Rt[jt-2]),Math.abs(Nt[Et]),Math.abs(Rt[Et])),Le=Nt[jt-1]/en,rn=Nt[jt-2]/en,nn=Rt[jt-2]/en,ln=Nt[Et]/en,Xn=Rt[Et]/en,$t=((rn+Le)*(rn-Le)+nn*nn)/2,Ee=Le*nn*(Le*nn),Ne=0;($t!==0||Ee!==0)&&($t<0?Ne=0-Math.sqrt($t*$t+Ee):Ne=Math.sqrt($t*$t+Ee),Ne=Ee/($t+Ne));for(var Re=(ln+Le)*(ln-Le)+Ne,Me=ln*Xn,Jt=Et;Jt<jt-1;Jt++){var Yt=Ce(Re,Me);Yt===0&&(Yt=Number.MIN_VALUE);var ue=Re/Yt,le=Me/Yt;if(Jt!==Et&&(Rt[Jt-1]=Yt),Re=ue*Nt[Jt]+le*Rt[Jt],Rt[Jt]=ue*Rt[Jt]-le*Nt[Jt],Me=le*Nt[Jt+1],Nt[Jt+1]=ue*Nt[Jt+1],wt)for(var Ie=0;Ie<e;Ie++)Yt=ue*Ft.get(Ie,Jt)+le*Ft.get(Ie,Jt+1),Ft.set(Ie,Jt+1,-le*Ft.get(Ie,Jt)+ue*Ft.get(Ie,Jt+1)),Ft.set(Ie,Jt,Yt);if(Yt=Ce(Re,Me),Yt===0&&(Yt=Number.MIN_VALUE),ue=Re/Yt,le=Me/Yt,Nt[Jt]=Yt,Re=ue*Rt[Jt]+le*Nt[Jt+1],Nt[Jt+1]=-le*Rt[Jt]+ue*Nt[Jt+1],Me=le*Rt[Jt+1],Rt[Jt+1]=ue*Rt[Jt+1],dt&&Jt<t-1)for(var Ae=0;Ae<t;Ae++)Yt=ue*Dt.get(Ae,Jt)+le*Dt.get(Ae,Jt+1),Dt.set(Ae,Jt+1,-le*Dt.get(Ae,Jt)+ue*Dt.get(Ae,Jt+1)),Dt.set(Ae,Jt,Yt)}Rt[jt-2]=Re;break}case 4:{if(Nt[Et]<=0&&(Nt[Et]=Nt[Et]<0?-Nt[Et]:0,wt))for(var Ge=0;Ge<=ct;Ge++)Ft.set(Ge,Et,-Ft.get(Ge,Et));for(;Et<ct&&!(Nt[Et]>=Nt[Et+1]);){var xn=Nt[Et];if(Nt[Et]=Nt[Et+1],Nt[Et+1]=xn,wt&&Et<e-1)for(var gn=0;gn<e;gn++)xn=Ft.get(gn,Et+1),Ft.set(gn,Et+1,Ft.get(gn,Et)),Ft.set(gn,Et,xn);if(dt&&Et<t-1)for(var vn=0;vn<t;vn++)xn=Dt.get(vn,Et+1),Dt.set(vn,Et+1,Dt.get(vn,Et)),Dt.set(vn,Et,xn);Et++}jt--;break}}}if(Ot){var Qn=Ft;Ft=Dt,Dt=Qn}this.m=t,this.n=e,this.s=Nt,this.U=Dt,this.V=Ft}return X(m,[{key:"solve",value:function(u){for(var t=u,e=this.threshold,n=this.s.length,f=kt.zeros(n,n),N=0;N<n;N++)Math.abs(this.s[N])<=e?f.set(N,N,0):f.set(N,N,1/this.s[N]);for(var b=this.U,R=this.rightSingularVectors,ut=R.mmul(f),dt=R.rows,wt=b.rows,Ot=kt.zeros(dt,wt),bt=0;bt<dt;bt++)for(var Lt=0;Lt<wt;Lt++){for(var Wt=0,pt=0;pt<n;pt++)Wt+=ut.get(bt,pt)*b.get(Lt,pt);Ot.set(bt,Lt,Wt)}return Ot.mmul(t)}},{key:"solveForDiagonal",value:function(u){return this.solve(kt.diag(u))}},{key:"inverse",value:function(){for(var u=this.V,t=this.threshold,e=u.rows,n=u.columns,f=new kt(e,this.s.length),N=0;N<e;N++)for(var b=0;b<n;b++)Math.abs(this.s[b])>t&&f.set(N,b,u.get(N,b)/this.s[b]);for(var R=this.U,ut=R.rows,dt=R.columns,wt=new kt(e,ut),Ot=0;Ot<e;Ot++)for(var bt=0;bt<ut;bt++){for(var Lt=0,Wt=0;Wt<dt;Wt++)Lt+=f.get(Ot,Wt)*R.get(bt,Wt);wt.set(Ot,bt,Lt)}return wt}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var u=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,e=this.s,n=0,f=e.length;n<f;n++)e[n]>u&&t++;return t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return kt.diag(this.s)}}]),m}();function Bn(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return m=Se.checkMatrix(m),S?new Ze(m).inverse():mn(m,kt.eye(m.rows))}function mn(m,S){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return m=Se.checkMatrix(m),S=Se.checkMatrix(S),u?new Ze(m).solve(S):m.isSquare()?new an(m).solve(S):new un(m).solve(S)}function dn(m){if(m=kt.checkMatrix(m),m.isSquare()){if(m.columns===0)return 1;var S,u,t,e;if(m.columns===2)return S=m.get(0,0),u=m.get(0,1),t=m.get(1,0),e=m.get(1,1),S*e-u*t;if(m.columns===3){var n,f,N;return n=new sn(m,[1,2],[1,2]),f=new sn(m,[1,2],[0,2]),N=new sn(m,[1,2],[0,1]),S=m.get(0,0),u=m.get(0,1),t=m.get(0,2),S*dn(n)-u*dn(f)+t*dn(N)}else return new an(m).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Sn(m,S){for(var u=[],t=0;t<m;t++)t!==S&&u.push(t);return u}function Dn(m,S,u){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(m>e)return new Array(S.rows+1).fill(0);for(var n=S.addRow(u,[0]),f=0;f<n.rows;f++)Math.abs(n.get(f,0))<t&&n.set(f,0,0);return n.to1DArray()}function Un(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=S.thresholdValue,t=u===void 0?1e-9:u,e=S.thresholdError,n=e===void 0?1e-9:e;m=kt.checkMatrix(m);for(var f=m.rows,N=new kt(f,f),b=0;b<f;b++){var R=kt.columnVector(m.getRow(b)),ut=m.subMatrixRow(Sn(f,b)).transpose(),dt=new Ze(ut),wt=dt.solve(R),Ot=kt.sub(R,ut.mmul(wt)).abs().max();N.setRow(b,Dn(Ot,wt,b,t,n))}return N}function Rn(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(m=kt.checkMatrix(m),m.isEmpty())return m.transpose();for(var u=new Ze(m,{autoTranspose:!0}),t=u.leftSingularVectors,e=u.rightSingularVectors,n=u.diagonal,f=0;f<n.length;f++)Math.abs(n[f])>S?n[f]=1/n[f]:n[f]=0;return e.mmul(kt.diag(n).mmul(t.transpose()))}function Pn(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};m=new kt(m);var t=!1;if($(S)==="object"&&!kt.isMatrix(S)&&!j.isAnyArray(S)?(u=S,S=m,t=!0):S=new kt(S),m.rows!==S.rows)throw new TypeError("Both matrices must have the same number of rows");var e=u,n=e.center,f=n===void 0?!0:n;f&&(m=m.center("column"),t||(S=S.center("column")));for(var N=m.transpose().mmul(S),b=0;b<N.rows;b++)for(var R=0;R<N.columns;R++)N.set(b,R,N.get(b,R)*(1/(m.rows-1)));return N}function In(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};m=new kt(m);var t=!1;if($(S)==="object"&&!kt.isMatrix(S)&&!j.isAnyArray(S)?(u=S,S=m,t=!0):S=new kt(S),m.rows!==S.rows)throw new TypeError("Both matrices must have the same number of rows");var e=u,n=e.center,f=n===void 0?!0:n,N=e.scale,b=N===void 0?!0:N;f&&(m.center("column"),t||S.center("column")),b&&(m.scale("column"),t||S.scale("column"));for(var R=m.standardDeviation("column",{unbiased:!0}),ut=t?R:S.standardDeviation("column",{unbiased:!0}),dt=m.transpose().mmul(S),wt=0;wt<dt.rows;wt++)for(var Ot=0;Ot<dt.columns;Ot++)dt.set(wt,Ot,dt.get(wt,Ot)*(1/(R[wt]*ut[Ot]))*(1/(m.rows-1)));return dt}var Vn=function(){function m(S){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F(this,m);var t=u.assumeSymmetric,e=t===void 0?!1:t;if(S=Se.checkMatrix(S),!S.isSquare())throw new Error("Matrix is not a square matrix");if(S.isEmpty())throw new Error("Matrix must be non-empty");var n=S.columns,f=new kt(n,n),N=new Float64Array(n),b=new Float64Array(n),R=S,ut,dt,wt=!1;if(e?wt=!0:wt=S.isSymmetric(),wt){for(ut=0;ut<n;ut++)for(dt=0;dt<n;dt++)f.set(ut,dt,R.get(ut,dt));Wn(n,b,N,f),Gn(n,b,N,f)}else{var Ot=new kt(n,n),bt=new Float64Array(n);for(dt=0;dt<n;dt++)for(ut=0;ut<n;ut++)Ot.set(ut,dt,R.get(ut,dt));Zn(n,Ot,bt,f),Yn(n,b,N,f,Ot)}this.n=n,this.e=b,this.d=N,this.V=f}return X(m,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var u=this.n,t=this.e,e=this.d,n=new kt(u,u),f,N;for(f=0;f<u;f++){for(N=0;N<u;N++)n.set(f,N,0);n.set(f,f,e[f]),t[f]>0?n.set(f,f+1,t[f]):t[f]<0&&n.set(f,f-1,t[f])}return n}}]),m}();function Wn(m,S,u,t){var e,n,f,N,b,R,ut,dt;for(b=0;b<m;b++)u[b]=t.get(m-1,b);for(N=m-1;N>0;N--){for(dt=0,f=0,R=0;R<N;R++)dt=dt+Math.abs(u[R]);if(dt===0)for(S[N]=u[N-1],b=0;b<N;b++)u[b]=t.get(N-1,b),t.set(N,b,0),t.set(b,N,0);else{for(R=0;R<N;R++)u[R]/=dt,f+=u[R]*u[R];for(e=u[N-1],n=Math.sqrt(f),e>0&&(n=-n),S[N]=dt*n,f=f-e*n,u[N-1]=e-n,b=0;b<N;b++)S[b]=0;for(b=0;b<N;b++){for(e=u[b],t.set(b,N,e),n=S[b]+t.get(b,b)*e,R=b+1;R<=N-1;R++)n+=t.get(R,b)*u[R],S[R]+=t.get(R,b)*e;S[b]=n}for(e=0,b=0;b<N;b++)S[b]/=f,e+=S[b]*u[b];for(ut=e/(f+f),b=0;b<N;b++)S[b]-=ut*u[b];for(b=0;b<N;b++){for(e=u[b],n=S[b],R=b;R<=N-1;R++)t.set(R,b,t.get(R,b)-(e*S[R]+n*u[R]));u[b]=t.get(N-1,b),t.set(N,b,0)}}u[N]=f}for(N=0;N<m-1;N++){if(t.set(m-1,N,t.get(N,N)),t.set(N,N,1),f=u[N+1],f!==0){for(R=0;R<=N;R++)u[R]=t.get(R,N+1)/f;for(b=0;b<=N;b++){for(n=0,R=0;R<=N;R++)n+=t.get(R,N+1)*t.get(R,b);for(R=0;R<=N;R++)t.set(R,b,t.get(R,b)-n*u[R])}}for(R=0;R<=N;R++)t.set(R,N+1,0)}for(b=0;b<m;b++)u[b]=t.get(m-1,b),t.set(m-1,b,0);t.set(m-1,m-1,1),S[0]=0}function Gn(m,S,u,t){var e,n,f,N,b,R,ut,dt,wt,Ot,bt,Lt,Wt,pt,Nt,Dt;for(f=1;f<m;f++)S[f-1]=S[f];S[m-1]=0;var Ft=0,Rt=0,qt=Number.EPSILON;for(R=0;R<m;R++){for(Rt=Math.max(Rt,Math.abs(u[R])+Math.abs(S[R])),ut=R;ut<m&&!(Math.abs(S[ut])<=qt*Rt);)ut++;if(ut>R)do{for(e=u[R],dt=(u[R+1]-e)/(2*S[R]),wt=Ce(dt,1),dt<0&&(wt=-wt),u[R]=S[R]/(dt+wt),u[R+1]=S[R]*(dt+wt),Ot=u[R+1],n=e-u[R],f=R+2;f<m;f++)u[f]-=n;for(Ft=Ft+n,dt=u[ut],bt=1,Lt=bt,Wt=bt,pt=S[R+1],Nt=0,Dt=0,f=ut-1;f>=R;f--)for(Wt=Lt,Lt=bt,Dt=Nt,e=bt*S[f],n=bt*dt,wt=Ce(dt,S[f]),S[f+1]=Nt*wt,Nt=S[f]/wt,bt=dt/wt,dt=bt*u[f]-Nt*e,u[f+1]=n+Nt*(bt*e+Nt*u[f]),b=0;b<m;b++)n=t.get(b,f+1),t.set(b,f+1,Nt*t.get(b,f)+bt*n),t.set(b,f,bt*t.get(b,f)-Nt*n);dt=-Nt*Dt*Wt*pt*S[R]/Ot,S[R]=Nt*dt,u[R]=bt*dt}while(Math.abs(S[R])>qt*Rt);u[R]=u[R]+Ft,S[R]=0}for(f=0;f<m-1;f++){for(b=f,dt=u[f],N=f+1;N<m;N++)u[N]<dt&&(b=N,dt=u[N]);if(b!==f)for(u[b]=u[f],u[f]=dt,N=0;N<m;N++)dt=t.get(N,f),t.set(N,f,t.get(N,b)),t.set(N,b,dt)}}function Zn(m,S,u,t){var e=0,n=m-1,f,N,b,R,ut,dt,wt;for(dt=e+1;dt<=n-1;dt++){for(wt=0,R=dt;R<=n;R++)wt=wt+Math.abs(S.get(R,dt-1));if(wt!==0){for(b=0,R=n;R>=dt;R--)u[R]=S.get(R,dt-1)/wt,b+=u[R]*u[R];for(N=Math.sqrt(b),u[dt]>0&&(N=-N),b=b-u[dt]*N,u[dt]=u[dt]-N,ut=dt;ut<m;ut++){for(f=0,R=n;R>=dt;R--)f+=u[R]*S.get(R,ut);for(f=f/b,R=dt;R<=n;R++)S.set(R,ut,S.get(R,ut)-f*u[R])}for(R=0;R<=n;R++){for(f=0,ut=n;ut>=dt;ut--)f+=u[ut]*S.get(R,ut);for(f=f/b,ut=dt;ut<=n;ut++)S.set(R,ut,S.get(R,ut)-f*u[ut])}u[dt]=wt*u[dt],S.set(dt,dt-1,wt*N)}}for(R=0;R<m;R++)for(ut=0;ut<m;ut++)t.set(R,ut,R===ut?1:0);for(dt=n-1;dt>=e+1;dt--)if(S.get(dt,dt-1)!==0){for(R=dt+1;R<=n;R++)u[R]=S.get(R,dt-1);for(ut=dt;ut<=n;ut++){for(N=0,R=dt;R<=n;R++)N+=u[R]*t.get(R,ut);for(N=N/u[dt]/S.get(dt,dt-1),R=dt;R<=n;R++)t.set(R,ut,t.get(R,ut)+N*u[R])}}}function Yn(m,S,u,t,e){var n=m-1,f=0,N=m-1,b=Number.EPSILON,R=0,ut=0,dt=0,wt=0,Ot=0,bt=0,Lt=0,Wt=0,pt,Nt,Dt,Ft,Rt,qt,te,Vt,Qt,oe,ye,Tt,be,we,ne;for(pt=0;pt<m;pt++)for((pt<f||pt>N)&&(u[pt]=e.get(pt,pt),S[pt]=0),Nt=Math.max(pt-1,0);Nt<m;Nt++)ut=ut+Math.abs(e.get(pt,Nt));for(;n>=f;){for(Ft=n;Ft>f&&(bt=Math.abs(e.get(Ft-1,Ft-1))+Math.abs(e.get(Ft,Ft)),bt===0&&(bt=ut),!(Math.abs(e.get(Ft,Ft-1))<b*bt));)Ft--;if(Ft===n)e.set(n,n,e.get(n,n)+R),u[n]=e.get(n,n),S[n]=0,n--,Wt=0;else if(Ft===n-1){if(te=e.get(n,n-1)*e.get(n-1,n),dt=(e.get(n-1,n-1)-e.get(n,n))/2,wt=dt*dt+te,Lt=Math.sqrt(Math.abs(wt)),e.set(n,n,e.get(n,n)+R),e.set(n-1,n-1,e.get(n-1,n-1)+R),Vt=e.get(n,n),wt>=0){for(Lt=dt>=0?dt+Lt:dt-Lt,u[n-1]=Vt+Lt,u[n]=u[n-1],Lt!==0&&(u[n]=Vt-te/Lt),S[n-1]=0,S[n]=0,Vt=e.get(n,n-1),bt=Math.abs(Vt)+Math.abs(Lt),dt=Vt/bt,wt=Lt/bt,Ot=Math.sqrt(dt*dt+wt*wt),dt=dt/Ot,wt=wt/Ot,Nt=n-1;Nt<m;Nt++)Lt=e.get(n-1,Nt),e.set(n-1,Nt,wt*Lt+dt*e.get(n,Nt)),e.set(n,Nt,wt*e.get(n,Nt)-dt*Lt);for(pt=0;pt<=n;pt++)Lt=e.get(pt,n-1),e.set(pt,n-1,wt*Lt+dt*e.get(pt,n)),e.set(pt,n,wt*e.get(pt,n)-dt*Lt);for(pt=f;pt<=N;pt++)Lt=t.get(pt,n-1),t.set(pt,n-1,wt*Lt+dt*t.get(pt,n)),t.set(pt,n,wt*t.get(pt,n)-dt*Lt)}else u[n-1]=Vt+dt,u[n]=Vt+dt,S[n-1]=Lt,S[n]=-Lt;n=n-2,Wt=0}else{if(Vt=e.get(n,n),Qt=0,te=0,Ft<n&&(Qt=e.get(n-1,n-1),te=e.get(n,n-1)*e.get(n-1,n)),Wt===10){for(R+=Vt,pt=f;pt<=n;pt++)e.set(pt,pt,e.get(pt,pt)-Vt);bt=Math.abs(e.get(n,n-1))+Math.abs(e.get(n-1,n-2)),Vt=Qt=.75*bt,te=-.4375*bt*bt}if(Wt===30&&(bt=(Qt-Vt)/2,bt=bt*bt+te,bt>0)){for(bt=Math.sqrt(bt),Qt<Vt&&(bt=-bt),bt=Vt-te/((Qt-Vt)/2+bt),pt=f;pt<=n;pt++)e.set(pt,pt,e.get(pt,pt)-bt);R+=bt,Vt=Qt=te=.964}for(Wt=Wt+1,Rt=n-2;Rt>=Ft&&(Lt=e.get(Rt,Rt),Ot=Vt-Lt,bt=Qt-Lt,dt=(Ot*bt-te)/e.get(Rt+1,Rt)+e.get(Rt,Rt+1),wt=e.get(Rt+1,Rt+1)-Lt-Ot-bt,Ot=e.get(Rt+2,Rt+1),bt=Math.abs(dt)+Math.abs(wt)+Math.abs(Ot),dt=dt/bt,wt=wt/bt,Ot=Ot/bt,!(Rt===Ft||Math.abs(e.get(Rt,Rt-1))*(Math.abs(wt)+Math.abs(Ot))<b*(Math.abs(dt)*(Math.abs(e.get(Rt-1,Rt-1))+Math.abs(Lt)+Math.abs(e.get(Rt+1,Rt+1))))));)Rt--;for(pt=Rt+2;pt<=n;pt++)e.set(pt,pt-2,0),pt>Rt+2&&e.set(pt,pt-3,0);for(Dt=Rt;Dt<=n-1&&(we=Dt!==n-1,Dt!==Rt&&(dt=e.get(Dt,Dt-1),wt=e.get(Dt+1,Dt-1),Ot=we?e.get(Dt+2,Dt-1):0,Vt=Math.abs(dt)+Math.abs(wt)+Math.abs(Ot),Vt!==0&&(dt=dt/Vt,wt=wt/Vt,Ot=Ot/Vt)),Vt!==0);Dt++)if(bt=Math.sqrt(dt*dt+wt*wt+Ot*Ot),dt<0&&(bt=-bt),bt!==0){for(Dt!==Rt?e.set(Dt,Dt-1,-bt*Vt):Ft!==Rt&&e.set(Dt,Dt-1,-e.get(Dt,Dt-1)),dt=dt+bt,Vt=dt/bt,Qt=wt/bt,Lt=Ot/bt,wt=wt/dt,Ot=Ot/dt,Nt=Dt;Nt<m;Nt++)dt=e.get(Dt,Nt)+wt*e.get(Dt+1,Nt),we&&(dt=dt+Ot*e.get(Dt+2,Nt),e.set(Dt+2,Nt,e.get(Dt+2,Nt)-dt*Lt)),e.set(Dt,Nt,e.get(Dt,Nt)-dt*Vt),e.set(Dt+1,Nt,e.get(Dt+1,Nt)-dt*Qt);for(pt=0;pt<=Math.min(n,Dt+3);pt++)dt=Vt*e.get(pt,Dt)+Qt*e.get(pt,Dt+1),we&&(dt=dt+Lt*e.get(pt,Dt+2),e.set(pt,Dt+2,e.get(pt,Dt+2)-dt*Ot)),e.set(pt,Dt,e.get(pt,Dt)-dt),e.set(pt,Dt+1,e.get(pt,Dt+1)-dt*wt);for(pt=f;pt<=N;pt++)dt=Vt*t.get(pt,Dt)+Qt*t.get(pt,Dt+1),we&&(dt=dt+Lt*t.get(pt,Dt+2),t.set(pt,Dt+2,t.get(pt,Dt+2)-dt*Ot)),t.set(pt,Dt,t.get(pt,Dt)-dt),t.set(pt,Dt+1,t.get(pt,Dt+1)-dt*wt)}}}if(ut!==0){for(n=m-1;n>=0;n--)if(dt=u[n],wt=S[n],wt===0)for(Ft=n,e.set(n,n,1),pt=n-1;pt>=0;pt--){for(te=e.get(pt,pt)-dt,Ot=0,Nt=Ft;Nt<=n;Nt++)Ot=Ot+e.get(pt,Nt)*e.get(Nt,n);if(S[pt]<0)Lt=te,bt=Ot;else if(Ft=pt,S[pt]===0?e.set(pt,n,te!==0?-Ot/te:-Ot/(b*ut)):(Vt=e.get(pt,pt+1),Qt=e.get(pt+1,pt),wt=(u[pt]-dt)*(u[pt]-dt)+S[pt]*S[pt],qt=(Vt*bt-Lt*Ot)/wt,e.set(pt,n,qt),e.set(pt+1,n,Math.abs(Vt)>Math.abs(Lt)?(-Ot-te*qt)/Vt:(-bt-Qt*qt)/Lt)),qt=Math.abs(e.get(pt,n)),b*qt*qt>1)for(Nt=pt;Nt<=n;Nt++)e.set(Nt,n,e.get(Nt,n)/qt)}else if(wt<0)for(Ft=n-1,Math.abs(e.get(n,n-1))>Math.abs(e.get(n-1,n))?(e.set(n-1,n-1,wt/e.get(n,n-1)),e.set(n-1,n,-(e.get(n,n)-dt)/e.get(n,n-1))):(ne=cn(0,-e.get(n-1,n),e.get(n-1,n-1)-dt,wt),e.set(n-1,n-1,ne[0]),e.set(n-1,n,ne[1])),e.set(n,n-1,0),e.set(n,n,1),pt=n-2;pt>=0;pt--){for(oe=0,ye=0,Nt=Ft;Nt<=n;Nt++)oe=oe+e.get(pt,Nt)*e.get(Nt,n-1),ye=ye+e.get(pt,Nt)*e.get(Nt,n);if(te=e.get(pt,pt)-dt,S[pt]<0)Lt=te,Ot=oe,bt=ye;else if(Ft=pt,S[pt]===0?(ne=cn(-oe,-ye,te,wt),e.set(pt,n-1,ne[0]),e.set(pt,n,ne[1])):(Vt=e.get(pt,pt+1),Qt=e.get(pt+1,pt),Tt=(u[pt]-dt)*(u[pt]-dt)+S[pt]*S[pt]-wt*wt,be=(u[pt]-dt)*2*wt,Tt===0&&be===0&&(Tt=b*ut*(Math.abs(te)+Math.abs(wt)+Math.abs(Vt)+Math.abs(Qt)+Math.abs(Lt))),ne=cn(Vt*Ot-Lt*oe+wt*ye,Vt*bt-Lt*ye-wt*oe,Tt,be),e.set(pt,n-1,ne[0]),e.set(pt,n,ne[1]),Math.abs(Vt)>Math.abs(Lt)+Math.abs(wt)?(e.set(pt+1,n-1,(-oe-te*e.get(pt,n-1)+wt*e.get(pt,n))/Vt),e.set(pt+1,n,(-ye-te*e.get(pt,n)-wt*e.get(pt,n-1))/Vt)):(ne=cn(-Ot-Qt*e.get(pt,n-1),-bt-Qt*e.get(pt,n),Lt,wt),e.set(pt+1,n-1,ne[0]),e.set(pt+1,n,ne[1]))),qt=Math.max(Math.abs(e.get(pt,n-1)),Math.abs(e.get(pt,n))),b*qt*qt>1)for(Nt=pt;Nt<=n;Nt++)e.set(Nt,n-1,e.get(Nt,n-1)/qt),e.set(Nt,n,e.get(Nt,n)/qt)}for(pt=0;pt<m;pt++)if(pt<f||pt>N)for(Nt=pt;Nt<m;Nt++)t.set(pt,Nt,e.get(pt,Nt));for(Nt=m-1;Nt>=f;Nt--)for(pt=f;pt<=N;pt++){for(Lt=0,Dt=f;Dt<=Math.min(Nt,N);Dt++)Lt=Lt+t.get(pt,Dt)*e.get(Dt,Nt);t.set(pt,Nt,Lt)}}}function cn(m,S,u,t){var e,n;return Math.abs(u)>Math.abs(t)?(e=t/u,n=u+e*t,[(m+e*S)/n,(S-e*m)/n]):(e=u/t,n=t+e*u,[(e*m+S)/n,(e*S-m)/n])}var yn=function(){function m(S){if(F(this,m),S=Se.checkMatrix(S),!S.isSymmetric())throw new Error("Matrix is not symmetric");var u=S,t=u.rows,e=new kt(t,t),n=!0,f,N,b;for(N=0;N<t;N++){var R=0;for(b=0;b<N;b++){var ut=0;for(f=0;f<b;f++)ut+=e.get(b,f)*e.get(N,f);ut=(u.get(N,b)-ut)/e.get(b,b),e.set(N,b,ut),R=R+ut*ut}for(R=u.get(N,N)-R,n&&(n=R>0),e.set(N,N,Math.sqrt(Math.max(R,0))),b=N+1;b<t;b++)e.set(N,b,0)}this.L=e,this.positiveDefinite=n}return X(m,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(u){u=Se.checkMatrix(u);var t=this.L,e=t.rows;if(u.rows!==e)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var n=u.columns,f=u.clone(),N,b,R;for(R=0;R<e;R++)for(b=0;b<n;b++){for(N=0;N<R;N++)f.set(R,b,f.get(R,b)-f.get(N,b)*t.get(R,N));f.set(R,b,f.get(R,b)/t.get(R,R))}for(R=e-1;R>=0;R--)for(b=0;b<n;b++){for(N=R+1;N<e;N++)f.set(R,b,f.get(R,b)-f.get(N,b)*t.get(N,R));f.set(R,b,f.get(R,b)/t.get(R,R))}return f}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),m}(),An=X(function m(S){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F(this,m),S=Se.checkMatrix(S);var t=u.Y,e=u.scaleScores,n=e===void 0?!1:e,f=u.maxIterations,N=f===void 0?1e3:f,b=u.terminationCriteria,R=b===void 0?1e-10:b,ut;if(t){if(j.isAnyArray(t)&&typeof t[0]=="number"?t=kt.columnVector(t):t=Se.checkMatrix(t),t.rows!==S.rows)throw new Error("Y should have the same number of rows as X");ut=t.getColumnVector(0)}else ut=S.getColumnVector(0);for(var dt=1,wt,Ot,bt,Lt,Wt=0;Wt<N&&dt>R;Wt++)bt=S.transpose().mmul(ut).div(ut.transpose().mmul(ut).get(0,0)),bt=bt.div(bt.norm()),wt=S.mmul(bt).div(bt.transpose().mmul(bt).get(0,0)),Wt>0&&(dt=wt.clone().sub(Lt).pow(2).sum()),Lt=wt.clone(),t?(Ot=t.transpose().mmul(wt).div(wt.transpose().mmul(wt).get(0,0)),Ot=Ot.div(Ot.norm()),ut=t.mmul(Ot).div(Ot.transpose().mmul(Ot).get(0,0))):ut=wt;if(t){var pt=S.transpose().mmul(wt).div(wt.transpose().mmul(wt).get(0,0));pt=pt.div(pt.norm());var Nt=S.clone().sub(wt.clone().mmul(pt.transpose())),Dt=ut.transpose().mmul(wt).div(wt.transpose().mmul(wt).get(0,0)),Ft=t.clone().sub(wt.clone().mulS(Dt.get(0,0)).mmul(Ot.transpose()));this.t=wt,this.p=pt.transpose(),this.w=bt.transpose(),this.q=Ot,this.u=ut,this.s=wt.transpose().mmul(wt),this.xResidual=Nt,this.yResidual=Ft,this.betas=Dt}else this.w=bt.transpose(),this.s=wt.transpose().mmul(wt).sqrt(),n?this.t=wt.clone().div(this.s.get(0,0)):this.t=wt,this.xResidual=S.sub(wt.mmul(bt.transpose()))});tt.XA=Ut,tt.a_=yn,tt.yQ=yn,tt.Hs=Te,tt.Ec=Vn,tt.dx=Vn,tt.LU=an,tt.Rm=an,tt.y3=kt,tt.qK=bn,tt.pb=kn,tt.j=Tn,tt.sO=Nn,tt.BZ=zn,tt.EK=Cn,tt.Db=sn,tt.Fx=Mn,tt.tU=On,tt.Ym=An,tt.rs=An,tt.QR=un,tt.TB=un,tt.oH=Ze,tt.Sc=Ze,tt.BN=se,tt.it=on,tt.$r=Se,tt.QM=In,tt.AV=Pn,s=kt,tt.GH=dn,tt.SO=Bn,tt.uZ=Un,tt.yU=Rn,tt.F1=mn,tt.re=Fn},70681:function(G,tt,i){G.exports={graphlib:i(70574),layout:i(98123),debug:i(27570),util:{time:i(11138).time,notime:i(11138).notime},version:i(88177)}},92188:function(G,tt,i){"use strict";var s=i(38436),I=i(74079);G.exports={run:y,undo:v};function y(E){var p=E.graph().acyclicer==="greedy"?I(E,c(E)):D(E);s.forEach(p,function(r){var o=E.edge(r);E.removeEdge(r),o.forwardName=r.name,o.reversed=!0,E.setEdge(r.w,r.v,o,s.uniqueId("rev"))});function c(r){return function(o){return r.edge(o).weight}}}function D(E){var p=[],c={},r={};function o(a){s.has(r,a)||(r[a]=!0,c[a]=!0,s.forEach(E.outEdges(a),function(h){s.has(c,h.w)?p.push(h):o(h.w)}),delete c[a])}return s.forEach(E.nodes(),o),p}function v(E){s.forEach(E.edges(),function(p){var c=E.edge(p);if(c.reversed){E.removeEdge(p);var r=c.forwardName;delete c.reversed,delete c.forwardName,E.setEdge(p.w,p.v,c,r)}})}},61133:function(G,tt,i){var s=i(38436),I=i(11138);G.exports=y;function y(v){function E(p){var c=v.children(p),r=v.node(p);if(c.length&&s.forEach(c,E),s.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var o=r.minRank,a=r.maxRank+1;o<a;++o)D(v,"borderLeft","_bl",p,r,o),D(v,"borderRight","_br",p,r,o)}}s.forEach(v.children(),E)}function D(v,E,p,c,r,o){var a={width:0,height:0,rank:o,borderType:E},h=r[E][o-1],l=I.addDummyNode(v,"border",a,p);r[E][o]=l,v.setParent(l,c),h&&v.setEdge(h,l,{weight:1})}},53258:function(G,tt,i){"use strict";var s=i(38436);G.exports={adjust:I,undo:y};function I(o){var a=o.graph().rankdir.toLowerCase();(a==="lr"||a==="rl")&&D(o)}function y(o){var a=o.graph().rankdir.toLowerCase();(a==="bt"||a==="rl")&&E(o),(a==="lr"||a==="rl")&&(c(o),D(o))}function D(o){s.forEach(o.nodes(),function(a){v(o.node(a))}),s.forEach(o.edges(),function(a){v(o.edge(a))})}function v(o){var a=o.width;o.width=o.height,o.height=a}function E(o){s.forEach(o.nodes(),function(a){p(o.node(a))}),s.forEach(o.edges(),function(a){var h=o.edge(a);s.forEach(h.points,p),s.has(h,"y")&&p(h)})}function p(o){o.y=-o.y}function c(o){s.forEach(o.nodes(),function(a){r(o.node(a))}),s.forEach(o.edges(),function(a){var h=o.edge(a);s.forEach(h.points,r),s.has(h,"x")&&r(h)})}function r(o){var a=o.x;o.x=o.y,o.y=a}},77822:function(G){G.exports=tt;function tt(){var I={};I._next=I._prev=I,this._sentinel=I}tt.prototype.dequeue=function(){var I=this._sentinel,y=I._prev;if(y!==I)return i(y),y},tt.prototype.enqueue=function(I){var y=this._sentinel;I._prev&&I._next&&i(I),I._next=y._next,y._next._prev=I,y._next=I,I._prev=y},tt.prototype.toString=function(){for(var I=[],y=this._sentinel,D=y._prev;D!==y;)I.push(JSON.stringify(D,s)),D=D._prev;return"["+I.join(", ")+"]"};function i(I){I._prev._next=I._next,I._next._prev=I._prev,delete I._next,delete I._prev}function s(I,y){if(I!=="_next"&&I!=="_prev")return y}},27570:function(G,tt,i){var s=i(38436),I=i(11138),y=i(70574).Graph;G.exports={debugOrdering:D};function D(v){var E=I.buildLayerMatrix(v),p=new y({compound:!0,multigraph:!0}).setGraph({});return s.forEach(v.nodes(),function(c){p.setNode(c,{label:c}),p.setParent(c,"layer"+v.node(c).rank)}),s.forEach(v.edges(),function(c){p.setEdge(c.v,c.w,{},c.name)}),s.forEach(E,function(c,r){var o="layer"+r;p.setNode(o,{rank:"same"}),s.reduce(c,function(a,h){return p.setEdge(a,h,{style:"invis"}),h})}),p}},70574:function(G,tt,i){var s;try{s=i(28282)}catch(I){}s||(s=window.graphlib),G.exports=s},74079:function(G,tt,i){var s=i(38436),I=i(70574).Graph,y=i(77822);G.exports=v;var D=s.constant(1);function v(o,a){if(o.nodeCount()<=1)return[];var h=c(o,a||D),l=E(h.graph,h.buckets,h.zeroIdx);return s.flatten(s.map(l,function(x){return o.outEdges(x.v,x.w)}),!0)}function E(o,a,h){for(var l=[],x=a[a.length-1],Y=a[0],$;o.nodeCount();){for(;$=Y.dequeue();)p(o,a,h,$);for(;$=x.dequeue();)p(o,a,h,$);if(o.nodeCount()){for(var F=a.length-2;F>0;--F)if($=a[F].dequeue(),$){l=l.concat(p(o,a,h,$,!0));break}}}return l}function p(o,a,h,l,x){var Y=x?[]:void 0;return s.forEach(o.inEdges(l.v),function($){var F=o.edge($),X=o.node($.v);x&&Y.push({v:$.v,w:$.w}),X.out-=F,r(a,h,X)}),s.forEach(o.outEdges(l.v),function($){var F=o.edge($),X=$.w,j=o.node(X);j.in-=F,r(a,h,j)}),o.removeNode(l.v),Y}function c(o,a){var h=new I,l=0,x=0;s.forEach(o.nodes(),function(F){h.setNode(F,{v:F,in:0,out:0})}),s.forEach(o.edges(),function(F){var X=h.edge(F.v,F.w)||0,j=a(F),J=X+j;h.setEdge(F.v,F.w,J),x=Math.max(x,h.node(F.v).out+=j),l=Math.max(l,h.node(F.w).in+=j)});var Y=s.range(x+l+3).map(function(){return new y}),$=l+1;return s.forEach(h.nodes(),function(F){r(Y,$,h.node(F))}),{graph:h,buckets:Y,zeroIdx:$}}function r(o,a,h){h.out?h.in?o[h.out-h.in+a].enqueue(h):o[o.length-1].enqueue(h):o[0].enqueue(h)}},98123:function(G,tt,i){"use strict";var s=i(38436),I=i(92188),y=i(45995),D=i(78093),v=i(11138).normalizeRanks,E=i(24219),p=i(11138).removeEmptyRanks,c=i(72981),r=i(61133),o=i(53258),a=i(53408),h=i(17873),l=i(11138),x=i(70574).Graph;G.exports=Y;function Y(_,ft){var lt=ft&&ft.debugTiming?l.time:l.notime;lt("layout",function(){var at=lt("  buildLayoutGraph",function(){return B(_)});lt("  runLayout",function(){$(at,lt)}),lt("  updateInputGraph",function(){F(_,at)})})}function $(_,ft){ft("    makeSpaceForEdgeLabels",function(){M(_)}),ft("    removeSelfEdges",function(){ot(_)}),ft("    acyclic",function(){I.run(_)}),ft("    nestingGraph.run",function(){c.run(_)}),ft("    rank",function(){D(l.asNonCompoundGraph(_))}),ft("    injectEdgeLabelProxies",function(){k(_)}),ft("    removeEmptyRanks",function(){p(_)}),ft("    nestingGraph.cleanup",function(){c.cleanup(_)}),ft("    normalizeRanks",function(){v(_)}),ft("    assignRankMinMax",function(){K(_)}),ft("    removeEdgeLabelProxies",function(){z(_)}),ft("    normalize.run",function(){y.run(_)}),ft("    parentDummyChains",function(){E(_)}),ft("    addBorderSegments",function(){r(_)}),ft("    order",function(){a(_)}),ft("    insertSelfEdges",function(){ht(_)}),ft("    adjustCoordinateSystem",function(){o.adjust(_)}),ft("    position",function(){h(_)}),ft("    positionSelfEdges",function(){nt(_)}),ft("    removeBorderNodes",function(){q(_)}),ft("    normalize.undo",function(){y.undo(_)}),ft("    fixupEdgeLabelCoords",function(){Q(_)}),ft("    undoCoordinateSystem",function(){o.undo(_)}),ft("    translateGraph",function(){O(_)}),ft("    assignNodeIntersects",function(){C(_)}),ft("    reversePoints",function(){H(_)}),ft("    acyclic.undo",function(){I.undo(_)})}function F(_,ft){s.forEach(_.nodes(),function(lt){var at=_.node(lt),Mt=ft.node(lt);at&&(at.x=Mt.x,at.y=Mt.y,ft.children(lt).length&&(at.width=Mt.width,at.height=Mt.height))}),s.forEach(_.edges(),function(lt){var at=_.edge(lt),Mt=ft.edge(lt);at.points=Mt.points,s.has(Mt,"x")&&(at.x=Mt.x,at.y=Mt.y)}),_.graph().width=ft.graph().width,_.graph().height=ft.graph().height}var X=["nodesep","edgesep","ranksep","marginx","marginy"],j={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},J=["acyclicer","ranker","rankdir","align"],L=["width","height"],T={width:0,height:0},P=["minlen","weight","width","height","labeloffset"],U={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},V=["labelpos"];function B(_){var ft=new x({multigraph:!0,compound:!0}),lt=it(_.graph());return ft.setGraph(s.merge({},j,gt(lt,X),s.pick(lt,J))),s.forEach(_.nodes(),function(at){var Mt=it(_.node(at));ft.setNode(at,s.defaults(gt(Mt,L),T)),ft.setParent(at,_.parent(at))}),s.forEach(_.edges(),function(at){var Mt=it(_.edge(at));ft.setEdge(at,s.merge({},U,gt(Mt,P),s.pick(Mt,V)))}),ft}function M(_){var ft=_.graph();ft.ranksep/=2,s.forEach(_.edges(),function(lt){var at=_.edge(lt);at.minlen*=2,at.labelpos.toLowerCase()!=="c"&&(ft.rankdir==="TB"||ft.rankdir==="BT"?at.width+=at.labeloffset:at.height+=at.labeloffset)})}function k(_){s.forEach(_.edges(),function(ft){var lt=_.edge(ft);if(lt.width&&lt.height){var at=_.node(ft.v),Mt=_.node(ft.w),vt={rank:(Mt.rank-at.rank)/2+at.rank,e:ft};l.addDummyNode(_,"edge-proxy",vt,"_ep")}})}function K(_){var ft=0;s.forEach(_.nodes(),function(lt){var at=_.node(lt);at.borderTop&&(at.minRank=_.node(at.borderTop).rank,at.maxRank=_.node(at.borderBottom).rank,ft=s.max(ft,at.maxRank))}),_.graph().maxRank=ft}function z(_){s.forEach(_.nodes(),function(ft){var lt=_.node(ft);lt.dummy==="edge-proxy"&&(_.edge(lt.e).labelRank=lt.rank,_.removeNode(ft))})}function O(_){var ft=Number.POSITIVE_INFINITY,lt=0,at=Number.POSITIVE_INFINITY,Mt=0,vt=_.graph(),yt=vt.marginx||0,xt=vt.marginy||0;function St(It){var At=It.x,Xt=It.y,_t=It.width,ee=It.height;ft=Math.min(ft,At-_t/2),lt=Math.max(lt,At+_t/2),at=Math.min(at,Xt-ee/2),Mt=Math.max(Mt,Xt+ee/2)}s.forEach(_.nodes(),function(It){St(_.node(It))}),s.forEach(_.edges(),function(It){var At=_.edge(It);s.has(At,"x")&&St(At)}),ft-=yt,at-=xt,s.forEach(_.nodes(),function(It){var At=_.node(It);At.x-=ft,At.y-=at}),s.forEach(_.edges(),function(It){var At=_.edge(It);s.forEach(At.points,function(Xt){Xt.x-=ft,Xt.y-=at}),s.has(At,"x")&&(At.x-=ft),s.has(At,"y")&&(At.y-=at)}),vt.width=lt-ft+yt,vt.height=Mt-at+xt}function C(_){s.forEach(_.edges(),function(ft){var lt=_.edge(ft),at=_.node(ft.v),Mt=_.node(ft.w),vt,yt;lt.points?(vt=lt.points[0],yt=lt.points[lt.points.length-1]):(lt.points=[],vt=Mt,yt=at),lt.points.unshift(l.intersectRect(at,vt)),lt.points.push(l.intersectRect(Mt,yt))})}function Q(_){s.forEach(_.edges(),function(ft){var lt=_.edge(ft);if(s.has(lt,"x"))switch((lt.labelpos==="l"||lt.labelpos==="r")&&(lt.width-=lt.labeloffset),lt.labelpos){case"l":lt.x-=lt.width/2+lt.labeloffset;break;case"r":lt.x+=lt.width/2+lt.labeloffset;break}})}function H(_){s.forEach(_.edges(),function(ft){var lt=_.edge(ft);lt.reversed&&lt.points.reverse()})}function q(_){s.forEach(_.nodes(),function(ft){if(_.children(ft).length){var lt=_.node(ft),at=_.node(lt.borderTop),Mt=_.node(lt.borderBottom),vt=_.node(s.last(lt.borderLeft)),yt=_.node(s.last(lt.borderRight));lt.width=Math.abs(yt.x-vt.x),lt.height=Math.abs(Mt.y-at.y),lt.x=vt.x+lt.width/2,lt.y=at.y+lt.height/2}}),s.forEach(_.nodes(),function(ft){_.node(ft).dummy==="border"&&_.removeNode(ft)})}function ot(_){s.forEach(_.edges(),function(ft){if(ft.v===ft.w){var lt=_.node(ft.v);lt.selfEdges||(lt.selfEdges=[]),lt.selfEdges.push({e:ft,label:_.edge(ft)}),_.removeEdge(ft)}})}function ht(_){var ft=l.buildLayerMatrix(_);s.forEach(ft,function(lt){var at=0;s.forEach(lt,function(Mt,vt){var yt=_.node(Mt);yt.order=vt+at,s.forEach(yt.selfEdges,function(xt){l.addDummyNode(_,"selfedge",{width:xt.label.width,height:xt.label.height,rank:yt.rank,order:vt+ ++at,e:xt.e,label:xt.label},"_se")}),delete yt.selfEdges})})}function nt(_){s.forEach(_.nodes(),function(ft){var lt=_.node(ft);if(lt.dummy==="selfedge"){var at=_.node(lt.e.v),Mt=at.x+at.width/2,vt=at.y,yt=lt.x-Mt,xt=at.height/2;_.setEdge(lt.e,lt.label),_.removeNode(ft),lt.label.points=[{x:Mt+2*yt/3,y:vt-xt},{x:Mt+5*yt/6,y:vt-xt},{x:Mt+yt,y:vt},{x:Mt+5*yt/6,y:vt+xt},{x:Mt+2*yt/3,y:vt+xt}],lt.label.x=lt.x,lt.label.y=lt.y}})}function gt(_,ft){return s.mapValues(s.pick(_,ft),Number)}function it(_){var ft={};return s.forEach(_,function(lt,at){ft[at.toLowerCase()]=lt}),ft}},38436:function(G,tt,i){var s;try{s={cloneDeep:i(50361),constant:i(75703),defaults:i(91747),each:i(66073),filter:i(63105),find:i(13311),flatten:i(85564),forEach:i(84486),forIn:i(62620),has:i(18721),isUndefined:i(52353),last:i(10928),map:i(35161),mapValues:i(66604),max:i(6162),merge:i(82492),min:i(53632),minBy:i(22762),now:i(7771),pick:i(78718),range:i(96026),reduce:i(54061),sortBy:i(89734),uniqueId:i(73955),values:i(52628),zipObject:i(7287)}}catch(I){}s||(s=window._),G.exports=s},72981:function(G,tt,i){var s=i(38436),I=i(11138);G.exports={run:y,cleanup:p};function y(c){var r=I.addDummyNode(c,"root",{},"_root"),o=v(c),a=s.max(s.values(o))-1,h=2*a+1;c.graph().nestingRoot=r,s.forEach(c.edges(),function(x){c.edge(x).minlen*=h});var l=E(c)+1;s.forEach(c.children(),function(x){D(c,r,h,l,a,o,x)}),c.graph().nodeRankFactor=h}function D(c,r,o,a,h,l,x){var Y=c.children(x);if(!Y.length){x!==r&&c.setEdge(r,x,{weight:0,minlen:o});return}var $=I.addBorderNode(c,"_bt"),F=I.addBorderNode(c,"_bb"),X=c.node(x);c.setParent($,x),X.borderTop=$,c.setParent(F,x),X.borderBottom=F,s.forEach(Y,function(j){D(c,r,o,a,h,l,j);var J=c.node(j),L=J.borderTop?J.borderTop:j,T=J.borderBottom?J.borderBottom:j,P=J.borderTop?a:2*a,U=L!==T?1:h-l[x]+1;c.setEdge($,L,{weight:P,minlen:U,nestingEdge:!0}),c.setEdge(T,F,{weight:P,minlen:U,nestingEdge:!0})}),c.parent(x)||c.setEdge(r,$,{weight:0,minlen:h+l[x]})}function v(c){var r={};function o(a,h){var l=c.children(a);l&&l.length&&s.forEach(l,function(x){o(x,h+1)}),r[a]=h}return s.forEach(c.children(),function(a){o(a,1)}),r}function E(c){return s.reduce(c.edges(),function(r,o){return r+c.edge(o).weight},0)}function p(c){var r=c.graph();c.removeNode(r.nestingRoot),delete r.nestingRoot,s.forEach(c.edges(),function(o){var a=c.edge(o);a.nestingEdge&&c.removeEdge(o)})}},45995:function(G,tt,i){"use strict";var s=i(38436),I=i(11138);G.exports={run:y,undo:v};function y(E){E.graph().dummyChains=[],s.forEach(E.edges(),function(p){D(E,p)})}function D(E,p){var c=p.v,r=E.node(c).rank,o=p.w,a=E.node(o).rank,h=p.name,l=E.edge(p),x=l.labelRank;if(a!==r+1){E.removeEdge(p);var Y,$,F;for(F=0,++r;r<a;++F,++r)l.points=[],$={width:0,height:0,edgeLabel:l,edgeObj:p,rank:r},Y=I.addDummyNode(E,"edge",$,"_d"),r===x&&($.width=l.width,$.height=l.height,$.dummy="edge-label",$.labelpos=l.labelpos),E.setEdge(c,Y,{weight:l.weight},h),F===0&&E.graph().dummyChains.push(Y),c=Y;E.setEdge(c,o,{weight:l.weight},h)}}function v(E){s.forEach(E.graph().dummyChains,function(p){var c=E.node(p),r=c.edgeLabel,o;for(E.setEdge(c.edgeObj,r);c.dummy;)o=E.successors(p)[0],E.removeNode(p),r.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(r.x=c.x,r.y=c.y,r.width=c.width,r.height=c.height),p=o,c=E.node(p)})}},55093:function(G,tt,i){var s=i(38436);G.exports=I;function I(y,D,v){var E={},p;s.forEach(v,function(c){for(var r=y.parent(c),o,a;r;){if(o=y.parent(r),o?(a=E[o],E[o]=r):(a=p,p=r),a&&a!==r){D.setEdge(a,r);return}r=o}})}},35439:function(G,tt,i){var s=i(38436);G.exports=I;function I(y,D){return s.map(D,function(v){var E=y.inEdges(v);if(E.length){var p=s.reduce(E,function(c,r){var o=y.edge(r),a=y.node(r.v);return{sum:c.sum+o.weight*a.order,weight:c.weight+o.weight}},{sum:0,weight:0});return{v,barycenter:p.sum/p.weight,weight:p.weight}}else return{v}})}},23128:function(G,tt,i){var s=i(38436),I=i(70574).Graph;G.exports=y;function y(v,E,p){var c=D(v),r=new I({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(o){return v.node(o)});return s.forEach(v.nodes(),function(o){var a=v.node(o),h=v.parent(o);(a.rank===E||a.minRank<=E&&E<=a.maxRank)&&(r.setNode(o),r.setParent(o,h||c),s.forEach(v[p](o),function(l){var x=l.v===o?l.w:l.v,Y=r.edge(x,o),$=s.isUndefined(Y)?0:Y.weight;r.setEdge(x,o,{weight:v.edge(l).weight+$})}),s.has(a,"minRank")&&r.setNode(o,{borderLeft:a.borderLeft[E],borderRight:a.borderRight[E]}))}),r}function D(v){for(var E;v.hasNode(E=s.uniqueId("_root")););return E}},56630:function(G,tt,i){"use strict";var s=i(38436);G.exports=I;function I(D,v){for(var E=0,p=1;p<v.length;++p)E+=y(D,v[p-1],v[p]);return E}function y(D,v,E){for(var p=s.zipObject(E,s.map(E,function(l,x){return x})),c=s.flatten(s.map(v,function(l){return s.sortBy(s.map(D.outEdges(l),function(x){return{pos:p[x.w],weight:D.edge(x).weight}}),"pos")}),!0),r=1;r<E.length;)r<<=1;var o=2*r-1;r-=1;var a=s.map(new Array(o),function(){return 0}),h=0;return s.forEach(c.forEach(function(l){var x=l.pos+r;a[x]+=l.weight;for(var Y=0;x>0;)x%2&&(Y+=a[x+1]),x=x-1>>1,a[x]+=l.weight;h+=l.weight*Y})),h}},53408:function(G,tt,i){"use strict";var s=i(38436),I=i(2588),y=i(56630),D=i(61026),v=i(23128),E=i(55093),p=i(70574).Graph,c=i(11138);G.exports=r;function r(l){var x=c.maxRank(l),Y=o(l,s.range(1,x+1),"inEdges"),$=o(l,s.range(x-1,-1,-1),"outEdges"),F=I(l);h(l,F);for(var X=Number.POSITIVE_INFINITY,j,J=0,L=0;L<4;++J,++L){a(J%2?Y:$,J%4>=2),F=c.buildLayerMatrix(l);var T=y(l,F);T<X&&(L=0,j=s.cloneDeep(F),X=T)}h(l,j)}function o(l,x,Y){return s.map(x,function($){return v(l,$,Y)})}function a(l,x){var Y=new p;s.forEach(l,function($){var F=$.graph().root,X=D($,F,Y,x);s.forEach(X.vs,function(j,J){$.node(j).order=J}),E($,Y,X.vs)})}function h(l,x){s.forEach(x,function(Y){s.forEach(Y,function($,F){l.node($).order=F})})}},2588:function(G,tt,i){"use strict";var s=i(38436);G.exports=I;function I(y){var D={},v=s.filter(y.nodes(),function(o){return!y.children(o).length}),E=s.max(s.map(v,function(o){return y.node(o).rank})),p=s.map(s.range(E+1),function(){return[]});function c(o){if(!s.has(D,o)){D[o]=!0;var a=y.node(o);p[a.rank].push(o),s.forEach(y.successors(o),c)}}var r=s.sortBy(v,function(o){return y.node(o).rank});return s.forEach(r,c),p}},83678:function(G,tt,i){"use strict";var s=i(38436);G.exports=I;function I(v,E){var p={};s.forEach(v,function(r,o){var a=p[r.v]={indegree:0,in:[],out:[],vs:[r.v],i:o};s.isUndefined(r.barycenter)||(a.barycenter=r.barycenter,a.weight=r.weight)}),s.forEach(E.edges(),function(r){var o=p[r.v],a=p[r.w];!s.isUndefined(o)&&!s.isUndefined(a)&&(a.indegree++,o.out.push(p[r.w]))});var c=s.filter(p,function(r){return!r.indegree});return y(c)}function y(v){var E=[];function p(o){return function(a){a.merged||(s.isUndefined(a.barycenter)||s.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&D(o,a)}}function c(o){return function(a){a.in.push(o),--a.indegree===0&&v.push(a)}}for(;v.length;){var r=v.pop();E.push(r),s.forEach(r.in.reverse(),p(r)),s.forEach(r.out,c(r))}return s.map(s.filter(E,function(o){return!o.merged}),function(o){return s.pick(o,["vs","i","barycenter","weight"])})}function D(v,E){var p=0,c=0;v.weight&&(p+=v.barycenter*v.weight,c+=v.weight),E.weight&&(p+=E.barycenter*E.weight,c+=E.weight),v.vs=E.vs.concat(v.vs),v.barycenter=p/c,v.weight=c,v.i=Math.min(E.i,v.i),E.merged=!0}},61026:function(G,tt,i){var s=i(38436),I=i(35439),y=i(83678),D=i(87304);G.exports=v;function v(c,r,o,a){var h=c.children(r),l=c.node(r),x=l?l.borderLeft:void 0,Y=l?l.borderRight:void 0,$={};x&&(h=s.filter(h,function(T){return T!==x&&T!==Y}));var F=I(c,h);s.forEach(F,function(T){if(c.children(T.v).length){var P=v(c,T.v,o,a);$[T.v]=P,s.has(P,"barycenter")&&p(T,P)}});var X=y(F,o);E(X,$);var j=D(X,a);if(x&&(j.vs=s.flatten([x,j.vs,Y],!0),c.predecessors(x).length)){var J=c.node(c.predecessors(x)[0]),L=c.node(c.predecessors(Y)[0]);s.has(j,"barycenter")||(j.barycenter=0,j.weight=0),j.barycenter=(j.barycenter*j.weight+J.order+L.order)/(j.weight+2),j.weight+=2}return j}function E(c,r){s.forEach(c,function(o){o.vs=s.flatten(o.vs.map(function(a){return r[a]?r[a].vs:a}),!0)})}function p(c,r){s.isUndefined(c.barycenter)?(c.barycenter=r.barycenter,c.weight=r.weight):(c.barycenter=(c.barycenter*c.weight+r.barycenter*r.weight)/(c.weight+r.weight),c.weight+=r.weight)}},87304:function(G,tt,i){var s=i(38436),I=i(11138);G.exports=y;function y(E,p){var c=I.partition(E,function($){return s.has($,"barycenter")}),r=c.lhs,o=s.sortBy(c.rhs,function($){return-$.i}),a=[],h=0,l=0,x=0;r.sort(v(!!p)),x=D(a,o,x),s.forEach(r,function($){x+=$.vs.length,a.push($.vs),h+=$.barycenter*$.weight,l+=$.weight,x=D(a,o,x)});var Y={vs:s.flatten(a,!0)};return l&&(Y.barycenter=h/l,Y.weight=l),Y}function D(E,p,c){for(var r;p.length&&(r=s.last(p)).i<=c;)p.pop(),E.push(r.vs),c++;return c}function v(E){return function(p,c){return p.barycenter<c.barycenter?-1:p.barycenter>c.barycenter?1:E?c.i-p.i:p.i-c.i}}},24219:function(G,tt,i){var s=i(38436);G.exports=I;function I(v){var E=D(v);s.forEach(v.graph().dummyChains,function(p){for(var c=v.node(p),r=c.edgeObj,o=y(v,E,r.v,r.w),a=o.path,h=o.lca,l=0,x=a[l],Y=!0;p!==r.w;){if(c=v.node(p),Y){for(;(x=a[l])!==h&&v.node(x).maxRank<c.rank;)l++;x===h&&(Y=!1)}if(!Y){for(;l<a.length-1&&v.node(x=a[l+1]).minRank<=c.rank;)l++;x=a[l]}v.setParent(p,x),p=v.successors(p)[0]}})}function y(v,E,p,c){var r=[],o=[],a=Math.min(E[p].low,E[c].low),h=Math.max(E[p].lim,E[c].lim),l,x;l=p;do l=v.parent(l),r.push(l);while(l&&(E[l].low>a||h>E[l].lim));for(x=l,l=c;(l=v.parent(l))!==x;)o.push(l);return{path:r.concat(o.reverse()),lca:x}}function D(v){var E={},p=0;function c(r){var o=p;s.forEach(v.children(r),c),E[r]={low:o,lim:p++}}return s.forEach(v.children(),c),E}},3573:function(G,tt,i){"use strict";var s=i(38436),I=i(70574).Graph,y=i(11138);G.exports={positionX:Y,findType1Conflicts:D,findType2Conflicts:v,addConflict:p,hasConflict:c,verticalAlignment:r,horizontalCompaction:o,alignCoordinates:l,findSmallestWidthAlignment:h,balance:x};function D(X,j){var J={};function L(T,P){var U=0,V=0,B=T.length,M=s.last(P);return s.forEach(P,function(k,K){var z=E(X,k),O=z?X.node(z).order:B;(z||k===M)&&(s.forEach(P.slice(V,K+1),function(C){s.forEach(X.predecessors(C),function(Q){var H=X.node(Q),q=H.order;(q<U||O<q)&&!(H.dummy&&X.node(C).dummy)&&p(J,Q,C)})}),V=K+1,U=O)}),P}return s.reduce(j,L),J}function v(X,j){var J={};function L(P,U,V,B,M){var k;s.forEach(s.range(U,V),function(K){k=P[K],X.node(k).dummy&&s.forEach(X.predecessors(k),function(z){var O=X.node(z);O.dummy&&(O.order<B||O.order>M)&&p(J,z,k)})})}function T(P,U){var V=-1,B,M=0;return s.forEach(U,function(k,K){if(X.node(k).dummy==="border"){var z=X.predecessors(k);z.length&&(B=X.node(z[0]).order,L(U,M,K,V,B),M=K,V=B)}L(U,M,U.length,B,P.length)}),U}return s.reduce(j,T),J}function E(X,j){if(X.node(j).dummy)return s.find(X.predecessors(j),function(J){return X.node(J).dummy})}function p(X,j,J){if(j>J){var L=j;j=J,J=L}var T=X[j];T||(X[j]=T={}),T[J]=!0}function c(X,j,J){if(j>J){var L=j;j=J,J=L}return s.has(X[j],J)}function r(X,j,J,L){var T={},P={},U={};return s.forEach(j,function(V){s.forEach(V,function(B,M){T[B]=B,P[B]=B,U[B]=M})}),s.forEach(j,function(V){var B=-1;s.forEach(V,function(M){var k=L(M);if(k.length){k=s.sortBy(k,function(Q){return U[Q]});for(var K=(k.length-1)/2,z=Math.floor(K),O=Math.ceil(K);z<=O;++z){var C=k[z];P[M]===M&&B<U[C]&&!c(J,M,C)&&(P[C]=M,P[M]=T[M]=T[C],B=U[C])}}})}),{root:T,align:P}}function o(X,j,J,L,T){var P={},U=a(X,j,J,T),V=T?"borderLeft":"borderRight";function B(K,z){for(var O=U.nodes(),C=O.pop(),Q={};C;)Q[C]?K(C):(Q[C]=!0,O.push(C),O=O.concat(z(C))),C=O.pop()}function M(K){P[K]=U.inEdges(K).reduce(function(z,O){return Math.max(z,P[O.v]+U.edge(O))},0)}function k(K){var z=U.outEdges(K).reduce(function(C,Q){return Math.min(C,P[Q.w]-U.edge(Q))},Number.POSITIVE_INFINITY),O=X.node(K);z!==Number.POSITIVE_INFINITY&&O.borderType!==V&&(P[K]=Math.max(P[K],z))}return B(M,U.predecessors.bind(U)),B(k,U.successors.bind(U)),s.forEach(L,function(K){P[K]=P[J[K]]}),P}function a(X,j,J,L){var T=new I,P=X.graph(),U=$(P.nodesep,P.edgesep,L);return s.forEach(j,function(V){var B;s.forEach(V,function(M){var k=J[M];if(T.setNode(k),B){var K=J[B],z=T.edge(K,k);T.setEdge(K,k,Math.max(U(X,M,B),z||0))}B=M})}),T}function h(X,j){return s.minBy(s.values(j),function(J){var L=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;return s.forIn(J,function(P,U){var V=F(X,U)/2;L=Math.max(P+V,L),T=Math.min(P-V,T)}),L-T})}function l(X,j){var J=s.values(j),L=s.min(J),T=s.max(J);s.forEach(["u","d"],function(P){s.forEach(["l","r"],function(U){var V=P+U,B=X[V],M;if(B!==j){var k=s.values(B);M=U==="l"?L-s.min(k):T-s.max(k),M&&(X[V]=s.mapValues(B,function(K){return K+M}))}})})}function x(X,j){return s.mapValues(X.ul,function(J,L){if(j)return X[j.toLowerCase()][L];var T=s.sortBy(s.map(X,L));return(T[1]+T[2])/2})}function Y(X){var j=y.buildLayerMatrix(X),J=s.merge(D(X,j),v(X,j)),L={},T;s.forEach(["u","d"],function(U){T=U==="u"?j:s.values(j).reverse(),s.forEach(["l","r"],function(V){V==="r"&&(T=s.map(T,function(K){return s.values(K).reverse()}));var B=(U==="u"?X.predecessors:X.successors).bind(X),M=r(X,T,J,B),k=o(X,T,M.root,M.align,V==="r");V==="r"&&(k=s.mapValues(k,function(K){return-K})),L[U+V]=k})});var P=h(X,L);return l(L,P),x(L,X.graph().align)}function $(X,j,J){return function(L,T,P){var U=L.node(T),V=L.node(P),B=0,M;if(B+=U.width/2,s.has(U,"labelpos"))switch(U.labelpos.toLowerCase()){case"l":M=-U.width/2;break;case"r":M=U.width/2;break}if(M&&(B+=J?M:-M),M=0,B+=(U.dummy?j:X)/2,B+=(V.dummy?j:X)/2,B+=V.width/2,s.has(V,"labelpos"))switch(V.labelpos.toLowerCase()){case"l":M=V.width/2;break;case"r":M=-V.width/2;break}return M&&(B+=J?M:-M),M=0,B}}function F(X,j){return X.node(j).width}},17873:function(G,tt,i){"use strict";var s=i(38436),I=i(11138),y=i(3573).positionX;G.exports=D;function D(E){E=I.asNonCompoundGraph(E),v(E),s.forEach(y(E),function(p,c){E.node(c).x=p})}function v(E){var p=I.buildLayerMatrix(E),c=E.graph().ranksep,r=0;s.forEach(p,function(o){var a=s.max(s.map(o,function(h){return E.node(h).height}));s.forEach(o,function(h){E.node(h).y=r+a/2}),r+=a+c})}},8457:function(G,tt,i){"use strict";var s=i(38436),I=i(70574).Graph,y=i(76681).slack;G.exports=D;function D(c){var r=new I({directed:!1}),o=c.nodes()[0],a=c.nodeCount();r.setNode(o,{});for(var h,l;v(r,c)<a;)h=E(r,c),l=r.hasNode(h.v)?y(c,h):-y(c,h),p(r,c,l);return r}function v(c,r){function o(a){s.forEach(r.nodeEdges(a),function(h){var l=h.v,x=a===l?h.w:l;!c.hasNode(x)&&!y(r,h)&&(c.setNode(x,{}),c.setEdge(a,x,{}),o(x))})}return s.forEach(c.nodes(),o),c.nodeCount()}function E(c,r){return s.minBy(r.edges(),function(o){if(c.hasNode(o.v)!==c.hasNode(o.w))return y(r,o)})}function p(c,r,o){s.forEach(c.nodes(),function(a){r.node(a).rank+=o})}},78093:function(G,tt,i){"use strict";var s=i(76681),I=s.longestPath,y=i(8457),D=i(42472);G.exports=v;function v(r){switch(r.graph().ranker){case"network-simplex":c(r);break;case"tight-tree":p(r);break;case"longest-path":E(r);break;default:c(r)}}var E=I;function p(r){I(r),y(r)}function c(r){D(r)}},42472:function(G,tt,i){"use strict";var s=i(38436),I=i(8457),y=i(76681).slack,D=i(76681).longestPath,v=i(70574).alg.preorder,E=i(70574).alg.postorder,p=i(11138).simplify;G.exports=c,c.initLowLimValues=h,c.initCutValues=r,c.calcCutValue=a,c.leaveEdge=x,c.enterEdge=Y,c.exchangeEdges=$;function c(J){J=p(J),D(J);var L=I(J);h(L),r(L,J);for(var T,P;T=x(L);)P=Y(L,J,T),$(L,J,T,P)}function r(J,L){var T=E(J,J.nodes());T=T.slice(0,T.length-1),s.forEach(T,function(P){o(J,L,P)})}function o(J,L,T){var P=J.node(T),U=P.parent;J.edge(T,U).cutvalue=a(J,L,T)}function a(J,L,T){var P=J.node(T),U=P.parent,V=!0,B=L.edge(T,U),M=0;return B||(V=!1,B=L.edge(U,T)),M=B.weight,s.forEach(L.nodeEdges(T),function(k){var K=k.v===T,z=K?k.w:k.v;if(z!==U){var O=K===V,C=L.edge(k).weight;if(M+=O?C:-C,X(J,T,z)){var Q=J.edge(T,z).cutvalue;M+=O?-Q:Q}}}),M}function h(J,L){arguments.length<2&&(L=J.nodes()[0]),l(J,{},1,L)}function l(J,L,T,P,U){var V=T,B=J.node(P);return L[P]=!0,s.forEach(J.neighbors(P),function(M){s.has(L,M)||(T=l(J,L,T,M,P))}),B.low=V,B.lim=T++,U?B.parent=U:delete B.parent,T}function x(J){return s.find(J.edges(),function(L){return J.edge(L).cutvalue<0})}function Y(J,L,T){var P=T.v,U=T.w;L.hasEdge(P,U)||(P=T.w,U=T.v);var V=J.node(P),B=J.node(U),M=V,k=!1;V.lim>B.lim&&(M=B,k=!0);var K=s.filter(L.edges(),function(z){return k===j(J,J.node(z.v),M)&&k!==j(J,J.node(z.w),M)});return s.minBy(K,function(z){return y(L,z)})}function $(J,L,T,P){var U=T.v,V=T.w;J.removeEdge(U,V),J.setEdge(P.v,P.w,{}),h(J),r(J,L),F(J,L)}function F(J,L){var T=s.find(J.nodes(),function(U){return!L.node(U).parent}),P=v(J,T);P=P.slice(1),s.forEach(P,function(U){var V=J.node(U).parent,B=L.edge(U,V),M=!1;B||(B=L.edge(V,U),M=!0),L.node(U).rank=L.node(V).rank+(M?B.minlen:-B.minlen)})}function X(J,L,T){return J.hasEdge(L,T)}function j(J,L,T){return T.low<=L.lim&&L.lim<=T.lim}},76681:function(G,tt,i){"use strict";var s=i(38436);G.exports={longestPath:I,slack:y};function I(D){var v={};function E(p){var c=D.node(p);if(s.has(v,p))return c.rank;v[p]=!0;var r=s.min(s.map(D.outEdges(p),function(o){return E(o.w)-D.edge(o).minlen}));return(r===Number.POSITIVE_INFINITY||r===void 0||r===null)&&(r=0),c.rank=r}s.forEach(D.sources(),E)}function y(D,v){return D.node(v.w).rank-D.node(v.v).rank-D.edge(v).minlen}},11138:function(G,tt,i){"use strict";var s=i(38436),I=i(70574).Graph;G.exports={addDummyNode:y,simplify:D,asNonCompoundGraph:v,successorWeights:E,predecessorWeights:p,intersectRect:c,buildLayerMatrix:r,normalizeRanks:o,removeEmptyRanks:a,addBorderNode:h,maxRank:l,partition:x,time:Y,notime:$};function y(F,X,j,J){var L;do L=s.uniqueId(J);while(F.hasNode(L));return j.dummy=X,F.setNode(L,j),L}function D(F){var X=new I().setGraph(F.graph());return s.forEach(F.nodes(),function(j){X.setNode(j,F.node(j))}),s.forEach(F.edges(),function(j){var J=X.edge(j.v,j.w)||{weight:0,minlen:1},L=F.edge(j);X.setEdge(j.v,j.w,{weight:J.weight+L.weight,minlen:Math.max(J.minlen,L.minlen)})}),X}function v(F){var X=new I({multigraph:F.isMultigraph()}).setGraph(F.graph());return s.forEach(F.nodes(),function(j){F.children(j).length||X.setNode(j,F.node(j))}),s.forEach(F.edges(),function(j){X.setEdge(j,F.edge(j))}),X}function E(F){var X=s.map(F.nodes(),function(j){var J={};return s.forEach(F.outEdges(j),function(L){J[L.w]=(J[L.w]||0)+F.edge(L).weight}),J});return s.zipObject(F.nodes(),X)}function p(F){var X=s.map(F.nodes(),function(j){var J={};return s.forEach(F.inEdges(j),function(L){J[L.v]=(J[L.v]||0)+F.edge(L).weight}),J});return s.zipObject(F.nodes(),X)}function c(F,X){var j=F.x,J=F.y,L=X.x-j,T=X.y-J,P=F.width/2,U=F.height/2;if(!L&&!T)throw new Error("Not possible to find intersection inside of the rectangle");var V,B;return Math.abs(T)*P>Math.abs(L)*U?(T<0&&(U=-U),V=U*L/T,B=U):(L<0&&(P=-P),V=P,B=P*T/L),{x:j+V,y:J+B}}function r(F){var X=s.map(s.range(l(F)+1),function(){return[]});return s.forEach(F.nodes(),function(j){var J=F.node(j),L=J.rank;s.isUndefined(L)||(X[L][J.order]=j)}),X}function o(F){var X=s.min(s.map(F.nodes(),function(j){return F.node(j).rank}));s.forEach(F.nodes(),function(j){var J=F.node(j);s.has(J,"rank")&&(J.rank-=X)})}function a(F){var X=s.min(s.map(F.nodes(),function(T){return F.node(T).rank})),j=[];s.forEach(F.nodes(),function(T){var P=F.node(T).rank-X;j[P]||(j[P]=[]),j[P].push(T)});var J=0,L=F.graph().nodeRankFactor;s.forEach(j,function(T,P){s.isUndefined(T)&&P%L!==0?--J:J&&s.forEach(T,function(U){F.node(U).rank+=J})})}function h(F,X,j,J){var L={width:0,height:0};return arguments.length>=4&&(L.rank=j,L.order=J),y(F,"border",L,X)}function l(F){return s.max(s.map(F.nodes(),function(X){var j=F.node(X).rank;if(!s.isUndefined(j))return j}))}function x(F,X){var j={lhs:[],rhs:[]};return s.forEach(F,function(J){X(J)?j.lhs.push(J):j.rhs.push(J)}),j}function Y(F,X){var j=s.now();try{return X()}finally{console.log(F+" time: "+(s.now()-j)+"ms")}}function $(F,X){return X()}},88177:function(G){G.exports="0.8.5"},28282:function(G,tt,i){var s=i(82354);G.exports={Graph:s.Graph,json:i(28974),alg:i(12440),version:s.version}},2842:function(G,tt,i){var s=i(89126);G.exports=I;function I(y){var D={},v=[],E;function p(c){s.has(D,c)||(D[c]=!0,E.push(c),s.each(y.successors(c),p),s.each(y.predecessors(c),p))}return s.each(y.nodes(),function(c){E=[],p(c),E.length&&v.push(E)}),v}},53984:function(G,tt,i){var s=i(89126);G.exports=I;function I(D,v,E){s.isArray(v)||(v=[v]);var p=(D.isDirected()?D.successors:D.neighbors).bind(D),c=[],r={};return s.each(v,function(o){if(!D.hasNode(o))throw new Error("Graph does not have node: "+o);y(D,o,E==="post",r,p,c)}),c}function y(D,v,E,p,c,r){s.has(p,v)||(p[v]=!0,E||r.push(v),s.each(c(v),function(o){y(D,o,E,p,c,r)}),E&&r.push(v))}},84847:function(G,tt,i){var s=i(63763),I=i(89126);G.exports=y;function y(D,v,E){return I.transform(D.nodes(),function(p,c){p[c]=s(D,c,v,E)},{})}},63763:function(G,tt,i){var s=i(89126),I=i(75639);G.exports=D;var y=s.constant(1);function D(E,p,c,r){return v(E,String(p),c||y,r||function(o){return E.outEdges(o)})}function v(E,p,c,r){var o={},a=new I,h,l,x=function(Y){var $=Y.v!==h?Y.v:Y.w,F=o[$],X=c(Y),j=l.distance+X;if(X<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Y+" Weight: "+X);j<F.distance&&(F.distance=j,F.predecessor=h,a.decrease($,j))};for(E.nodes().forEach(function(Y){var $=Y===p?0:Number.POSITIVE_INFINITY;o[Y]={distance:$},a.add(Y,$)});a.size()>0&&(h=a.removeMin(),l=o[h],l.distance!==Number.POSITIVE_INFINITY);)r(h).forEach(x);return o}},9096:function(G,tt,i){var s=i(89126),I=i(5023);G.exports=y;function y(D){return s.filter(I(D),function(v){return v.length>1||v.length===1&&D.hasEdge(v[0],v[0])})}},38924:function(G,tt,i){var s=i(89126);G.exports=y;var I=s.constant(1);function y(v,E,p){return D(v,E||I,p||function(c){return v.outEdges(c)})}function D(v,E,p){var c={},r=v.nodes();return r.forEach(function(o){c[o]={},c[o][o]={distance:0},r.forEach(function(a){o!==a&&(c[o][a]={distance:Number.POSITIVE_INFINITY})}),p(o).forEach(function(a){var h=a.v===o?a.w:a.v,l=E(a);c[o][h]={distance:l,predecessor:o}})}),r.forEach(function(o){var a=c[o];r.forEach(function(h){var l=c[h];r.forEach(function(x){var Y=l[o],$=a[x],F=l[x],X=Y.distance+$.distance;X<F.distance&&(F.distance=X,F.predecessor=$.predecessor)})})}),c}},12440:function(G,tt,i){G.exports={components:i(2842),dijkstra:i(63763),dijkstraAll:i(84847),findCycles:i(9096),floydWarshall:i(38924),isAcyclic:i(62707),postorder:i(63308),preorder:i(92648),prim:i(80514),tarjan:i(5023),topsort:i(2166)}},62707:function(G,tt,i){var s=i(2166);G.exports=I;function I(y){try{s(y)}catch(D){if(D instanceof s.CycleException)return!1;throw D}return!0}},63308:function(G,tt,i){var s=i(53984);G.exports=I;function I(y,D){return s(y,D,"post")}},92648:function(G,tt,i){var s=i(53984);G.exports=I;function I(y,D){return s(y,D,"pre")}},80514:function(G,tt,i){var s=i(89126),I=i(30771),y=i(75639);G.exports=D;function D(v,E){var p=new I,c={},r=new y,o;function a(l){var x=l.v===o?l.w:l.v,Y=r.priority(x);if(Y!==void 0){var $=E(l);$<Y&&(c[x]=o,r.decrease(x,$))}}if(v.nodeCount()===0)return p;s.each(v.nodes(),function(l){r.add(l,Number.POSITIVE_INFINITY),p.setNode(l)}),r.decrease(v.nodes()[0],0);for(var h=!1;r.size()>0;){if(o=r.removeMin(),s.has(c,o))p.setEdge(o,c[o]);else{if(h)throw new Error("Input graph is not connected: "+v);h=!0}v.nodeEdges(o).forEach(a)}return p}},5023:function(G,tt,i){var s=i(89126);G.exports=I;function I(y){var D=0,v=[],E={},p=[];function c(r){var o=E[r]={onStack:!0,lowlink:D,index:D++};if(v.push(r),y.successors(r).forEach(function(l){s.has(E,l)?E[l].onStack&&(o.lowlink=Math.min(o.lowlink,E[l].index)):(c(l),o.lowlink=Math.min(o.lowlink,E[l].lowlink))}),o.lowlink===o.index){var a=[],h;do h=v.pop(),E[h].onStack=!1,a.push(h);while(r!==h);p.push(a)}}return y.nodes().forEach(function(r){s.has(E,r)||c(r)}),p}},2166:function(G,tt,i){var s=i(89126);G.exports=I,I.CycleException=y;function I(D){var v={},E={},p=[];function c(r){if(s.has(E,r))throw new y;s.has(v,r)||(E[r]=!0,v[r]=!0,s.each(D.predecessors(r),c),delete E[r],p.push(r))}if(s.each(D.sinks(),c),s.size(v)!==D.nodeCount())throw new y;return p}function y(){}y.prototype=new Error},75639:function(G,tt,i){var s=i(89126);G.exports=I;function I(){this._arr=[],this._keyIndices={}}I.prototype.size=function(){return this._arr.length},I.prototype.keys=function(){return this._arr.map(function(y){return y.key})},I.prototype.has=function(y){return s.has(this._keyIndices,y)},I.prototype.priority=function(y){var D=this._keyIndices[y];if(D!==void 0)return this._arr[D].priority},I.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},I.prototype.add=function(y,D){var v=this._keyIndices;if(y=String(y),!s.has(v,y)){var E=this._arr,p=E.length;return v[y]=p,E.push({key:y,priority:D}),this._decrease(p),!0}return!1},I.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var y=this._arr.pop();return delete this._keyIndices[y.key],this._heapify(0),y.key},I.prototype.decrease=function(y,D){var v=this._keyIndices[y];if(D>this._arr[v].priority)throw new Error("New priority is greater than current priority. Key: "+y+" Old: "+this._arr[v].priority+" New: "+D);this._arr[v].priority=D,this._decrease(v)},I.prototype._heapify=function(y){var D=this._arr,v=2*y,E=v+1,p=y;v<D.length&&(p=D[v].priority<D[p].priority?v:p,E<D.length&&(p=D[E].priority<D[p].priority?E:p),p!==y&&(this._swap(y,p),this._heapify(p)))},I.prototype._decrease=function(y){for(var D=this._arr,v=D[y].priority,E;y!==0&&(E=y>>1,!(D[E].priority<v));)this._swap(y,E),y=E},I.prototype._swap=function(y,D){var v=this._arr,E=this._keyIndices,p=v[y],c=v[D];v[y]=c,v[D]=p,E[c.key]=y,E[p.key]=D}},30771:function(G,tt,i){"use strict";var s=i(89126);G.exports=v;var I="\0",y="\0",D="";function v(a){this._isDirected=s.has(a,"directed")?a.directed:!0,this._isMultigraph=s.has(a,"multigraph")?a.multigraph:!1,this._isCompound=s.has(a,"compound")?a.compound:!1,this._label=void 0,this._defaultNodeLabelFn=s.constant(void 0),this._defaultEdgeLabelFn=s.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[y]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}v.prototype._nodeCount=0,v.prototype._edgeCount=0,v.prototype.isDirected=function(){return this._isDirected},v.prototype.isMultigraph=function(){return this._isMultigraph},v.prototype.isCompound=function(){return this._isCompound},v.prototype.setGraph=function(a){return this._label=a,this},v.prototype.graph=function(){return this._label},v.prototype.setDefaultNodeLabel=function(a){return s.isFunction(a)||(a=s.constant(a)),this._defaultNodeLabelFn=a,this},v.prototype.nodeCount=function(){return this._nodeCount},v.prototype.nodes=function(){return s.keys(this._nodes)},v.prototype.sources=function(){var a=this;return s.filter(this.nodes(),function(h){return s.isEmpty(a._in[h])})},v.prototype.sinks=function(){var a=this;return s.filter(this.nodes(),function(h){return s.isEmpty(a._out[h])})},v.prototype.setNodes=function(a,h){var l=arguments,x=this;return s.each(a,function(Y){l.length>1?x.setNode(Y,h):x.setNode(Y)}),this},v.prototype.setNode=function(a,h){return s.has(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=h),this):(this._nodes[a]=arguments.length>1?h:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]=y,this._children[a]={},this._children[y][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)},v.prototype.node=function(a){return this._nodes[a]},v.prototype.hasNode=function(a){return s.has(this._nodes,a)},v.prototype.removeNode=function(a){var h=this;if(s.has(this._nodes,a)){var l=function(x){h.removeEdge(h._edgeObjs[x])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],s.each(this.children(a),function(x){h.setParent(x)}),delete this._children[a]),s.each(s.keys(this._in[a]),l),delete this._in[a],delete this._preds[a],s.each(s.keys(this._out[a]),l),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this},v.prototype.setParent=function(a,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(s.isUndefined(h))h=y;else{h+="";for(var l=h;!s.isUndefined(l);l=this.parent(l))if(l===a)throw new Error("Setting "+h+" as parent of "+a+" would create a cycle");this.setNode(h)}return this.setNode(a),this._removeFromParentsChildList(a),this._parent[a]=h,this._children[h][a]=!0,this},v.prototype._removeFromParentsChildList=function(a){delete this._children[this._parent[a]][a]},v.prototype.parent=function(a){if(this._isCompound){var h=this._parent[a];if(h!==y)return h}},v.prototype.children=function(a){if(s.isUndefined(a)&&(a=y),this._isCompound){var h=this._children[a];if(h)return s.keys(h)}else{if(a===y)return this.nodes();if(this.hasNode(a))return[]}},v.prototype.predecessors=function(a){var h=this._preds[a];if(h)return s.keys(h)},v.prototype.successors=function(a){var h=this._sucs[a];if(h)return s.keys(h)},v.prototype.neighbors=function(a){var h=this.predecessors(a);if(h)return s.union(h,this.successors(a))},v.prototype.isLeaf=function(a){var h;return this.isDirected()?h=this.successors(a):h=this.neighbors(a),h.length===0},v.prototype.filterNodes=function(a){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var l=this;s.each(this._nodes,function($,F){a(F)&&h.setNode(F,$)}),s.each(this._edgeObjs,function($){h.hasNode($.v)&&h.hasNode($.w)&&h.setEdge($,l.edge($))});var x={};function Y($){var F=l.parent($);return F===void 0||h.hasNode(F)?(x[$]=F,F):F in x?x[F]:Y(F)}return this._isCompound&&s.each(h.nodes(),function($){h.setParent($,Y($))}),h},v.prototype.setDefaultEdgeLabel=function(a){return s.isFunction(a)||(a=s.constant(a)),this._defaultEdgeLabelFn=a,this},v.prototype.edgeCount=function(){return this._edgeCount},v.prototype.edges=function(){return s.values(this._edgeObjs)},v.prototype.setPath=function(a,h){var l=this,x=arguments;return s.reduce(a,function(Y,$){return x.length>1?l.setEdge(Y,$,h):l.setEdge(Y,$),$}),this},v.prototype.setEdge=function(){var a,h,l,x,Y=!1,$=arguments[0];typeof $=="object"&&$!==null&&"v"in $?(a=$.v,h=$.w,l=$.name,arguments.length===2&&(x=arguments[1],Y=!0)):(a=$,h=arguments[1],l=arguments[3],arguments.length>2&&(x=arguments[2],Y=!0)),a=""+a,h=""+h,s.isUndefined(l)||(l=""+l);var F=c(this._isDirected,a,h,l);if(s.has(this._edgeLabels,F))return Y&&(this._edgeLabels[F]=x),this;if(!s.isUndefined(l)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(h),this._edgeLabels[F]=Y?x:this._defaultEdgeLabelFn(a,h,l);var X=r(this._isDirected,a,h,l);return a=X.v,h=X.w,Object.freeze(X),this._edgeObjs[F]=X,E(this._preds[h],a),E(this._sucs[a],h),this._in[h][F]=X,this._out[a][F]=X,this._edgeCount++,this},v.prototype.edge=function(a,h,l){var x=arguments.length===1?o(this._isDirected,arguments[0]):c(this._isDirected,a,h,l);return this._edgeLabels[x]},v.prototype.hasEdge=function(a,h,l){var x=arguments.length===1?o(this._isDirected,arguments[0]):c(this._isDirected,a,h,l);return s.has(this._edgeLabels,x)},v.prototype.removeEdge=function(a,h,l){var x=arguments.length===1?o(this._isDirected,arguments[0]):c(this._isDirected,a,h,l),Y=this._edgeObjs[x];return Y&&(a=Y.v,h=Y.w,delete this._edgeLabels[x],delete this._edgeObjs[x],p(this._preds[h],a),p(this._sucs[a],h),delete this._in[h][x],delete this._out[a][x],this._edgeCount--),this},v.prototype.inEdges=function(a,h){var l=this._in[a];if(l){var x=s.values(l);return h?s.filter(x,function(Y){return Y.v===h}):x}},v.prototype.outEdges=function(a,h){var l=this._out[a];if(l){var x=s.values(l);return h?s.filter(x,function(Y){return Y.w===h}):x}},v.prototype.nodeEdges=function(a,h){var l=this.inEdges(a,h);if(l)return l.concat(this.outEdges(a,h))};function E(a,h){a[h]?a[h]++:a[h]=1}function p(a,h){--a[h]||delete a[h]}function c(a,h,l,x){var Y=""+h,$=""+l;if(!a&&Y>$){var F=Y;Y=$,$=F}return Y+D+$+D+(s.isUndefined(x)?I:x)}function r(a,h,l,x){var Y=""+h,$=""+l;if(!a&&Y>$){var F=Y;Y=$,$=F}var X={v:Y,w:$};return x&&(X.name=x),X}function o(a,h){return c(a,h.v,h.w,h.name)}},82354:function(G,tt,i){G.exports={Graph:i(30771),version:i(49631)}},28974:function(G,tt,i){var s=i(89126),I=i(30771);G.exports={write:y,read:E};function y(p){var c={options:{directed:p.isDirected(),multigraph:p.isMultigraph(),compound:p.isCompound()},nodes:D(p),edges:v(p)};return s.isUndefined(p.graph())||(c.value=s.clone(p.graph())),c}function D(p){return s.map(p.nodes(),function(c){var r=p.node(c),o=p.parent(c),a={v:c};return s.isUndefined(r)||(a.value=r),s.isUndefined(o)||(a.parent=o),a})}function v(p){return s.map(p.edges(),function(c){var r=p.edge(c),o={v:c.v,w:c.w};return s.isUndefined(c.name)||(o.name=c.name),s.isUndefined(r)||(o.value=r),o})}function E(p){var c=new I(p.options).setGraph(p.value);return s.each(p.nodes,function(r){c.setNode(r.v,r.value),r.parent&&c.setParent(r.v,r.parent)}),s.each(p.edges,function(r){c.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),c}},89126:function(G,tt,i){var s;try{s={clone:i(66678),constant:i(75703),each:i(66073),filter:i(63105),has:i(18721),isArray:i(1469),isEmpty:i(41609),isFunction:i(23560),isUndefined:i(52353),keys:i(3674),map:i(35161),reduce:i(54061),size:i(84238),transform:i(68718),union:i(93386),values:i(52628)}}catch(I){}s||(s=window._),G.exports=s},49631:function(G){G.exports="2.1.8"},44091:function(G,tt,i){"use strict";i.r(tt),i.d(tt,{isAnyArray:function(){return I}});const s=Object.prototype.toString;function I(y){const D=s.call(y);return D.endsWith("Array]")&&!D.includes("Big")}},47443:function(G,tt,i){var s=i(42118);function I(y,D){var v=y==null?0:y.length;return!!v&&s(y,D,0)>-1}G.exports=I},1196:function(G){function tt(i,s,I){for(var y=-1,D=i==null?0:i.length;++y<D;)if(I(s,i[y]))return!0;return!1}G.exports=tt},48983:function(G,tt,i){var s=i(40371),I=s("length");G.exports=I},56029:function(G,tt,i){var s=i(33448);function I(y,D,v){for(var E=-1,p=y.length;++E<p;){var c=y[E],r=D(c);if(r!=null&&(o===void 0?r===r&&!s(r):v(r,o)))var o=r,a=c}return a}G.exports=I},80760:function(G,tt,i){var s=i(89881);function I(y,D){var v=[];return s(y,function(E,p,c){D(E,p,c)&&v.push(E)}),v}G.exports=I},41848:function(G){function tt(i,s,I,y){for(var D=i.length,v=I+(y?1:-1);y?v--:++v<D;)if(s(i[v],v,i))return v;return-1}G.exports=tt},21078:function(G,tt,i){var s=i(62488),I=i(37285);function y(D,v,E,p,c){var r=-1,o=D.length;for(E||(E=I),c||(c=[]);++r<o;){var a=D[r];v>0&&E(a)?v>1?y(a,v-1,E,p,c):s(c,a):p||(c[c.length]=a)}return c}G.exports=y},53325:function(G){function tt(i,s){return i>s}G.exports=tt},78565:function(G){var tt=Object.prototype,i=tt.hasOwnProperty;function s(I,y){return I!=null&&i.call(I,y)}G.exports=s},42118:function(G,tt,i){var s=i(41848),I=i(62722),y=i(39375);function D(v,E,p){return E===E?y(v,E,p):s(v,I,p)}G.exports=D},62722:function(G){function tt(i){return i!==i}G.exports=tt},70433:function(G){function tt(i,s){return i<s}G.exports=tt},82689:function(G,tt,i){var s=i(29932),I=i(97786),y=i(67206),D=i(69199),v=i(71131),E=i(51717),p=i(85022),c=i(6557),r=i(1469);function o(a,h,l){h.length?h=s(h,function($){return r($)?function(F){return I(F,$.length===1?$[0]:$)}:$}):h=[c];var x=-1;h=s(h,E(y));var Y=D(a,function($,F,X){var j=s(h,function(J){return J($)});return{criteria:j,index:++x,value:$}});return v(Y,function($,F){return p($,F,l)})}G.exports=o},25970:function(G,tt,i){var s=i(63012),I=i(79095);function y(D,v){return s(D,v,function(E,p){return I(D,p)})}G.exports=y},63012:function(G,tt,i){var s=i(97786),I=i(10611),y=i(71811);function D(v,E,p){for(var c=-1,r=E.length,o={};++c<r;){var a=E[c],h=s(v,a);p(h,a)&&I(o,y(a,v),h)}return o}G.exports=D},40098:function(G){var tt=Math.ceil,i=Math.max;function s(I,y,D,v){for(var E=-1,p=i(tt((y-I)/(D||1)),0),c=Array(p);p--;)c[v?p:++E]=I,I+=D;return c}G.exports=s},10107:function(G){function tt(i,s,I,y,D){return D(i,function(v,E,p){I=y?(y=!1,v):s(I,v,E,p)}),I}G.exports=tt},10611:function(G,tt,i){var s=i(34865),I=i(71811),y=i(65776),D=i(13218),v=i(40327);function E(p,c,r,o){if(!D(p))return p;c=I(c,p);for(var a=-1,h=c.length,l=h-1,x=p;x!=null&&++a<h;){var Y=v(c[a]),$=r;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return p;if(a!=l){var F=x[Y];$=o?o(F,Y,x):void 0,$===void 0&&($=D(F)?F:y(c[a+1])?[]:{})}s(x,Y,$),x=x[Y]}return p}G.exports=E},71131:function(G){function tt(i,s){var I=i.length;for(i.sort(s);I--;)i[I]=i[I].value;return i}G.exports=tt},45652:function(G,tt,i){var s=i(88668),I=i(47443),y=i(1196),D=i(74757),v=i(23593),E=i(21814),p=200;function c(r,o,a){var h=-1,l=I,x=r.length,Y=!0,$=[],F=$;if(a)Y=!1,l=y;else if(x>=p){var X=o?null:v(r);if(X)return E(X);Y=!1,l=D,F=new s}else F=o?[]:$;t:for(;++h<x;){var j=r[h],J=o?o(j):j;if(j=a||j!==0?j:0,Y&&J===J){for(var L=F.length;L--;)if(F[L]===J)continue t;o&&F.push(J),$.push(j)}else l(F,J,a)||(F!==$&&F.push(J),$.push(j))}return $}G.exports=c},47415:function(G,tt,i){var s=i(29932);function I(y,D){return s(D,function(v){return y[v]})}G.exports=I},1757:function(G){function tt(i,s,I){for(var y=-1,D=i.length,v=s.length,E={};++y<D;){var p=y<v?s[y]:void 0;I(E,i[y],p)}return E}G.exports=tt},26393:function(G,tt,i){var s=i(33448);function I(y,D){if(y!==D){var v=y!==void 0,E=y===null,p=y===y,c=s(y),r=D!==void 0,o=D===null,a=D===D,h=s(D);if(!o&&!h&&!c&&y>D||c&&r&&a&&!o&&!h||E&&r&&a||!v&&a||!p)return 1;if(!E&&!c&&!h&&y<D||h&&v&&p&&!E&&!c||o&&v&&p||!r&&p||!a)return-1}return 0}G.exports=I},85022:function(G,tt,i){var s=i(26393);function I(y,D,v){for(var E=-1,p=y.criteria,c=D.criteria,r=p.length,o=v.length;++E<r;){var a=s(p[E],c[E]);if(a){if(E>=o)return a;var h=v[E];return a*(h=="desc"?-1:1)}}return y.index-D.index}G.exports=I},67740:function(G,tt,i){var s=i(67206),I=i(98612),y=i(3674);function D(v){return function(E,p,c){var r=Object(E);if(!I(E)){var o=s(p,3);E=y(E),p=function(h){return o(r[h],h,r)}}var a=v(E,p,c);return a>-1?r[o?E[a]:a]:void 0}}G.exports=D},47445:function(G,tt,i){var s=i(40098),I=i(16612),y=i(18601);function D(v){return function(E,p,c){return c&&typeof c!="number"&&I(E,p,c)&&(p=c=void 0),E=y(E),p===void 0?(p=E,E=0):p=y(p),c=c===void 0?E<p?1:-1:y(c),s(E,p,c,v)}}G.exports=D},23593:function(G,tt,i){var s=i(58525),I=i(28117),y=i(21814),D=1/0,v=s&&1/y(new s([,-0]))[1]==D?function(E){return new s(E)}:I;G.exports=v},99021:function(G,tt,i){var s=i(85564),I=i(45357),y=i(30061);function D(v){return y(I(v,void 0,s),v+"")}G.exports=D},37285:function(G,tt,i){var s=i(62705),I=i(35694),y=i(1469),D=s?s.isConcatSpreadable:void 0;function v(E){return y(E)||I(E)||!!(D&&E&&E[D])}G.exports=v},39375:function(G){function tt(i,s,I){for(var y=I-1,D=i.length;++y<D;)if(i[y]===s)return y;return-1}G.exports=tt},88016:function(G,tt,i){var s=i(48983),I=i(62689),y=i(21903);function D(v){return I(v)?y(v):s(v)}G.exports=D},21903:function(G){var tt="\\ud800-\\udfff",i="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",I="\\u20d0-\\u20ff",y=i+s+I,D="\\ufe0e\\ufe0f",v="["+tt+"]",E="["+y+"]",p="\\ud83c[\\udffb-\\udfff]",c="(?:"+E+"|"+p+")",r="[^"+tt+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",l=c+"?",x="["+D+"]?",Y="(?:"+h+"(?:"+[r,o,a].join("|")+")"+x+l+")*",$=x+l+Y,F="(?:"+[r+E+"?",E,o,a,v].join("|")+")",X=RegExp(p+"(?="+p+")|"+F+$,"g");function j(J){for(var L=X.lastIndex=0;X.test(J);)++L;return L}G.exports=j},66678:function(G,tt,i){var s=i(85990),I=4;function y(D){return s(D,I)}G.exports=y},91747:function(G,tt,i){var s=i(5976),I=i(77813),y=i(16612),D=i(81704),v=Object.prototype,E=v.hasOwnProperty,p=s(function(c,r){c=Object(c);var o=-1,a=r.length,h=a>2?r[2]:void 0;for(h&&y(r[0],r[1],h)&&(a=1);++o<a;)for(var l=r[o],x=D(l),Y=-1,$=x.length;++Y<$;){var F=x[Y],X=c[F];(X===void 0||I(X,v[F])&&!E.call(c,F))&&(c[F]=l[F])}return c});G.exports=p},63105:function(G,tt,i){var s=i(34963),I=i(80760),y=i(67206),D=i(1469);function v(E,p){var c=D(E)?s:I;return c(E,y(p,3))}G.exports=v},13311:function(G,tt,i){var s=i(67740),I=i(30998),y=s(I);G.exports=y},30998:function(G,tt,i){var s=i(41848),I=i(67206),y=i(40554),D=Math.max;function v(E,p,c){var r=E==null?0:E.length;if(!r)return-1;var o=c==null?0:y(c);return o<0&&(o=D(r+o,0)),s(E,I(p,3),o)}G.exports=v},85564:function(G,tt,i){var s=i(21078);function I(y){var D=y==null?0:y.length;return D?s(y,1):[]}G.exports=I},62620:function(G,tt,i){var s=i(28483),I=i(54290),y=i(81704);function D(v,E){return v==null?v:s(v,I(E),y)}G.exports=D},18721:function(G,tt,i){var s=i(78565),I=i(222);function y(D,v){return D!=null&&I(D,v,s)}G.exports=y},41609:function(G,tt,i){var s=i(280),I=i(64160),y=i(35694),D=i(1469),v=i(98612),E=i(44144),p=i(25726),c=i(36719),r="[object Map]",o="[object Set]",a=Object.prototype,h=a.hasOwnProperty;function l(x){if(x==null)return!0;if(v(x)&&(D(x)||typeof x=="string"||typeof x.splice=="function"||E(x)||c(x)||y(x)))return!x.length;var Y=I(x);if(Y==r||Y==o)return!x.size;if(p(x))return!s(x).length;for(var $ in x)if(h.call(x,$))return!1;return!0}G.exports=l},52353:function(G){function tt(i){return i===void 0}G.exports=tt},10928:function(G){function tt(i){var s=i==null?0:i.length;return s?i[s-1]:void 0}G.exports=tt},66604:function(G,tt,i){var s=i(89465),I=i(47816),y=i(67206);function D(v,E){var p={};return E=y(E,3),I(v,function(c,r,o){s(p,r,E(c,r,o))}),p}G.exports=D},6162:function(G,tt,i){var s=i(56029),I=i(53325),y=i(6557);function D(v){return v&&v.length?s(v,y,I):void 0}G.exports=D},53632:function(G,tt,i){var s=i(56029),I=i(70433),y=i(6557);function D(v){return v&&v.length?s(v,y,I):void 0}G.exports=D},22762:function(G,tt,i){var s=i(56029),I=i(67206),y=i(70433);function D(v,E){return v&&v.length?s(v,I(E,2),y):void 0}G.exports=D},28117:function(G){function tt(){}G.exports=tt},78718:function(G,tt,i){var s=i(25970),I=i(99021),y=I(function(D,v){return D==null?{}:s(D,v)});G.exports=y},96026:function(G,tt,i){var s=i(47445),I=s();G.exports=I},54061:function(G,tt,i){var s=i(62663),I=i(89881),y=i(67206),D=i(10107),v=i(1469);function E(p,c,r){var o=v(p)?s:D,a=arguments.length<3;return o(p,y(c,4),r,a,I)}G.exports=E},84238:function(G,tt,i){var s=i(280),I=i(64160),y=i(98612),D=i(47037),v=i(88016),E="[object Map]",p="[object Set]";function c(r){if(r==null)return 0;if(y(r))return D(r)?v(r):r.length;var o=I(r);return o==E||o==p?r.size:s(r).length}G.exports=c},89734:function(G,tt,i){var s=i(21078),I=i(82689),y=i(5976),D=i(16612),v=y(function(E,p){if(E==null)return[];var c=p.length;return c>1&&D(E,p[0],p[1])?p=[]:c>2&&D(p[0],p[1],p[2])&&(p=[p[0]]),I(E,s(p,1),[])});G.exports=v},18601:function(G,tt,i){var s=i(14841),I=1/0,y=17976931348623157e292;function D(v){if(!v)return v===0?v:0;if(v=s(v),v===I||v===-I){var E=v<0?-1:1;return E*y}return v===v?v:0}G.exports=D},40554:function(G,tt,i){var s=i(18601);function I(y){var D=s(y),v=D%1;return D===D?v?D-v:D:0}G.exports=I},68718:function(G,tt,i){var s=i(77412),I=i(3118),y=i(47816),D=i(67206),v=i(85924),E=i(1469),p=i(44144),c=i(23560),r=i(13218),o=i(36719);function a(h,l,x){var Y=E(h),$=Y||p(h)||o(h);if(l=D(l,4),x==null){var F=h&&h.constructor;$?x=Y?new F:[]:r(h)?x=c(F)?I(v(h)):{}:x={}}return($?s:y)(h,function(X,j,J){return l(x,X,j,J)}),x}G.exports=a},93386:function(G,tt,i){var s=i(21078),I=i(5976),y=i(45652),D=i(29246),v=I(function(E){return y(s(E,1,D,!0))});G.exports=v},73955:function(G,tt,i){var s=i(79833),I=0;function y(D){var v=++I;return s(D)+v}G.exports=y},52628:function(G,tt,i){var s=i(47415),I=i(3674);function y(D){return D==null?[]:s(D,I(D))}G.exports=y},7287:function(G,tt,i){var s=i(34865),I=i(1757);function y(D,v){return I(D||[],v||[],s)}G.exports=y},75823:function(G,tt,i){"use strict";i.r(tt),i.d(tt,{default:function(){return D}});var s=i(44091);function I(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,s.isAnyArray)(v))throw new TypeError("input must be an array");if(v.length===0)throw new TypeError("input must not be empty");var p=E.fromIndex,c=p===void 0?0:p,r=E.toIndex,o=r===void 0?v.length:r;if(c<0||c>=v.length||!Number.isInteger(c))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=c||o>v.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=v[c],h=c+1;h<o;h++)v[h]>a&&(a=v[h]);return a}function y(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,s.isAnyArray)(v))throw new TypeError("input must be an array");if(v.length===0)throw new TypeError("input must not be empty");var p=E.fromIndex,c=p===void 0?0:p,r=E.toIndex,o=r===void 0?v.length:r;if(c<0||c>=v.length||!Number.isInteger(c))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=c||o>v.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=v[c],h=c+1;h<o;h++)v[h]<a&&(a=v[h]);return a}function D(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,s.isAnyArray)(v)){if(v.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var p;if(E.output!==void 0){if(!(0,s.isAnyArray)(E.output))throw new TypeError("output option must be an array if specified");p=E.output}else p=new Array(v.length);var c=y(v),r=I(v);if(c===r)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=E.min,a=o===void 0?E.autoMinMax?c:0:o,h=E.max,l=h===void 0?E.autoMinMax?r:1:h;if(a>=l)throw new RangeError("min option must be smaller than max option");for(var x=(l-a)/(r-c),Y=0;Y<v.length;Y++)p[Y]=(v[Y]-c)*x+a;return p}},97235:function(G){function tt(i,s){if(s.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}G.exports=tt,G.exports.__esModule=!0,G.exports.default=G.exports},28771:function(G){function tt(i,s){return s.get?s.get.call(i):s.value}G.exports=tt,G.exports.__esModule=!0,G.exports.default=G.exports},40008:function(G){function tt(i,s,I){if(s.set)s.set.call(i,I);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=I}}G.exports=tt,G.exports.__esModule=!0,G.exports.default=G.exports},56194:function(G){function tt(i,s,I){if(!s.has(i))throw new TypeError("attempted to "+I+" private field on non-instance");return s.get(i)}G.exports=tt,G.exports.__esModule=!0,G.exports.default=G.exports},98637:function(G,tt,i){var s=i(28771),I=i(56194);function y(D,v){var E=I(D,v,"get");return s(D,E)}G.exports=y,G.exports.__esModule=!0,G.exports.default=G.exports},29777:function(G,tt,i){var s=i(97235);function I(y,D,v){s(y,D),D.set(y,v)}G.exports=I,G.exports.__esModule=!0,G.exports.default=G.exports},25457:function(G,tt,i){var s=i(40008),I=i(56194);function y(D,v,E){var p=I(D,v,"set");return s(D,p,E),E}G.exports=y,G.exports.__esModule=!0,G.exports.default=G.exports},74978:function(G){function tt(i,s,I){if(!s.has(i))throw new TypeError("attempted to get private field on non-instance");return I}G.exports=tt,G.exports.__esModule=!0,G.exports.default=G.exports},80363:function(G,tt,i){var s=i(97235);function I(y,D){s(y,D),D.add(y)}G.exports=I,G.exports.__esModule=!0,G.exports.default=G.exports},64599:function(G,tt,i){var s=i(96263);function I(y,D){var v=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(!v){if(Array.isArray(y)||(v=s(y))||D&&y&&typeof y.length=="number"){v&&(y=v);var E=0,p=function(){};return{s:p,n:function(){return E>=y.length?{done:!0}:{done:!1,value:y[E++]}},e:function(h){throw h},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,r=!1,o;return{s:function(){v=v.call(y)},n:function(){var h=v.next();return c=h.done,h},e:function(h){r=!0,o=h},f:function(){try{!c&&v.return!=null&&v.return()}finally{if(r)throw o}}}}G.exports=I,G.exports.__esModule=!0,G.exports.default=G.exports},28785:function(G,tt,i){var s=i(70426);function I(){return typeof Reflect!="undefined"&&Reflect.get?(G.exports=I=Reflect.get.bind(),G.exports.__esModule=!0,G.exports.default=G.exports):(G.exports=I=function(D,v,E){var p=s(D,v);if(p){var c=Object.getOwnPropertyDescriptor(p,v);return c.get?c.get.call(arguments.length<3?D:E):c.value}},G.exports.__esModule=!0,G.exports.default=G.exports),I.apply(this,arguments)}G.exports=I,G.exports.__esModule=!0,G.exports.default=G.exports},70426:function(G,tt,i){var s=i(48374);function I(y,D){for(;!Object.prototype.hasOwnProperty.call(y,D)&&(y=s(y),y!==null););return y}G.exports=I,G.exports.__esModule=!0,G.exports.default=G.exports},86999:function(G,tt){"use strict";var i={value:function(){}};function s(){for(var E=0,p=arguments.length,c={},r;E<p;++E){if(!(r=arguments[E]+"")||r in c||/[\s.]/.test(r))throw new Error("illegal type: "+r);c[r]=[]}return new I(c)}function I(E){this._=E}function y(E,p){return E.trim().split(/^|\s+/).map(function(c){var r="",o=c.indexOf(".");if(o>=0&&(r=c.slice(o+1),c=c.slice(0,o)),c&&!p.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:r}})}I.prototype=s.prototype={constructor:I,on:function(p,c){var r=this._,o=y(p+"",r),a,h=-1,l=o.length;if(arguments.length<2){for(;++h<l;)if((a=(p=o[h]).type)&&(a=D(r[a],p.name)))return a;return}if(c!=null&&typeof c!="function")throw new Error("invalid callback: "+c);for(;++h<l;)if(a=(p=o[h]).type)r[a]=v(r[a],p.name,c);else if(c==null)for(a in r)r[a]=v(r[a],p.name,null);return this},copy:function(){var p={},c=this._;for(var r in c)p[r]=c[r].slice();return new I(p)},call:function(p,c){if((a=arguments.length-2)>0)for(var r=new Array(a),o=0,a,h;o<a;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(h=this._[p],o=0,a=h.length;o<a;++o)h[o].value.apply(c,r)},apply:function(p,c,r){if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(var o=this._[p],a=0,h=o.length;a<h;++a)o[a].value.apply(c,r)}};function D(E,p){for(var c=0,r=E.length,o;c<r;++c)if((o=E[c]).name===p)return o.value}function v(E,p,c){for(var r=0,o=E.length;r<o;++r)if(E[r].name===p){E[r]=i,E=E.slice(0,r).concat(E.slice(r+1));break}return c!=null&&E.push({name:p,value:c}),E}tt.Z=s},7137:function(G,tt,i){"use strict";i.d(tt,{Sc:function(){return V},y3:function(){return o}});var s=i(61076),I=s.XA,y=s.a_,D=s.yQ,v=s.Hs,E=s.Ec,p=s.dx,c=s.LU,r=s.Rm,o=s.y3,a=s.qK,h=s.pb,l=s.j,x=s.sO,Y=s.BZ,$=s.EK,F=s.Db,X=s.Fx,j=s.tU,J=s.Ym,L=s.rs,T=s.QR,P=s.TB,U=s.oH,V=s.Sc,B=s.BN,M=s.it,k=s.$r,K=s.QM,z=s.AV,O=(s.y3,s.y3),C=s.GH,Q=s.SO,H=s.uZ,q=s.yU,ot=s.F1,ht=s.re},30423:function(G,tt,i){"use strict";i.d(tt,{Z:function(){return P}});function s(M){const k=+this._x.call(null,M),K=+this._y.call(null,M),z=+this._z.call(null,M);return I(this.cover(k,K,z),k,K,z,M)}function I(M,k,K,z,O){if(isNaN(k)||isNaN(K)||isNaN(z))return M;var C,Q=M._root,H={data:O},q=M._x0,ot=M._y0,ht=M._z0,nt=M._x1,gt=M._y1,it=M._z1,_,ft,lt,at,Mt,vt,yt,xt,St,It,At;if(!Q)return M._root=H,M;for(;Q.length;)if((yt=k>=(_=(q+nt)/2))?q=_:nt=_,(xt=K>=(ft=(ot+gt)/2))?ot=ft:gt=ft,(St=z>=(lt=(ht+it)/2))?ht=lt:it=lt,C=Q,!(Q=Q[It=St<<2|xt<<1|yt]))return C[It]=H,M;if(at=+M._x.call(null,Q.data),Mt=+M._y.call(null,Q.data),vt=+M._z.call(null,Q.data),k===at&&K===Mt&&z===vt)return H.next=Q,C?C[It]=H:M._root=H,M;do C=C?C[It]=new Array(8):M._root=new Array(8),(yt=k>=(_=(q+nt)/2))?q=_:nt=_,(xt=K>=(ft=(ot+gt)/2))?ot=ft:gt=ft,(St=z>=(lt=(ht+it)/2))?ht=lt:it=lt;while((It=St<<2|xt<<1|yt)===(At=(vt>=lt)<<2|(Mt>=ft)<<1|at>=_));return C[At]=Q,C[It]=H,M}function y(M){Array.isArray(M)||(M=Array.from(M));const k=M.length,K=new Float64Array(k),z=new Float64Array(k),O=new Float64Array(k);let C=1/0,Q=1/0,H=1/0,q=-1/0,ot=-1/0,ht=-1/0;for(let nt=0,gt,it,_,ft;nt<k;++nt)isNaN(it=+this._x.call(null,gt=M[nt]))||isNaN(_=+this._y.call(null,gt))||isNaN(ft=+this._z.call(null,gt))||(K[nt]=it,z[nt]=_,O[nt]=ft,it<C&&(C=it),it>q&&(q=it),_<Q&&(Q=_),_>ot&&(ot=_),ft<H&&(H=ft),ft>ht&&(ht=ft));if(C>q||Q>ot||H>ht)return this;this.cover(C,Q,H).cover(q,ot,ht);for(let nt=0;nt<k;++nt)I(this,K[nt],z[nt],O[nt],M[nt]);return this}function D(M,k,K){if(isNaN(M=+M)||isNaN(k=+k)||isNaN(K=+K))return this;var z=this._x0,O=this._y0,C=this._z0,Q=this._x1,H=this._y1,q=this._z1;if(isNaN(z))Q=(z=Math.floor(M))+1,H=(O=Math.floor(k))+1,q=(C=Math.floor(K))+1;else{for(var ot=Q-z||1,ht=this._root,nt,gt;z>M||M>=Q||O>k||k>=H||C>K||K>=q;)switch(gt=(K<C)<<2|(k<O)<<1|M<z,nt=new Array(8),nt[gt]=ht,ht=nt,ot*=2,gt){case 0:Q=z+ot,H=O+ot,q=C+ot;break;case 1:z=Q-ot,H=O+ot,q=C+ot;break;case 2:Q=z+ot,O=H-ot,q=C+ot;break;case 3:z=Q-ot,O=H-ot,q=C+ot;break;case 4:Q=z+ot,H=O+ot,C=q-ot;break;case 5:z=Q-ot,H=O+ot,C=q-ot;break;case 6:Q=z+ot,O=H-ot,C=q-ot;break;case 7:z=Q-ot,O=H-ot,C=q-ot;break}this._root&&this._root.length&&(this._root=ht)}return this._x0=z,this._y0=O,this._z0=C,this._x1=Q,this._y1=H,this._z1=q,this}function v(){var M=[];return this.visit(function(k){if(!k.length)do M.push(k.data);while(k=k.next)}),M}function E(M){return arguments.length?this.cover(+M[0][0],+M[0][1],+M[0][2]).cover(+M[1][0],+M[1][1],+M[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function p(M,k,K,z,O,C,Q){this.node=M,this.x0=k,this.y0=K,this.z0=z,this.x1=O,this.y1=C,this.z1=Q}function c(M,k,K,z){var O,C=this._x0,Q=this._y0,H=this._z0,q,ot,ht,nt,gt,it,_=this._x1,ft=this._y1,lt=this._z1,at=[],Mt=this._root,vt,yt;for(Mt&&at.push(new p(Mt,C,Q,H,_,ft,lt)),z==null?z=1/0:(C=M-z,Q=k-z,H=K-z,_=M+z,ft=k+z,lt=K+z,z*=z);vt=at.pop();)if(!(!(Mt=vt.node)||(q=vt.x0)>_||(ot=vt.y0)>ft||(ht=vt.z0)>lt||(nt=vt.x1)<C||(gt=vt.y1)<Q||(it=vt.z1)<H))if(Mt.length){var xt=(q+nt)/2,St=(ot+gt)/2,It=(ht+it)/2;at.push(new p(Mt[7],xt,St,It,nt,gt,it),new p(Mt[6],q,St,It,xt,gt,it),new p(Mt[5],xt,ot,It,nt,St,it),new p(Mt[4],q,ot,It,xt,St,it),new p(Mt[3],xt,St,ht,nt,gt,It),new p(Mt[2],q,St,ht,xt,gt,It),new p(Mt[1],xt,ot,ht,nt,St,It),new p(Mt[0],q,ot,ht,xt,St,It)),(yt=(K>=It)<<2|(k>=St)<<1|M>=xt)&&(vt=at[at.length-1],at[at.length-1]=at[at.length-1-yt],at[at.length-1-yt]=vt)}else{var At=M-+this._x.call(null,Mt.data),Xt=k-+this._y.call(null,Mt.data),_t=K-+this._z.call(null,Mt.data),ee=At*At+Xt*Xt+_t*_t;if(ee<z){var Kt=Math.sqrt(z=ee);C=M-Kt,Q=k-Kt,H=K-Kt,_=M+Kt,ft=k+Kt,lt=K+Kt,O=Mt.data}}return O}const r=(M,k,K,z,O,C)=>Math.sqrt(Ln(M-z,2)+Ln(k-O,2)+Ln(K-C,2));function o(M,k,K,z){const O=[],C=M-z,Q=k-z,H=K-z,q=M+z,ot=k+z,ht=K+z;return this.visit((nt,gt,it,_,ft,lt,at)=>{if(!nt.length)do{const Mt=nt.data;r(M,k,K,this._x(Mt),this._y(Mt),this._z(Mt))<=z&&O.push(Mt)}while(nt=nt.next);return gt>q||it>ot||_>ht||ft<C||lt<Q||at<H}),O}function a(M){if(isNaN(gt=+this._x.call(null,M))||isNaN(it=+this._y.call(null,M))||isNaN(_=+this._z.call(null,M)))return this;var k,K=this._root,z,O,C,Q=this._x0,H=this._y0,q=this._z0,ot=this._x1,ht=this._y1,nt=this._z1,gt,it,_,ft,lt,at,Mt,vt,yt,xt,St;if(!K)return this;if(K.length)for(;;){if((Mt=gt>=(ft=(Q+ot)/2))?Q=ft:ot=ft,(vt=it>=(lt=(H+ht)/2))?H=lt:ht=lt,(yt=_>=(at=(q+nt)/2))?q=at:nt=at,k=K,!(K=K[xt=yt<<2|vt<<1|Mt]))return this;if(!K.length)break;(k[xt+1&7]||k[xt+2&7]||k[xt+3&7]||k[xt+4&7]||k[xt+5&7]||k[xt+6&7]||k[xt+7&7])&&(z=k,St=xt)}for(;K.data!==M;)if(O=K,!(K=K.next))return this;return(C=K.next)&&delete K.next,O?(C?O.next=C:delete O.next,this):k?(C?k[xt]=C:delete k[xt],(K=k[0]||k[1]||k[2]||k[3]||k[4]||k[5]||k[6]||k[7])&&K===(k[7]||k[6]||k[5]||k[4]||k[3]||k[2]||k[1]||k[0])&&!K.length&&(z?z[St]=K:this._root=K),this):(this._root=C,this)}function h(M){for(var k=0,K=M.length;k<K;++k)this.remove(M[k]);return this}function l(){return this._root}function x(){var M=0;return this.visit(function(k){if(!k.length)do++M;while(k=k.next)}),M}function Y(M){var k=[],K,z=this._root,O,C,Q,H,q,ot,ht;for(z&&k.push(new p(z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));K=k.pop();)if(!M(z=K.node,C=K.x0,Q=K.y0,H=K.z0,q=K.x1,ot=K.y1,ht=K.z1)&&z.length){var nt=(C+q)/2,gt=(Q+ot)/2,it=(H+ht)/2;(O=z[7])&&k.push(new p(O,nt,gt,it,q,ot,ht)),(O=z[6])&&k.push(new p(O,C,gt,it,nt,ot,ht)),(O=z[5])&&k.push(new p(O,nt,Q,it,q,gt,ht)),(O=z[4])&&k.push(new p(O,C,Q,it,nt,gt,ht)),(O=z[3])&&k.push(new p(O,nt,gt,H,q,ot,it)),(O=z[2])&&k.push(new p(O,C,gt,H,nt,ot,it)),(O=z[1])&&k.push(new p(O,nt,Q,H,q,gt,it)),(O=z[0])&&k.push(new p(O,C,Q,H,nt,gt,it))}return this}function $(M){var k=[],K=[],z;for(this._root&&k.push(new p(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));z=k.pop();){var O=z.node;if(O.length){var C,Q=z.x0,H=z.y0,q=z.z0,ot=z.x1,ht=z.y1,nt=z.z1,gt=(Q+ot)/2,it=(H+ht)/2,_=(q+nt)/2;(C=O[0])&&k.push(new p(C,Q,H,q,gt,it,_)),(C=O[1])&&k.push(new p(C,gt,H,q,ot,it,_)),(C=O[2])&&k.push(new p(C,Q,it,q,gt,ht,_)),(C=O[3])&&k.push(new p(C,gt,it,q,ot,ht,_)),(C=O[4])&&k.push(new p(C,Q,H,_,gt,it,nt)),(C=O[5])&&k.push(new p(C,gt,H,_,ot,it,nt)),(C=O[6])&&k.push(new p(C,Q,it,_,gt,ht,nt)),(C=O[7])&&k.push(new p(C,gt,it,_,ot,ht,nt))}K.push(z)}for(;z=K.pop();)M(z.node,z.x0,z.y0,z.z0,z.x1,z.y1,z.z1);return this}function F(M){return M[0]}function X(M){return arguments.length?(this._x=M,this):this._x}function j(M){return M[1]}function J(M){return arguments.length?(this._y=M,this):this._y}function L(M){return M[2]}function T(M){return arguments.length?(this._z=M,this):this._z}function P(M,k,K,z){var O=new U(k==null?F:k,K==null?j:K,z==null?L:z,NaN,NaN,NaN,NaN,NaN,NaN);return M==null?O:O.addAll(M)}function U(M,k,K,z,O,C,Q,H,q){this._x=M,this._y=k,this._z=K,this._x0=z,this._y0=O,this._z0=C,this._x1=Q,this._y1=H,this._z1=q,this._root=void 0}function V(M){for(var k={data:M.data},K=k;M=M.next;)K=K.next={data:M.data};return k}var B=P.prototype=U.prototype;B.copy=function(){var M=new U(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),k=this._root,K,z;if(!k)return M;if(!k.length)return M._root=V(k),M;for(K=[{source:k,target:M._root=new Array(8)}];k=K.pop();)for(var O=0;O<8;++O)(z=k.source[O])&&(z.length?K.push({source:z,target:k.target[O]=new Array(8)}):k.target[O]=V(z));return M},B.add=s,B.addAll=y,B.cover=D,B.data=v,B.extent=E,B.find=c,B.findAllWithinRadius=o,B.remove=a,B.removeAll=h,B.root=l,B.size=x,B.visit=Y,B.visitAfter=$,B.x=X,B.y=J,B.z=T},81269:function(G,tt,i){"use strict";i.d(tt,{Z:function(){return j}});function s(P){const U=+this._x.call(null,P),V=+this._y.call(null,P);return I(this.cover(U,V),U,V,P)}function I(P,U,V,B){if(isNaN(U)||isNaN(V))return P;var M,k=P._root,K={data:B},z=P._x0,O=P._y0,C=P._x1,Q=P._y1,H,q,ot,ht,nt,gt,it,_;if(!k)return P._root=K,P;for(;k.length;)if((nt=U>=(H=(z+C)/2))?z=H:C=H,(gt=V>=(q=(O+Q)/2))?O=q:Q=q,M=k,!(k=k[it=gt<<1|nt]))return M[it]=K,P;if(ot=+P._x.call(null,k.data),ht=+P._y.call(null,k.data),U===ot&&V===ht)return K.next=k,M?M[it]=K:P._root=K,P;do M=M?M[it]=new Array(4):P._root=new Array(4),(nt=U>=(H=(z+C)/2))?z=H:C=H,(gt=V>=(q=(O+Q)/2))?O=q:Q=q;while((it=gt<<1|nt)===(_=(ht>=q)<<1|ot>=H));return M[_]=k,M[it]=K,P}function y(P){var U,V,B=P.length,M,k,K=new Array(B),z=new Array(B),O=1/0,C=1/0,Q=-1/0,H=-1/0;for(V=0;V<B;++V)isNaN(M=+this._x.call(null,U=P[V]))||isNaN(k=+this._y.call(null,U))||(K[V]=M,z[V]=k,M<O&&(O=M),M>Q&&(Q=M),k<C&&(C=k),k>H&&(H=k));if(O>Q||C>H)return this;for(this.cover(O,C).cover(Q,H),V=0;V<B;++V)I(this,K[V],z[V],P[V]);return this}function D(P,U){if(isNaN(P=+P)||isNaN(U=+U))return this;var V=this._x0,B=this._y0,M=this._x1,k=this._y1;if(isNaN(V))M=(V=Math.floor(P))+1,k=(B=Math.floor(U))+1;else{for(var K=M-V||1,z=this._root,O,C;V>P||P>=M||B>U||U>=k;)switch(C=(U<B)<<1|P<V,O=new Array(4),O[C]=z,z=O,K*=2,C){case 0:M=V+K,k=B+K;break;case 1:V=M-K,k=B+K;break;case 2:M=V+K,B=k-K;break;case 3:V=M-K,B=k-K;break}this._root&&this._root.length&&(this._root=z)}return this._x0=V,this._y0=B,this._x1=M,this._y1=k,this}function v(){var P=[];return this.visit(function(U){if(!U.length)do P.push(U.data);while(U=U.next)}),P}function E(P){return arguments.length?this.cover(+P[0][0],+P[0][1]).cover(+P[1][0],+P[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(P,U,V,B,M){this.node=P,this.x0=U,this.y0=V,this.x1=B,this.y1=M}function c(P,U,V){var B,M=this._x0,k=this._y0,K,z,O,C,Q=this._x1,H=this._y1,q=[],ot=this._root,ht,nt;for(ot&&q.push(new p(ot,M,k,Q,H)),V==null?V=1/0:(M=P-V,k=U-V,Q=P+V,H=U+V,V*=V);ht=q.pop();)if(!(!(ot=ht.node)||(K=ht.x0)>Q||(z=ht.y0)>H||(O=ht.x1)<M||(C=ht.y1)<k))if(ot.length){var gt=(K+O)/2,it=(z+C)/2;q.push(new p(ot[3],gt,it,O,C),new p(ot[2],K,it,gt,C),new p(ot[1],gt,z,O,it),new p(ot[0],K,z,gt,it)),(nt=(U>=it)<<1|P>=gt)&&(ht=q[q.length-1],q[q.length-1]=q[q.length-1-nt],q[q.length-1-nt]=ht)}else{var _=P-+this._x.call(null,ot.data),ft=U-+this._y.call(null,ot.data),lt=_*_+ft*ft;if(lt<V){var at=Math.sqrt(V=lt);M=P-at,k=U-at,Q=P+at,H=U+at,B=ot.data}}return B}function r(P){if(isNaN(Q=+this._x.call(null,P))||isNaN(H=+this._y.call(null,P)))return this;var U,V=this._root,B,M,k,K=this._x0,z=this._y0,O=this._x1,C=this._y1,Q,H,q,ot,ht,nt,gt,it;if(!V)return this;if(V.length)for(;;){if((ht=Q>=(q=(K+O)/2))?K=q:O=q,(nt=H>=(ot=(z+C)/2))?z=ot:C=ot,U=V,!(V=V[gt=nt<<1|ht]))return this;if(!V.length)break;(U[gt+1&3]||U[gt+2&3]||U[gt+3&3])&&(B=U,it=gt)}for(;V.data!==P;)if(M=V,!(V=V.next))return this;return(k=V.next)&&delete V.next,M?(k?M.next=k:delete M.next,this):U?(k?U[gt]=k:delete U[gt],(V=U[0]||U[1]||U[2]||U[3])&&V===(U[3]||U[2]||U[1]||U[0])&&!V.length&&(B?B[it]=V:this._root=V),this):(this._root=k,this)}function o(P){for(var U=0,V=P.length;U<V;++U)this.remove(P[U]);return this}function a(){return this._root}function h(){var P=0;return this.visit(function(U){if(!U.length)do++P;while(U=U.next)}),P}function l(P){var U=[],V,B=this._root,M,k,K,z,O;for(B&&U.push(new p(B,this._x0,this._y0,this._x1,this._y1));V=U.pop();)if(!P(B=V.node,k=V.x0,K=V.y0,z=V.x1,O=V.y1)&&B.length){var C=(k+z)/2,Q=(K+O)/2;(M=B[3])&&U.push(new p(M,C,Q,z,O)),(M=B[2])&&U.push(new p(M,k,Q,C,O)),(M=B[1])&&U.push(new p(M,C,K,z,Q)),(M=B[0])&&U.push(new p(M,k,K,C,Q))}return this}function x(P){var U=[],V=[],B;for(this._root&&U.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));B=U.pop();){var M=B.node;if(M.length){var k,K=B.x0,z=B.y0,O=B.x1,C=B.y1,Q=(K+O)/2,H=(z+C)/2;(k=M[0])&&U.push(new p(k,K,z,Q,H)),(k=M[1])&&U.push(new p(k,Q,z,O,H)),(k=M[2])&&U.push(new p(k,K,H,Q,C)),(k=M[3])&&U.push(new p(k,Q,H,O,C))}V.push(B)}for(;B=V.pop();)P(B.node,B.x0,B.y0,B.x1,B.y1);return this}function Y(P){return P[0]}function $(P){return arguments.length?(this._x=P,this):this._x}function F(P){return P[1]}function X(P){return arguments.length?(this._y=P,this):this._y}function j(P,U,V){var B=new J(U==null?Y:U,V==null?F:V,NaN,NaN,NaN,NaN);return P==null?B:B.addAll(P)}function J(P,U,V,B,M,k){this._x=P,this._y=U,this._x0=V,this._y0=B,this._x1=M,this._y1=k,this._root=void 0}function L(P){for(var U={data:P.data},V=U;P=P.next;)V=V.next={data:P.data};return U}var T=j.prototype=J.prototype;T.copy=function(){var P=new J(this._x,this._y,this._x0,this._y0,this._x1,this._y1),U=this._root,V,B;if(!U)return P;if(!U.length)return P._root=L(U),P;for(V=[{source:U,target:P._root=new Array(4)}];U=V.pop();)for(var M=0;M<4;++M)(B=U.source[M])&&(B.length?V.push({source:B,target:U.target[M]=new Array(4)}):U.target[M]=L(B));return P},T.add=s,T.addAll=y,T.cover=D,T.data=v,T.extent=E,T.find=c,T.remove=r,T.removeAll=o,T.root=a,T.size=h,T.visit=l,T.visitAfter=x,T.x=$,T.y=X},91739:function(G,tt,i){"use strict";i.d(tt,{HT:function(){return Y}});var s=0,I=0,y=0,D=1e3,v,E,p=0,c=0,r=0,o=typeof performance=="object"&&performance.now?performance:Date,a=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(L){setTimeout(L,17)};function h(){return c||(a(l),c=o.now()+r)}function l(){c=0}function x(){this._call=this._time=this._next=null}x.prototype=Y.prototype={constructor:x,restart:function(L,T,P){if(typeof L!="function")throw new TypeError("callback is not a function");P=(P==null?h():+P)+(T==null?0:+T),!this._next&&E!==this&&(E?E._next=this:v=this,E=this),this._call=L,this._time=P,J()},stop:function(){this._call&&(this._call=null,this._time=1/0,J())}};function Y(L,T,P){var U=new x;return U.restart(L,T,P),U}function $(){h(),++s;for(var L=v,T;L;)(T=c-L._time)>=0&&L._call.call(void 0,T),L=L._next;--s}function F(){c=(p=o.now())+r,s=I=0;try{$()}finally{s=0,j(),c=0}}function X(){var L=o.now(),T=L-p;T>D&&(r-=T,p=L)}function j(){for(var L,T=v,P,U=1/0;T;)T._call?(U>T._time&&(U=T._time),L=T,T=T._next):(P=T._next,T._next=null,T=L?L._next=P:v=P);E=L,J(U)}function J(L){if(!s){I&&(I=clearTimeout(I));var T=L-c;T>24?(L<1/0&&(I=setTimeout(F,L-o.now()-r)),y&&(y=clearInterval(y))):(y||(p=o.now(),y=setInterval(X,D)),s=1,a(F))}}}}]);
}());