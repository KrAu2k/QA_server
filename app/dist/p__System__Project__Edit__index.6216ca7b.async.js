"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[478],{31199:function(S,j,e){var f=e(1413),t=e(91),O=e(67294),i=e(70386),c=e(85893),F=["fieldProps","min","proFieldProps","max"],v=function(l,g){var P=l.fieldProps,m=l.min,y=l.proFieldProps,T=l.max,A=(0,t.Z)(l,F);return(0,c.jsx)(i.Z,(0,f.Z)({valueType:"digit",fieldProps:(0,f.Z)({min:m,max:T},P),ref:g,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:y},A))},D=O.forwardRef(v);j.Z=D},52688:function(S,j,e){var f=e(1413),t=e(91),O=e(67294),i=e(70386),c=e(85893),F=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],v=O.forwardRef(function(D,E){var l=D.fieldProps,g=D.unCheckedChildren,P=D.checkedChildren,m=D.proFieldProps,y=(0,t.Z)(D,F);return(0,c.jsx)(i.Z,(0,f.Z)({valueType:"switch",fieldProps:(0,f.Z)({unCheckedChildren:g,checkedChildren:P},l),ref:E,valuePropName:"checked",proFieldProps:m,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},y))});j.Z=v},5966:function(S,j,e){var f=e(97685),t=e(1413),O=e(91),i=e(21770),c=e(77569),F=e(55241),v=e(98423),D=e(67294),E=e(70386),l=e(85893),g=["fieldProps","proFieldProps"],P=["fieldProps","proFieldProps"],m="text",y=function(o){var a=o.fieldProps,s=o.proFieldProps,B=(0,O.Z)(o,g);return(0,l.jsx)(E.Z,(0,t.Z)({valueType:m,fieldProps:a,filedConfig:{valueType:m},proFieldProps:s},B))},T=function(o){var a=(0,i.Z)(o.open||!1,{value:o.open,onChange:o.onOpenChange}),s=(0,f.Z)(a,2),B=s[0],W=s[1];return(0,l.jsx)(c.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(M){var Z,b=M.getFieldValue(o.name||[]);return(0,l.jsx)(F.Z,(0,t.Z)((0,t.Z)({getPopupContainer:function(d){return d&&d.parentNode?d.parentNode:d},onOpenChange:function(d){return W(d)},content:(0,l.jsxs)("div",{style:{padding:"4px 0"},children:[(Z=o.statusRender)===null||Z===void 0?void 0:Z.call(o,b),o.strengthText?(0,l.jsx)("div",{style:{marginTop:10},children:(0,l.jsx)("span",{children:o.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},o.popoverProps),{},{open:B,children:o.children}))}})},A=function(o){var a=o.fieldProps,s=o.proFieldProps,B=(0,O.Z)(o,P),W=(0,D.useState)(!1),x=(0,f.Z)(W,2),M=x[0],Z=x[1];return a!=null&&a.statusRender&&B.name?(0,l.jsx)(T,{name:B.name,statusRender:a==null?void 0:a.statusRender,popoverProps:a==null?void 0:a.popoverProps,strengthText:a==null?void 0:a.strengthText,open:M,onOpenChange:Z,children:(0,l.jsx)("div",{children:(0,l.jsx)(E.Z,(0,t.Z)({valueType:"password",fieldProps:(0,t.Z)((0,t.Z)({},(0,v.Z)(a,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(L){var d;a==null||(d=a.onBlur)===null||d===void 0||d.call(a,L),Z(!1)},onClick:function(L){var d;a==null||(d=a.onClick)===null||d===void 0||d.call(a,L),Z(!0)}}),proFieldProps:s,filedConfig:{valueType:m}},B))})}):(0,l.jsx)(E.Z,(0,t.Z)({valueType:"password",fieldProps:a,proFieldProps:s,filedConfig:{valueType:m}},B))},U=y;U.Password=A,U.displayName="ProFormComponent",j.Z=U},90672:function(S,j,e){var f=e(1413),t=e(91),O=e(67294),i=e(70386),c=e(85893),F=["fieldProps","proFieldProps"],v=function(E,l){var g=E.fieldProps,P=E.proFieldProps,m=(0,t.Z)(E,F);return(0,c.jsx)(i.Z,(0,f.Z)({ref:l,valueType:"textarea",fieldProps:g,proFieldProps:P},m))};j.Z=O.forwardRef(v)},88192:function(S,j,e){e.r(j);var f=e(19632),t=e.n(f),O=e(15009),i=e.n(O),c=e(99289),F=e.n(c),v=e(5574),D=e.n(v),E=e(67294),l=e(90930),g=e(97269),P=e(5966),m=e(90672),y=e(31199),T=e(52688),A=e(2453),U=e(4393),I=e(74330),o=e(45618),a=e(98323),s=e(85893),B=function(){var x=(0,o.useParams)(),M=x.id,Z=(0,E.useState)(null),b=D()(Z,2),L=b[0],d=b[1],G=(0,E.useState)(!0),K=D()(G,2),$=K[0],w=K[1];(0,E.useEffect)(function(){M&&u()},[M]);var u=function(){var n=F()(i()().mark(function r(){var p;return i()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,C.next=3,(0,a.e5)(M);case 3:p=C.sent,p.success&&p.data?d(p.data):(A.ZP.error(p.message||"\u83B7\u53D6\u9879\u76EE\u8BE6\u60C5\u5931\u8D25"),o.history.push("/system/project/list")),C.next=11;break;case 7:C.prev=7,C.t0=C.catch(0),A.ZP.error("\u83B7\u53D6\u9879\u76EE\u8BE6\u60C5\u5931\u8D25"),o.history.push("/system/project/list");case 11:return C.prev=11,w(!1),C.finish(11);case 14:case"end":return C.stop()}},r,null,[[0,7,11,14]])}));return function(){return n.apply(this,arguments)}}(),_=function(){var n=F()(i()().mark(function r(p){var h;return i()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,(0,a.ty)(M,p);case 3:h=R.sent,h.success?(A.ZP.success("\u66F4\u65B0\u9879\u76EE\u6210\u529F"),o.history.push("/system/project/list")):A.ZP.error(h.message||"\u66F4\u65B0\u9879\u76EE\u5931\u8D25"),R.next=10;break;case 7:R.prev=7,R.t0=R.catch(0),A.ZP.error("\u66F4\u65B0\u9879\u76EE\u5931\u8D25");case 10:case"end":return R.stop()}},r,null,[[0,7]])}));return function(p){return n.apply(this,arguments)}}();return $?(0,s.jsx)(l._z,{children:(0,s.jsx)(U.Z,{children:(0,s.jsx)(I.Z,{size:"large",style:{display:"block",textAlign:"center"}})})}):L?(0,s.jsx)(l._z,{children:(0,s.jsx)(U.Z,{children:(0,s.jsxs)(g.A,{layout:"horizontal",labelCol:{span:4},wrapperCol:{span:16},onFinish:_,initialValues:L,submitter:{render:function(r,p){return[].concat(t()(p),[(0,s.jsx)("button",{type:"button",onClick:function(){return o.history.push("/system/project/list")},style:{marginLeft:8,background:"none",border:"1px solid #d9d9d9",borderRadius:"2px",padding:"4px 15px",cursor:"pointer"},children:"\u53D6\u6D88"},"cancel")])}},children:[(0,s.jsx)(P.Z,{name:"name",label:"\u9879\u76EE\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0"},{max:255,message:"\u9879\u76EE\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC7255\u4E2A\u5B57\u7B26"}]}),(0,s.jsx)(m.Z,{name:"description",label:"\u9879\u76EE\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u63CF\u8FF0",fieldProps:{rows:4}}),(0,s.jsx)(P.Z,{name:"h5Url",label:"H5\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165H5\u5730\u5740\uFF0C\u5982: http://192.168.1.100:8000 \u6216 https://example.com",rules:[{required:!0,message:"\u8BF7\u8F93\u5165H5\u5730\u5740"},{pattern:/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}(\.[a-zA-Z0-9()]{1,6})?\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$|^https?:\/\/(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?(\/[-a-zA-Z0-9()@:%_\+.~#?&//=]*)?$/,message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\uFF0C\u652F\u6301\u57DF\u540D\u548CIP\u5730\u5740"}]}),(0,s.jsx)(P.Z,{name:"icon",label:"\u9879\u76EE\u56FE\u6807",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u56FE\u6807URL\uFF0C\u652F\u6301\u57DF\u540D\u548CIP\u5730\u5740",rules:[{pattern:/^$|^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}(\.[a-zA-Z0-9()]{1,6})?\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$|^https?:\/\/(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?(\/[-a-zA-Z0-9()@:%_\+.~#?&//=]*)?$/,message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u56FE\u6807URL\uFF0C\u652F\u6301\u57DF\u540D\u548CIP\u5730\u5740"}]}),(0,s.jsx)(y.Z,{name:"sortOrder",label:"\u6392\u5E8F\u6743\u91CD",placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F\u6743\u91CD",min:0,fieldProps:{precision:0},extra:"\u6570\u5B57\u8D8A\u5927\u8D8A\u9760\u524D\uFF0C\u9ED8\u8BA4\u4E3A0"}),(0,s.jsx)(T.Z,{name:"isActive",label:"\u662F\u5426\u542F\u7528"}),(0,s.jsx)(T.Z,{name:"enableUpdate",label:"\u542F\u7528\u66F4\u65B0\u6253\u5305\u529F\u80FD",extra:"\u542F\u7528\u540E\u53EF\u4EE5\u6267\u884C\u9879\u76EE\u66F4\u65B0\u6253\u5305\u547D\u4EE4"}),(0,s.jsx)(m.Z,{name:"updateCommand",label:"\u66F4\u65B0\u6253\u5305\u547D\u4EE4",placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u6253\u5305\u547D\u4EE4\uFF0C\u5982: svn update && npm run build",fieldProps:{rows:3},extra:"\u5C06\u5728\u6307\u5B9A\u76EE\u5F55\u4E0B\u6267\u884C\u6B64\u547D\u4EE4"}),(0,s.jsx)(P.Z,{name:"updateDirectory",label:"\u66F4\u65B0\u6253\u5305\u76EE\u5F55",placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u6253\u5305\u76EE\u5F55\u7684\u7EDD\u5BF9\u8DEF\u5F84",extra:"\u6267\u884C\u66F4\u65B0\u6253\u5305\u547D\u4EE4\u7684\u5DE5\u4F5C\u76EE\u5F55"}),(0,s.jsx)(T.Z,{name:"enableUpdateCode",label:"\u542F\u7528\u66F4\u65B0\u4EE3\u7801\u529F\u80FD",extra:"\u542F\u7528\u540E\u53EF\u4EE5\u6267\u884C\u9879\u76EE\u66F4\u65B0\u4EE3\u7801\u547D\u4EE4"}),(0,s.jsx)(m.Z,{name:"updateCodeCommand",label:"\u66F4\u65B0\u4EE3\u7801\u547D\u4EE4",placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u4EE3\u7801\u547D\u4EE4\uFF0C\u5982: git pull",fieldProps:{rows:3},extra:"\u5C06\u5728\u6307\u5B9A\u76EE\u5F55\u4E0B\u6267\u884C\u6B64\u547D\u4EE4"}),(0,s.jsx)(P.Z,{name:"updateCodeDirectory",label:"\u66F4\u65B0\u4EE3\u7801\u76EE\u5F55",placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u4EE3\u7801\u76EE\u5F55\u7684\u7EDD\u5BF9\u8DEF\u5F84",extra:"\u6267\u884C\u66F4\u65B0\u4EE3\u7801\u547D\u4EE4\u7684\u5DE5\u4F5C\u76EE\u5F55"})]})})}):null};j.default=B},98323:function(S,j,e){e.d(j,{$L:function(){return y},A4:function(){return Z},AF:function(){return l},Ms:function(){return a},e5:function(){return P},mW:function(){return F},th:function(){return I},ty:function(){return A},uh:function(){return $}});var f=e(15009),t=e.n(f),O=e(99289),i=e.n(O),c=e(45618);function F(u){return v.apply(this,arguments)}function v(){return v=i()(t()().mark(function u(_){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/projects",{method:"GET",params:_}));case 1:case"end":return r.stop()}},u)})),v.apply(this,arguments)}function D(){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function u(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/projects",{method:"GET"}));case 1:case"end":return n.stop()}},u)})),E.apply(this,arguments)}function l(){return g.apply(this,arguments)}function g(){return g=i()(t()().mark(function u(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/projects/active",{method:"GET"}));case 1:case"end":return n.stop()}},u)})),g.apply(this,arguments)}function P(u){return m.apply(this,arguments)}function m(){return m=i()(t()().mark(function u(_){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/projects/".concat(_),{method:"GET"}));case 1:case"end":return r.stop()}},u)})),m.apply(this,arguments)}function y(u){return T.apply(this,arguments)}function T(){return T=i()(t()().mark(function u(_){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/projects",{method:"POST",data:_}));case 1:case"end":return r.stop()}},u)})),T.apply(this,arguments)}function A(u,_){return U.apply(this,arguments)}function U(){return U=i()(t()().mark(function u(_,n){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,c.request)("/api/projects/".concat(_),{method:"PUT",data:n}));case 1:case"end":return p.stop()}},u)})),U.apply(this,arguments)}function I(u){return o.apply(this,arguments)}function o(){return o=i()(t()().mark(function u(_){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/projects/".concat(_),{method:"DELETE"}));case 1:case"end":return r.stop()}},u)})),o.apply(this,arguments)}function a(u,_){return s.apply(this,arguments)}function s(){return s=i()(t()().mark(function u(_,n){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,c.request)("/api/projects/batch-toggle-status",{method:"PUT",data:{ids:_,isActive:n}}));case 1:case"end":return p.stop()}},u)})),s.apply(this,arguments)}function B(u){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function u(_){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/projects/".concat(_,"/update"),{method:"POST"}));case 1:case"end":return r.stop()}},u)})),W.apply(this,arguments)}function x(u){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function u(_){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/projects/".concat(_,"/update-status"),{method:"GET"}));case 1:case"end":return r.stop()}},u)})),M.apply(this,arguments)}function Z(u){return b.apply(this,arguments)}function b(){return b=i()(t()().mark(function u(_){var n,r=arguments;return t()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n=r.length>1&&r[1]!==void 0?r[1]:10,h.abrupt("return",(0,c.request)("/api/projects/".concat(_,"/update-logs"),{method:"GET",params:{limit:n}}));case 2:case"end":return h.stop()}},u)})),b.apply(this,arguments)}function L(u){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function u(_){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/projects/".concat(_,"/update-code"),{method:"POST"}));case 1:case"end":return r.stop()}},u)})),d.apply(this,arguments)}function G(u){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function u(_){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/projects/".concat(_,"/update-code-status"),{method:"GET"}));case 1:case"end":return r.stop()}},u)})),K.apply(this,arguments)}function $(u){return w.apply(this,arguments)}function w(){return w=i()(t()().mark(function u(_){var n,r=arguments;return t()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n=r.length>1&&r[1]!==void 0?r[1]:10,h.abrupt("return",(0,c.request)("/api/projects/".concat(_,"/update-code-logs"),{method:"GET",params:{limit:n}}));case 2:case"end":return h.stop()}},u)})),w.apply(this,arguments)}}}]);
