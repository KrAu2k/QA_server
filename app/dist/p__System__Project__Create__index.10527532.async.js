"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[621],{31199:function(x,g,e){var h=e(1413),t=e(91),v=e(67294),i=e(70386),p=e(85893),j=["fieldProps","min","proFieldProps","max"],C=function(a,P){var M=a.fieldProps,d=a.min,T=a.proFieldProps,Z=a.max,L=(0,t.Z)(a,j);return(0,p.jsx)(i.Z,(0,h.Z)({valueType:"digit",fieldProps:(0,h.Z)({min:d,max:Z},M),ref:P,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:T},L))},f=v.forwardRef(C);g.Z=f},52688:function(x,g,e){var h=e(1413),t=e(91),v=e(67294),i=e(70386),p=e(85893),j=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],C=v.forwardRef(function(f,m){var a=f.fieldProps,P=f.unCheckedChildren,M=f.checkedChildren,d=f.proFieldProps,T=(0,t.Z)(f,j);return(0,p.jsx)(i.Z,(0,h.Z)({valueType:"switch",fieldProps:(0,h.Z)({unCheckedChildren:P,checkedChildren:M},a),ref:m,valuePropName:"checked",proFieldProps:d,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},T))});g.Z=C},5966:function(x,g,e){var h=e(97685),t=e(1413),v=e(91),i=e(21770),p=e(77569),j=e(55241),C=e(98423),f=e(67294),m=e(70386),a=e(85893),P=["fieldProps","proFieldProps"],M=["fieldProps","proFieldProps"],d="text",T=function(_){var n=_.fieldProps,D=_.proFieldProps,F=(0,v.Z)(_,P);return(0,a.jsx)(m.Z,(0,t.Z)({valueType:d,fieldProps:n,filedConfig:{valueType:d},proFieldProps:D},F))},Z=function(_){var n=(0,i.Z)(_.open||!1,{value:_.open,onChange:_.onOpenChange}),D=(0,h.Z)(n,2),F=D[0],A=D[1];return(0,a.jsx)(p.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(O){var U,c=O.getFieldValue(_.name||[]);return(0,a.jsx)(j.Z,(0,t.Z)((0,t.Z)({getPopupContainer:function(E){return E&&E.parentNode?E.parentNode:E},onOpenChange:function(E){return A(E)},content:(0,a.jsxs)("div",{style:{padding:"4px 0"},children:[(U=_.statusRender)===null||U===void 0?void 0:U.call(_,c),_.strengthText?(0,a.jsx)("div",{style:{marginTop:10},children:(0,a.jsx)("span",{children:_.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},_.popoverProps),{},{open:F,children:_.children}))}})},L=function(_){var n=_.fieldProps,D=_.proFieldProps,F=(0,v.Z)(_,M),A=(0,f.useState)(!1),b=(0,h.Z)(A,2),O=b[0],U=b[1];return n!=null&&n.statusRender&&F.name?(0,a.jsx)(Z,{name:F.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:O,onOpenChange:U,children:(0,a.jsx)("div",{children:(0,a.jsx)(m.Z,(0,t.Z)({valueType:"password",fieldProps:(0,t.Z)((0,t.Z)({},(0,C.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(W){var E;n==null||(E=n.onBlur)===null||E===void 0||E.call(n,W),U(!1)},onClick:function(W){var E;n==null||(E=n.onClick)===null||E===void 0||E.call(n,W),U(!0)}}),proFieldProps:D,filedConfig:{valueType:d}},F))})}):(0,a.jsx)(m.Z,(0,t.Z)({valueType:"password",fieldProps:n,proFieldProps:D,filedConfig:{valueType:d}},F))},R=T;R.Password=L,R.displayName="ProFormComponent",g.Z=R},90672:function(x,g,e){var h=e(1413),t=e(91),v=e(67294),i=e(70386),p=e(85893),j=["fieldProps","proFieldProps"],C=function(m,a){var P=m.fieldProps,M=m.proFieldProps,d=(0,t.Z)(m,j);return(0,p.jsx)(i.Z,(0,h.Z)({ref:a,valueType:"textarea",fieldProps:P,proFieldProps:M},d))};g.Z=v.forwardRef(C)},68442:function(x,g,e){e.r(g);var h=e(19632),t=e.n(h),v=e(15009),i=e.n(v),p=e(99289),j=e.n(p),C=e(67294),f=e(90930),m=e(97269),a=e(5966),P=e(90672),M=e(31199),d=e(52688),T=e(2453),Z=e(4393),L=e(45618),R=e(98323),l=e(85893),_=function(){var D=function(){var F=j()(i()().mark(function A(b){var O;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,R.$L)(b);case 3:O=c.sent,O.success?(T.ZP.success("\u521B\u5EFA\u9879\u76EE\u6210\u529F"),L.history.push("/system/project/list")):T.ZP.error(O.message||"\u521B\u5EFA\u9879\u76EE\u5931\u8D25"),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),T.ZP.error("\u521B\u5EFA\u9879\u76EE\u5931\u8D25");case 10:case"end":return c.stop()}},A,null,[[0,7]])}));return function(b){return F.apply(this,arguments)}}();return(0,l.jsx)(f._z,{children:(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(m.A,{layout:"horizontal",labelCol:{span:4},wrapperCol:{span:16},onFinish:D,submitter:{render:function(A,b){return[].concat(t()(b),[(0,l.jsx)("button",{type:"button",onClick:function(){return L.history.push("/system/project/list")},style:{marginLeft:8,background:"none",border:"1px solid #d9d9d9",borderRadius:"2px",padding:"4px 15px",cursor:"pointer"},children:"\u53D6\u6D88"},"cancel")])}},children:[(0,l.jsx)(a.Z,{name:"name",label:"\u9879\u76EE\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0"},{max:255,message:"\u9879\u76EE\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC7255\u4E2A\u5B57\u7B26"}]}),(0,l.jsx)(P.Z,{name:"description",label:"\u9879\u76EE\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u63CF\u8FF0",fieldProps:{rows:4}}),(0,l.jsx)(a.Z,{name:"h5Url",label:"H5\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165H5\u5730\u5740\uFF0C\u5982: http://192.168.1.100:8000 \u6216 https://example.com",rules:[{required:!0,message:"\u8BF7\u8F93\u5165H5\u5730\u5740"},{pattern:/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}(\.[a-zA-Z0-9()]{1,6})?\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$|^https?:\/\/(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?(\/[-a-zA-Z0-9()@:%_\+.~#?&//=]*)?$/,message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\uFF0C\u652F\u6301\u57DF\u540D\u548CIP\u5730\u5740"}]}),(0,l.jsx)(a.Z,{name:"icon",label:"\u9879\u76EE\u56FE\u6807",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u56FE\u6807URL\uFF0C\u652F\u6301\u57DF\u540D\u548CIP\u5730\u5740",rules:[{pattern:/^$|^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}(\.[a-zA-Z0-9()]{1,6})?\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$|^https?:\/\/(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?(\/[-a-zA-Z0-9()@:%_\+.~#?&//=]*)?$/,message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u56FE\u6807URL\uFF0C\u652F\u6301\u57DF\u540D\u548CIP\u5730\u5740"}]}),(0,l.jsx)(M.Z,{name:"sortOrder",label:"\u6392\u5E8F\u6743\u91CD",placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F\u6743\u91CD",min:0,fieldProps:{precision:0},extra:"\u6570\u5B57\u8D8A\u5927\u8D8A\u9760\u524D\uFF0C\u9ED8\u8BA4\u4E3A0",initialValue:0}),(0,l.jsx)(d.Z,{name:"isActive",label:"\u662F\u5426\u542F\u7528",initialValue:!0}),(0,l.jsx)(d.Z,{name:"enableUpdate",label:"\u542F\u7528\u66F4\u65B0\u6253\u5305\u529F\u80FD",initialValue:!1,extra:"\u542F\u7528\u540E\u53EF\u4EE5\u6267\u884C\u9879\u76EE\u66F4\u65B0\u6253\u5305\u547D\u4EE4"}),(0,l.jsx)(P.Z,{name:"updateCommand",label:"\u66F4\u65B0\u6253\u5305\u547D\u4EE4",placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u6253\u5305\u547D\u4EE4\uFF0C\u5982: svn update && npm run build",fieldProps:{rows:3},extra:"\u5C06\u5728\u6307\u5B9A\u76EE\u5F55\u4E0B\u6267\u884C\u6B64\u547D\u4EE4"}),(0,l.jsx)(a.Z,{name:"updateDirectory",label:"\u66F4\u65B0\u6253\u5305\u76EE\u5F55",placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u6253\u5305\u76EE\u5F55\u7684\u7EDD\u5BF9\u8DEF\u5F84",extra:"\u6267\u884C\u66F4\u65B0\u6253\u5305\u547D\u4EE4\u7684\u5DE5\u4F5C\u76EE\u5F55"}),(0,l.jsx)(d.Z,{name:"enableUpdateCode",label:"\u542F\u7528\u66F4\u65B0\u4EE3\u7801\u529F\u80FD",initialValue:!1,extra:"\u542F\u7528\u540E\u53EF\u4EE5\u6267\u884C\u9879\u76EE\u66F4\u65B0\u4EE3\u7801\u547D\u4EE4"}),(0,l.jsx)(P.Z,{name:"updateCodeCommand",label:"\u66F4\u65B0\u4EE3\u7801\u547D\u4EE4",placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u4EE3\u7801\u547D\u4EE4\uFF0C\u5982: git pull",fieldProps:{rows:3},extra:"\u5C06\u5728\u6307\u5B9A\u76EE\u5F55\u4E0B\u6267\u884C\u6B64\u547D\u4EE4"}),(0,l.jsx)(a.Z,{name:"updateCodeDirectory",label:"\u66F4\u65B0\u4EE3\u7801\u76EE\u5F55",placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u4EE3\u7801\u76EE\u5F55\u7684\u7EDD\u5BF9\u8DEF\u5F84",extra:"\u6267\u884C\u66F4\u65B0\u4EE3\u7801\u547D\u4EE4\u7684\u5DE5\u4F5C\u76EE\u5F55"})]})})})};g.default=_},98323:function(x,g,e){e.d(g,{$L:function(){return T},A4:function(){return U},AF:function(){return a},Ms:function(){return n},e5:function(){return M},mW:function(){return j},th:function(){return l},ty:function(){return L},uh:function(){return S}});var h=e(15009),t=e.n(h),v=e(99289),i=e.n(v),p=e(45618);function j(u){return C.apply(this,arguments)}function C(){return C=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/projects",{method:"GET",params:s}));case 1:case"end":return r.stop()}},u)})),C.apply(this,arguments)}function f(){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function u(){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("/api/projects",{method:"GET"}));case 1:case"end":return o.stop()}},u)})),m.apply(this,arguments)}function a(){return P.apply(this,arguments)}function P(){return P=i()(t()().mark(function u(){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/projects/active",{method:"GET"}));case 1:case"end":return o.stop()}},u)})),P.apply(this,arguments)}function M(u){return d.apply(this,arguments)}function d(){return d=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/projects/".concat(s),{method:"GET"}));case 1:case"end":return r.stop()}},u)})),d.apply(this,arguments)}function T(u){return Z.apply(this,arguments)}function Z(){return Z=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/projects",{method:"POST",data:s}));case 1:case"end":return r.stop()}},u)})),Z.apply(this,arguments)}function L(u,s){return R.apply(this,arguments)}function R(){return R=i()(t()().mark(function u(s,o){return t()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",(0,p.request)("/api/projects/".concat(s),{method:"PUT",data:o}));case 1:case"end":return B.stop()}},u)})),R.apply(this,arguments)}function l(u){return _.apply(this,arguments)}function _(){return _=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/projects/".concat(s),{method:"DELETE"}));case 1:case"end":return r.stop()}},u)})),_.apply(this,arguments)}function n(u,s){return D.apply(this,arguments)}function D(){return D=i()(t()().mark(function u(s,o){return t()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",(0,p.request)("/api/projects/batch-toggle-status",{method:"PUT",data:{ids:s,isActive:o}}));case 1:case"end":return B.stop()}},u)})),D.apply(this,arguments)}function F(u){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function u(s){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/projects/".concat(s,"/update"),{method:"POST"}));case 1:case"end":return r.stop()}},u)})),A.apply(this,arguments)}function b(u){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function u(s){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/projects/".concat(s,"/update-status"),{method:"GET"}));case 1:case"end":return r.stop()}},u)})),O.apply(this,arguments)}function U(u){return c.apply(this,arguments)}function c(){return c=i()(t()().mark(function u(s){var o,r=arguments;return t()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o=r.length>1&&r[1]!==void 0?r[1]:10,y.abrupt("return",(0,p.request)("/api/projects/".concat(s,"/update-logs"),{method:"GET",params:{limit:o}}));case 2:case"end":return y.stop()}},u)})),c.apply(this,arguments)}function W(u){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function u(s){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/projects/".concat(s,"/update-code"),{method:"POST"}));case 1:case"end":return r.stop()}},u)})),E.apply(this,arguments)}function w(u){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function u(s){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/projects/".concat(s,"/update-code-status"),{method:"GET"}));case 1:case"end":return r.stop()}},u)})),I.apply(this,arguments)}function S(u){return K.apply(this,arguments)}function K(){return K=i()(t()().mark(function u(s){var o,r=arguments;return t()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o=r.length>1&&r[1]!==void 0?r[1]:10,y.abrupt("return",(0,p.request)("/api/projects/".concat(s,"/update-code-logs"),{method:"GET",params:{limit:o}}));case 2:case"end":return y.stop()}},u)})),K.apply(this,arguments)}}}]);
